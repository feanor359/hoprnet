<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This Rust crate contains implementation of the Sphinx packet format for the HOPR protocol."><title>hopr_crypto_sphinx - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-42fa08075bb476ff.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="hopr_crypto_sphinx" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (363ae4188 2024-09-24)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-54bc299d2a5e4e43.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../hopr_crypto_sphinx/index.html">hopr_<wbr>crypto_<wbr>sphinx</a><span class="version">0.6.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#sphinx-shared-keys-derivation" title="SPHINX shared keys derivation">SPHINX shared keys derivation</a></li></ul><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>hopr_crypto_sphinx</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/hopr_crypto_sphinx/lib.rs.html#1-32">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This Rust crate contains implementation of the Sphinx packet format for the HOPR protocol.</p>
<h3 id="sphinx-shared-keys-derivation"><a class="doc-anchor" href="#sphinx-shared-keys-derivation">§</a>SPHINX shared keys derivation</h3>
<p>The architecture of the SPHINX shared key derivation is done generically, so it can work with any
elliptic curve group for which CDH problem is hard. The generic Sphinx implementation only
requires one to implement the <code>SphinxSuite</code> trait.</p>
<p>The trait requires to have the following building blocks:</p>
<ul>
<li>elliptic curve group (<a href="shared_keys/trait.GroupElement.html" title="trait hopr_crypto_sphinx::shared_keys::GroupElement">GroupElement</a>) and corresponding the scalar type (<a href="shared_keys/trait.Scalar.html" title="trait hopr_crypto_sphinx::shared_keys::Scalar">Scalar</a>)</li>
<li>type representing public and private keypair and their conversion to <a href="shared_keys/trait.Scalar.html" title="trait hopr_crypto_sphinx::shared_keys::Scalar">Scalar</a>
and <a href="shared_keys/trait.GroupElement.html" title="trait hopr_crypto_sphinx::shared_keys::GroupElement">GroupElement</a> (by the means of the corresponding <code>From</code> trait implementation)</li>
</ul>
<p>Currently, there are the following <a href="shared_keys/trait.SphinxSuite.html" title="trait hopr_crypto_sphinx::shared_keys::SphinxSuite">SphinxSuite</a> implementations :</p>
<ul>
<li><code>Secp256k1Suite</code>: deprecated, used in previous HOPR versions</li>
<li><code>Ed25519Suite</code>: simple implementation using Ed25519, used for testing</li>
<li><a href="ec_groups/struct.X25519Suite.html" title="struct hopr_crypto_sphinx::ec_groups::X25519Suite">X25519Suite</a> currently used, implemented using Curve25519 Montgomery curve for faster computation</li>
</ul>
<p>The implementation can be easily extended for different elliptic curves (or even arithmetic multiplicative groups).
In particular, as soon as there’s way to represent <code>Ed448</code> PeerIDs, it would be easy to create e.g. an <code>X448Suite</code>.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="derivation/index.html" title="mod hopr_crypto_sphinx::derivation">derivation</a></div><div class="desc docblock-short">Contains simple key derivation functions for different purposes</div></li><li><div class="item-name"><a class="mod" href="ec_groups/index.html" title="mod hopr_crypto_sphinx::ec_groups">ec_<wbr>groups</a></div><div class="desc docblock-short">Implementations of <code>SphinxSuite</code> trait for different elliptic curve groups</div></li><li><div class="item-name"><a class="mod" href="prp/index.html" title="mod hopr_crypto_sphinx::prp">prp</a></div><div class="desc docblock-short">Implementation of the Lioness wide-block cipher using Chacha20 and Blake2b256</div></li><li><div class="item-name"><a class="mod" href="routing/index.html" title="mod hopr_crypto_sphinx::routing">routing</a></div><div class="desc docblock-short">Implementation of the SPHINX header format</div></li><li><div class="item-name"><a class="mod" href="shared_keys/index.html" title="mod hopr_crypto_sphinx::shared_keys">shared_<wbr>keys</a></div><div class="desc docblock-short">Derivation of shared keys for SPHINX header</div></li></ul></section></div></main></body></html>