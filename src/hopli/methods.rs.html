<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source of the Rust file `hopli/src/methods.rs`."><title>methods.rs - source</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-42fa08075bb476ff.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="hopli" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (363ae4188 2024-09-24)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../../static.files/src-script-e66d777a5a92e9b2.js"></script><script defer src="../../src-files.js"></script><script defer src="../../static.files/main-54bc299d2a5e4e43.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc src"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="src-sidebar-title"><h2>Files</h2></div></nav><div class="sidebar-resizer"></div><main><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1><div class="sub-heading">hopli/</div>methods.rs</h1><rustdoc-toolbar></rustdoc-toolbar></div><div class="example-wrap"><div data-nosnippet><pre class="src-line-numbers">
<a href="#1" id="1">1</a>
<a href="#2" id="2">2</a>
<a href="#3" id="3">3</a>
<a href="#4" id="4">4</a>
<a href="#5" id="5">5</a>
<a href="#6" id="6">6</a>
<a href="#7" id="7">7</a>
<a href="#8" id="8">8</a>
<a href="#9" id="9">9</a>
<a href="#10" id="10">10</a>
<a href="#11" id="11">11</a>
<a href="#12" id="12">12</a>
<a href="#13" id="13">13</a>
<a href="#14" id="14">14</a>
<a href="#15" id="15">15</a>
<a href="#16" id="16">16</a>
<a href="#17" id="17">17</a>
<a href="#18" id="18">18</a>
<a href="#19" id="19">19</a>
<a href="#20" id="20">20</a>
<a href="#21" id="21">21</a>
<a href="#22" id="22">22</a>
<a href="#23" id="23">23</a>
<a href="#24" id="24">24</a>
<a href="#25" id="25">25</a>
<a href="#26" id="26">26</a>
<a href="#27" id="27">27</a>
<a href="#28" id="28">28</a>
<a href="#29" id="29">29</a>
<a href="#30" id="30">30</a>
<a href="#31" id="31">31</a>
<a href="#32" id="32">32</a>
<a href="#33" id="33">33</a>
<a href="#34" id="34">34</a>
<a href="#35" id="35">35</a>
<a href="#36" id="36">36</a>
<a href="#37" id="37">37</a>
<a href="#38" id="38">38</a>
<a href="#39" id="39">39</a>
<a href="#40" id="40">40</a>
<a href="#41" id="41">41</a>
<a href="#42" id="42">42</a>
<a href="#43" id="43">43</a>
<a href="#44" id="44">44</a>
<a href="#45" id="45">45</a>
<a href="#46" id="46">46</a>
<a href="#47" id="47">47</a>
<a href="#48" id="48">48</a>
<a href="#49" id="49">49</a>
<a href="#50" id="50">50</a>
<a href="#51" id="51">51</a>
<a href="#52" id="52">52</a>
<a href="#53" id="53">53</a>
<a href="#54" id="54">54</a>
<a href="#55" id="55">55</a>
<a href="#56" id="56">56</a>
<a href="#57" id="57">57</a>
<a href="#58" id="58">58</a>
<a href="#59" id="59">59</a>
<a href="#60" id="60">60</a>
<a href="#61" id="61">61</a>
<a href="#62" id="62">62</a>
<a href="#63" id="63">63</a>
<a href="#64" id="64">64</a>
<a href="#65" id="65">65</a>
<a href="#66" id="66">66</a>
<a href="#67" id="67">67</a>
<a href="#68" id="68">68</a>
<a href="#69" id="69">69</a>
<a href="#70" id="70">70</a>
<a href="#71" id="71">71</a>
<a href="#72" id="72">72</a>
<a href="#73" id="73">73</a>
<a href="#74" id="74">74</a>
<a href="#75" id="75">75</a>
<a href="#76" id="76">76</a>
<a href="#77" id="77">77</a>
<a href="#78" id="78">78</a>
<a href="#79" id="79">79</a>
<a href="#80" id="80">80</a>
<a href="#81" id="81">81</a>
<a href="#82" id="82">82</a>
<a href="#83" id="83">83</a>
<a href="#84" id="84">84</a>
<a href="#85" id="85">85</a>
<a href="#86" id="86">86</a>
<a href="#87" id="87">87</a>
<a href="#88" id="88">88</a>
<a href="#89" id="89">89</a>
<a href="#90" id="90">90</a>
<a href="#91" id="91">91</a>
<a href="#92" id="92">92</a>
<a href="#93" id="93">93</a>
<a href="#94" id="94">94</a>
<a href="#95" id="95">95</a>
<a href="#96" id="96">96</a>
<a href="#97" id="97">97</a>
<a href="#98" id="98">98</a>
<a href="#99" id="99">99</a>
<a href="#100" id="100">100</a>
<a href="#101" id="101">101</a>
<a href="#102" id="102">102</a>
<a href="#103" id="103">103</a>
<a href="#104" id="104">104</a>
<a href="#105" id="105">105</a>
<a href="#106" id="106">106</a>
<a href="#107" id="107">107</a>
<a href="#108" id="108">108</a>
<a href="#109" id="109">109</a>
<a href="#110" id="110">110</a>
<a href="#111" id="111">111</a>
<a href="#112" id="112">112</a>
<a href="#113" id="113">113</a>
<a href="#114" id="114">114</a>
<a href="#115" id="115">115</a>
<a href="#116" id="116">116</a>
<a href="#117" id="117">117</a>
<a href="#118" id="118">118</a>
<a href="#119" id="119">119</a>
<a href="#120" id="120">120</a>
<a href="#121" id="121">121</a>
<a href="#122" id="122">122</a>
<a href="#123" id="123">123</a>
<a href="#124" id="124">124</a>
<a href="#125" id="125">125</a>
<a href="#126" id="126">126</a>
<a href="#127" id="127">127</a>
<a href="#128" id="128">128</a>
<a href="#129" id="129">129</a>
<a href="#130" id="130">130</a>
<a href="#131" id="131">131</a>
<a href="#132" id="132">132</a>
<a href="#133" id="133">133</a>
<a href="#134" id="134">134</a>
<a href="#135" id="135">135</a>
<a href="#136" id="136">136</a>
<a href="#137" id="137">137</a>
<a href="#138" id="138">138</a>
<a href="#139" id="139">139</a>
<a href="#140" id="140">140</a>
<a href="#141" id="141">141</a>
<a href="#142" id="142">142</a>
<a href="#143" id="143">143</a>
<a href="#144" id="144">144</a>
<a href="#145" id="145">145</a>
<a href="#146" id="146">146</a>
<a href="#147" id="147">147</a>
<a href="#148" id="148">148</a>
<a href="#149" id="149">149</a>
<a href="#150" id="150">150</a>
<a href="#151" id="151">151</a>
<a href="#152" id="152">152</a>
<a href="#153" id="153">153</a>
<a href="#154" id="154">154</a>
<a href="#155" id="155">155</a>
<a href="#156" id="156">156</a>
<a href="#157" id="157">157</a>
<a href="#158" id="158">158</a>
<a href="#159" id="159">159</a>
<a href="#160" id="160">160</a>
<a href="#161" id="161">161</a>
<a href="#162" id="162">162</a>
<a href="#163" id="163">163</a>
<a href="#164" id="164">164</a>
<a href="#165" id="165">165</a>
<a href="#166" id="166">166</a>
<a href="#167" id="167">167</a>
<a href="#168" id="168">168</a>
<a href="#169" id="169">169</a>
<a href="#170" id="170">170</a>
<a href="#171" id="171">171</a>
<a href="#172" id="172">172</a>
<a href="#173" id="173">173</a>
<a href="#174" id="174">174</a>
<a href="#175" id="175">175</a>
<a href="#176" id="176">176</a>
<a href="#177" id="177">177</a>
<a href="#178" id="178">178</a>
<a href="#179" id="179">179</a>
<a href="#180" id="180">180</a>
<a href="#181" id="181">181</a>
<a href="#182" id="182">182</a>
<a href="#183" id="183">183</a>
<a href="#184" id="184">184</a>
<a href="#185" id="185">185</a>
<a href="#186" id="186">186</a>
<a href="#187" id="187">187</a>
<a href="#188" id="188">188</a>
<a href="#189" id="189">189</a>
<a href="#190" id="190">190</a>
<a href="#191" id="191">191</a>
<a href="#192" id="192">192</a>
<a href="#193" id="193">193</a>
<a href="#194" id="194">194</a>
<a href="#195" id="195">195</a>
<a href="#196" id="196">196</a>
<a href="#197" id="197">197</a>
<a href="#198" id="198">198</a>
<a href="#199" id="199">199</a>
<a href="#200" id="200">200</a>
<a href="#201" id="201">201</a>
<a href="#202" id="202">202</a>
<a href="#203" id="203">203</a>
<a href="#204" id="204">204</a>
<a href="#205" id="205">205</a>
<a href="#206" id="206">206</a>
<a href="#207" id="207">207</a>
<a href="#208" id="208">208</a>
<a href="#209" id="209">209</a>
<a href="#210" id="210">210</a>
<a href="#211" id="211">211</a>
<a href="#212" id="212">212</a>
<a href="#213" id="213">213</a>
<a href="#214" id="214">214</a>
<a href="#215" id="215">215</a>
<a href="#216" id="216">216</a>
<a href="#217" id="217">217</a>
<a href="#218" id="218">218</a>
<a href="#219" id="219">219</a>
<a href="#220" id="220">220</a>
<a href="#221" id="221">221</a>
<a href="#222" id="222">222</a>
<a href="#223" id="223">223</a>
<a href="#224" id="224">224</a>
<a href="#225" id="225">225</a>
<a href="#226" id="226">226</a>
<a href="#227" id="227">227</a>
<a href="#228" id="228">228</a>
<a href="#229" id="229">229</a>
<a href="#230" id="230">230</a>
<a href="#231" id="231">231</a>
<a href="#232" id="232">232</a>
<a href="#233" id="233">233</a>
<a href="#234" id="234">234</a>
<a href="#235" id="235">235</a>
<a href="#236" id="236">236</a>
<a href="#237" id="237">237</a>
<a href="#238" id="238">238</a>
<a href="#239" id="239">239</a>
<a href="#240" id="240">240</a>
<a href="#241" id="241">241</a>
<a href="#242" id="242">242</a>
<a href="#243" id="243">243</a>
<a href="#244" id="244">244</a>
<a href="#245" id="245">245</a>
<a href="#246" id="246">246</a>
<a href="#247" id="247">247</a>
<a href="#248" id="248">248</a>
<a href="#249" id="249">249</a>
<a href="#250" id="250">250</a>
<a href="#251" id="251">251</a>
<a href="#252" id="252">252</a>
<a href="#253" id="253">253</a>
<a href="#254" id="254">254</a>
<a href="#255" id="255">255</a>
<a href="#256" id="256">256</a>
<a href="#257" id="257">257</a>
<a href="#258" id="258">258</a>
<a href="#259" id="259">259</a>
<a href="#260" id="260">260</a>
<a href="#261" id="261">261</a>
<a href="#262" id="262">262</a>
<a href="#263" id="263">263</a>
<a href="#264" id="264">264</a>
<a href="#265" id="265">265</a>
<a href="#266" id="266">266</a>
<a href="#267" id="267">267</a>
<a href="#268" id="268">268</a>
<a href="#269" id="269">269</a>
<a href="#270" id="270">270</a>
<a href="#271" id="271">271</a>
<a href="#272" id="272">272</a>
<a href="#273" id="273">273</a>
<a href="#274" id="274">274</a>
<a href="#275" id="275">275</a>
<a href="#276" id="276">276</a>
<a href="#277" id="277">277</a>
<a href="#278" id="278">278</a>
<a href="#279" id="279">279</a>
<a href="#280" id="280">280</a>
<a href="#281" id="281">281</a>
<a href="#282" id="282">282</a>
<a href="#283" id="283">283</a>
<a href="#284" id="284">284</a>
<a href="#285" id="285">285</a>
<a href="#286" id="286">286</a>
<a href="#287" id="287">287</a>
<a href="#288" id="288">288</a>
<a href="#289" id="289">289</a>
<a href="#290" id="290">290</a>
<a href="#291" id="291">291</a>
<a href="#292" id="292">292</a>
<a href="#293" id="293">293</a>
<a href="#294" id="294">294</a>
<a href="#295" id="295">295</a>
<a href="#296" id="296">296</a>
<a href="#297" id="297">297</a>
<a href="#298" id="298">298</a>
<a href="#299" id="299">299</a>
<a href="#300" id="300">300</a>
<a href="#301" id="301">301</a>
<a href="#302" id="302">302</a>
<a href="#303" id="303">303</a>
<a href="#304" id="304">304</a>
<a href="#305" id="305">305</a>
<a href="#306" id="306">306</a>
<a href="#307" id="307">307</a>
<a href="#308" id="308">308</a>
<a href="#309" id="309">309</a>
<a href="#310" id="310">310</a>
<a href="#311" id="311">311</a>
<a href="#312" id="312">312</a>
<a href="#313" id="313">313</a>
<a href="#314" id="314">314</a>
<a href="#315" id="315">315</a>
<a href="#316" id="316">316</a>
<a href="#317" id="317">317</a>
<a href="#318" id="318">318</a>
<a href="#319" id="319">319</a>
<a href="#320" id="320">320</a>
<a href="#321" id="321">321</a>
<a href="#322" id="322">322</a>
<a href="#323" id="323">323</a>
<a href="#324" id="324">324</a>
<a href="#325" id="325">325</a>
<a href="#326" id="326">326</a>
<a href="#327" id="327">327</a>
<a href="#328" id="328">328</a>
<a href="#329" id="329">329</a>
<a href="#330" id="330">330</a>
<a href="#331" id="331">331</a>
<a href="#332" id="332">332</a>
<a href="#333" id="333">333</a>
<a href="#334" id="334">334</a>
<a href="#335" id="335">335</a>
<a href="#336" id="336">336</a>
<a href="#337" id="337">337</a>
<a href="#338" id="338">338</a>
<a href="#339" id="339">339</a>
<a href="#340" id="340">340</a>
<a href="#341" id="341">341</a>
<a href="#342" id="342">342</a>
<a href="#343" id="343">343</a>
<a href="#344" id="344">344</a>
<a href="#345" id="345">345</a>
<a href="#346" id="346">346</a>
<a href="#347" id="347">347</a>
<a href="#348" id="348">348</a>
<a href="#349" id="349">349</a>
<a href="#350" id="350">350</a>
<a href="#351" id="351">351</a>
<a href="#352" id="352">352</a>
<a href="#353" id="353">353</a>
<a href="#354" id="354">354</a>
<a href="#355" id="355">355</a>
<a href="#356" id="356">356</a>
<a href="#357" id="357">357</a>
<a href="#358" id="358">358</a>
<a href="#359" id="359">359</a>
<a href="#360" id="360">360</a>
<a href="#361" id="361">361</a>
<a href="#362" id="362">362</a>
<a href="#363" id="363">363</a>
<a href="#364" id="364">364</a>
<a href="#365" id="365">365</a>
<a href="#366" id="366">366</a>
<a href="#367" id="367">367</a>
<a href="#368" id="368">368</a>
<a href="#369" id="369">369</a>
<a href="#370" id="370">370</a>
<a href="#371" id="371">371</a>
<a href="#372" id="372">372</a>
<a href="#373" id="373">373</a>
<a href="#374" id="374">374</a>
<a href="#375" id="375">375</a>
<a href="#376" id="376">376</a>
<a href="#377" id="377">377</a>
<a href="#378" id="378">378</a>
<a href="#379" id="379">379</a>
<a href="#380" id="380">380</a>
<a href="#381" id="381">381</a>
<a href="#382" id="382">382</a>
<a href="#383" id="383">383</a>
<a href="#384" id="384">384</a>
<a href="#385" id="385">385</a>
<a href="#386" id="386">386</a>
<a href="#387" id="387">387</a>
<a href="#388" id="388">388</a>
<a href="#389" id="389">389</a>
<a href="#390" id="390">390</a>
<a href="#391" id="391">391</a>
<a href="#392" id="392">392</a>
<a href="#393" id="393">393</a>
<a href="#394" id="394">394</a>
<a href="#395" id="395">395</a>
<a href="#396" id="396">396</a>
<a href="#397" id="397">397</a>
<a href="#398" id="398">398</a>
<a href="#399" id="399">399</a>
<a href="#400" id="400">400</a>
<a href="#401" id="401">401</a>
<a href="#402" id="402">402</a>
<a href="#403" id="403">403</a>
<a href="#404" id="404">404</a>
<a href="#405" id="405">405</a>
<a href="#406" id="406">406</a>
<a href="#407" id="407">407</a>
<a href="#408" id="408">408</a>
<a href="#409" id="409">409</a>
<a href="#410" id="410">410</a>
<a href="#411" id="411">411</a>
<a href="#412" id="412">412</a>
<a href="#413" id="413">413</a>
<a href="#414" id="414">414</a>
<a href="#415" id="415">415</a>
<a href="#416" id="416">416</a>
<a href="#417" id="417">417</a>
<a href="#418" id="418">418</a>
<a href="#419" id="419">419</a>
<a href="#420" id="420">420</a>
<a href="#421" id="421">421</a>
<a href="#422" id="422">422</a>
<a href="#423" id="423">423</a>
<a href="#424" id="424">424</a>
<a href="#425" id="425">425</a>
<a href="#426" id="426">426</a>
<a href="#427" id="427">427</a>
<a href="#428" id="428">428</a>
<a href="#429" id="429">429</a>
<a href="#430" id="430">430</a>
<a href="#431" id="431">431</a>
<a href="#432" id="432">432</a>
<a href="#433" id="433">433</a>
<a href="#434" id="434">434</a>
<a href="#435" id="435">435</a>
<a href="#436" id="436">436</a>
<a href="#437" id="437">437</a>
<a href="#438" id="438">438</a>
<a href="#439" id="439">439</a>
<a href="#440" id="440">440</a>
<a href="#441" id="441">441</a>
<a href="#442" id="442">442</a>
<a href="#443" id="443">443</a>
<a href="#444" id="444">444</a>
<a href="#445" id="445">445</a>
<a href="#446" id="446">446</a>
<a href="#447" id="447">447</a>
<a href="#448" id="448">448</a>
<a href="#449" id="449">449</a>
<a href="#450" id="450">450</a>
<a href="#451" id="451">451</a>
<a href="#452" id="452">452</a>
<a href="#453" id="453">453</a>
<a href="#454" id="454">454</a>
<a href="#455" id="455">455</a>
<a href="#456" id="456">456</a>
<a href="#457" id="457">457</a>
<a href="#458" id="458">458</a>
<a href="#459" id="459">459</a>
<a href="#460" id="460">460</a>
<a href="#461" id="461">461</a>
<a href="#462" id="462">462</a>
<a href="#463" id="463">463</a>
<a href="#464" id="464">464</a>
<a href="#465" id="465">465</a>
<a href="#466" id="466">466</a>
<a href="#467" id="467">467</a>
<a href="#468" id="468">468</a>
<a href="#469" id="469">469</a>
<a href="#470" id="470">470</a>
<a href="#471" id="471">471</a>
<a href="#472" id="472">472</a>
<a href="#473" id="473">473</a>
<a href="#474" id="474">474</a>
<a href="#475" id="475">475</a>
<a href="#476" id="476">476</a>
<a href="#477" id="477">477</a>
<a href="#478" id="478">478</a>
<a href="#479" id="479">479</a>
<a href="#480" id="480">480</a>
<a href="#481" id="481">481</a>
<a href="#482" id="482">482</a>
<a href="#483" id="483">483</a>
<a href="#484" id="484">484</a>
<a href="#485" id="485">485</a>
<a href="#486" id="486">486</a>
<a href="#487" id="487">487</a>
<a href="#488" id="488">488</a>
<a href="#489" id="489">489</a>
<a href="#490" id="490">490</a>
<a href="#491" id="491">491</a>
<a href="#492" id="492">492</a>
<a href="#493" id="493">493</a>
<a href="#494" id="494">494</a>
<a href="#495" id="495">495</a>
<a href="#496" id="496">496</a>
<a href="#497" id="497">497</a>
<a href="#498" id="498">498</a>
<a href="#499" id="499">499</a>
<a href="#500" id="500">500</a>
<a href="#501" id="501">501</a>
<a href="#502" id="502">502</a>
<a href="#503" id="503">503</a>
<a href="#504" id="504">504</a>
<a href="#505" id="505">505</a>
<a href="#506" id="506">506</a>
<a href="#507" id="507">507</a>
<a href="#508" id="508">508</a>
<a href="#509" id="509">509</a>
<a href="#510" id="510">510</a>
<a href="#511" id="511">511</a>
<a href="#512" id="512">512</a>
<a href="#513" id="513">513</a>
<a href="#514" id="514">514</a>
<a href="#515" id="515">515</a>
<a href="#516" id="516">516</a>
<a href="#517" id="517">517</a>
<a href="#518" id="518">518</a>
<a href="#519" id="519">519</a>
<a href="#520" id="520">520</a>
<a href="#521" id="521">521</a>
<a href="#522" id="522">522</a>
<a href="#523" id="523">523</a>
<a href="#524" id="524">524</a>
<a href="#525" id="525">525</a>
<a href="#526" id="526">526</a>
<a href="#527" id="527">527</a>
<a href="#528" id="528">528</a>
<a href="#529" id="529">529</a>
<a href="#530" id="530">530</a>
<a href="#531" id="531">531</a>
<a href="#532" id="532">532</a>
<a href="#533" id="533">533</a>
<a href="#534" id="534">534</a>
<a href="#535" id="535">535</a>
<a href="#536" id="536">536</a>
<a href="#537" id="537">537</a>
<a href="#538" id="538">538</a>
<a href="#539" id="539">539</a>
<a href="#540" id="540">540</a>
<a href="#541" id="541">541</a>
<a href="#542" id="542">542</a>
<a href="#543" id="543">543</a>
<a href="#544" id="544">544</a>
<a href="#545" id="545">545</a>
<a href="#546" id="546">546</a>
<a href="#547" id="547">547</a>
<a href="#548" id="548">548</a>
<a href="#549" id="549">549</a>
<a href="#550" id="550">550</a>
<a href="#551" id="551">551</a>
<a href="#552" id="552">552</a>
<a href="#553" id="553">553</a>
<a href="#554" id="554">554</a>
<a href="#555" id="555">555</a>
<a href="#556" id="556">556</a>
<a href="#557" id="557">557</a>
<a href="#558" id="558">558</a>
<a href="#559" id="559">559</a>
<a href="#560" id="560">560</a>
<a href="#561" id="561">561</a>
<a href="#562" id="562">562</a>
<a href="#563" id="563">563</a>
<a href="#564" id="564">564</a>
<a href="#565" id="565">565</a>
<a href="#566" id="566">566</a>
<a href="#567" id="567">567</a>
<a href="#568" id="568">568</a>
<a href="#569" id="569">569</a>
<a href="#570" id="570">570</a>
<a href="#571" id="571">571</a>
<a href="#572" id="572">572</a>
<a href="#573" id="573">573</a>
<a href="#574" id="574">574</a>
<a href="#575" id="575">575</a>
<a href="#576" id="576">576</a>
<a href="#577" id="577">577</a>
<a href="#578" id="578">578</a>
<a href="#579" id="579">579</a>
<a href="#580" id="580">580</a>
<a href="#581" id="581">581</a>
<a href="#582" id="582">582</a>
<a href="#583" id="583">583</a>
<a href="#584" id="584">584</a>
<a href="#585" id="585">585</a>
<a href="#586" id="586">586</a>
<a href="#587" id="587">587</a>
<a href="#588" id="588">588</a>
<a href="#589" id="589">589</a>
<a href="#590" id="590">590</a>
<a href="#591" id="591">591</a>
<a href="#592" id="592">592</a>
<a href="#593" id="593">593</a>
<a href="#594" id="594">594</a>
<a href="#595" id="595">595</a>
<a href="#596" id="596">596</a>
<a href="#597" id="597">597</a>
<a href="#598" id="598">598</a>
<a href="#599" id="599">599</a>
<a href="#600" id="600">600</a>
<a href="#601" id="601">601</a>
<a href="#602" id="602">602</a>
<a href="#603" id="603">603</a>
<a href="#604" id="604">604</a>
<a href="#605" id="605">605</a>
<a href="#606" id="606">606</a>
<a href="#607" id="607">607</a>
<a href="#608" id="608">608</a>
<a href="#609" id="609">609</a>
<a href="#610" id="610">610</a>
<a href="#611" id="611">611</a>
<a href="#612" id="612">612</a>
<a href="#613" id="613">613</a>
<a href="#614" id="614">614</a>
<a href="#615" id="615">615</a>
<a href="#616" id="616">616</a>
<a href="#617" id="617">617</a>
<a href="#618" id="618">618</a>
<a href="#619" id="619">619</a>
<a href="#620" id="620">620</a>
<a href="#621" id="621">621</a>
<a href="#622" id="622">622</a>
<a href="#623" id="623">623</a>
<a href="#624" id="624">624</a>
<a href="#625" id="625">625</a>
<a href="#626" id="626">626</a>
<a href="#627" id="627">627</a>
<a href="#628" id="628">628</a>
<a href="#629" id="629">629</a>
<a href="#630" id="630">630</a>
<a href="#631" id="631">631</a>
<a href="#632" id="632">632</a>
<a href="#633" id="633">633</a>
<a href="#634" id="634">634</a>
<a href="#635" id="635">635</a>
<a href="#636" id="636">636</a>
<a href="#637" id="637">637</a>
<a href="#638" id="638">638</a>
<a href="#639" id="639">639</a>
<a href="#640" id="640">640</a>
<a href="#641" id="641">641</a>
<a href="#642" id="642">642</a>
<a href="#643" id="643">643</a>
<a href="#644" id="644">644</a>
<a href="#645" id="645">645</a>
<a href="#646" id="646">646</a>
<a href="#647" id="647">647</a>
<a href="#648" id="648">648</a>
<a href="#649" id="649">649</a>
<a href="#650" id="650">650</a>
<a href="#651" id="651">651</a>
<a href="#652" id="652">652</a>
<a href="#653" id="653">653</a>
<a href="#654" id="654">654</a>
<a href="#655" id="655">655</a>
<a href="#656" id="656">656</a>
<a href="#657" id="657">657</a>
<a href="#658" id="658">658</a>
<a href="#659" id="659">659</a>
<a href="#660" id="660">660</a>
<a href="#661" id="661">661</a>
<a href="#662" id="662">662</a>
<a href="#663" id="663">663</a>
<a href="#664" id="664">664</a>
<a href="#665" id="665">665</a>
<a href="#666" id="666">666</a>
<a href="#667" id="667">667</a>
<a href="#668" id="668">668</a>
<a href="#669" id="669">669</a>
<a href="#670" id="670">670</a>
<a href="#671" id="671">671</a>
<a href="#672" id="672">672</a>
<a href="#673" id="673">673</a>
<a href="#674" id="674">674</a>
<a href="#675" id="675">675</a>
<a href="#676" id="676">676</a>
<a href="#677" id="677">677</a>
<a href="#678" id="678">678</a>
<a href="#679" id="679">679</a>
<a href="#680" id="680">680</a>
<a href="#681" id="681">681</a>
<a href="#682" id="682">682</a>
<a href="#683" id="683">683</a>
<a href="#684" id="684">684</a>
<a href="#685" id="685">685</a>
<a href="#686" id="686">686</a>
<a href="#687" id="687">687</a>
<a href="#688" id="688">688</a>
<a href="#689" id="689">689</a>
<a href="#690" id="690">690</a>
<a href="#691" id="691">691</a>
<a href="#692" id="692">692</a>
<a href="#693" id="693">693</a>
<a href="#694" id="694">694</a>
<a href="#695" id="695">695</a>
<a href="#696" id="696">696</a>
<a href="#697" id="697">697</a>
<a href="#698" id="698">698</a>
<a href="#699" id="699">699</a>
<a href="#700" id="700">700</a>
<a href="#701" id="701">701</a>
<a href="#702" id="702">702</a>
<a href="#703" id="703">703</a>
<a href="#704" id="704">704</a>
<a href="#705" id="705">705</a>
<a href="#706" id="706">706</a>
<a href="#707" id="707">707</a>
<a href="#708" id="708">708</a>
<a href="#709" id="709">709</a>
<a href="#710" id="710">710</a>
<a href="#711" id="711">711</a>
<a href="#712" id="712">712</a>
<a href="#713" id="713">713</a>
<a href="#714" id="714">714</a>
<a href="#715" id="715">715</a>
<a href="#716" id="716">716</a>
<a href="#717" id="717">717</a>
<a href="#718" id="718">718</a>
<a href="#719" id="719">719</a>
<a href="#720" id="720">720</a>
<a href="#721" id="721">721</a>
<a href="#722" id="722">722</a>
<a href="#723" id="723">723</a>
<a href="#724" id="724">724</a>
<a href="#725" id="725">725</a>
<a href="#726" id="726">726</a>
<a href="#727" id="727">727</a>
<a href="#728" id="728">728</a>
<a href="#729" id="729">729</a>
<a href="#730" id="730">730</a>
<a href="#731" id="731">731</a>
<a href="#732" id="732">732</a>
<a href="#733" id="733">733</a>
<a href="#734" id="734">734</a>
<a href="#735" id="735">735</a>
<a href="#736" id="736">736</a>
<a href="#737" id="737">737</a>
<a href="#738" id="738">738</a>
<a href="#739" id="739">739</a>
<a href="#740" id="740">740</a>
<a href="#741" id="741">741</a>
<a href="#742" id="742">742</a>
<a href="#743" id="743">743</a>
<a href="#744" id="744">744</a>
<a href="#745" id="745">745</a>
<a href="#746" id="746">746</a>
<a href="#747" id="747">747</a>
<a href="#748" id="748">748</a>
<a href="#749" id="749">749</a>
<a href="#750" id="750">750</a>
<a href="#751" id="751">751</a>
<a href="#752" id="752">752</a>
<a href="#753" id="753">753</a>
<a href="#754" id="754">754</a>
<a href="#755" id="755">755</a>
<a href="#756" id="756">756</a>
<a href="#757" id="757">757</a>
<a href="#758" id="758">758</a>
<a href="#759" id="759">759</a>
<a href="#760" id="760">760</a>
<a href="#761" id="761">761</a>
<a href="#762" id="762">762</a>
<a href="#763" id="763">763</a>
<a href="#764" id="764">764</a>
<a href="#765" id="765">765</a>
<a href="#766" id="766">766</a>
<a href="#767" id="767">767</a>
<a href="#768" id="768">768</a>
<a href="#769" id="769">769</a>
<a href="#770" id="770">770</a>
<a href="#771" id="771">771</a>
<a href="#772" id="772">772</a>
<a href="#773" id="773">773</a>
<a href="#774" id="774">774</a>
<a href="#775" id="775">775</a>
<a href="#776" id="776">776</a>
<a href="#777" id="777">777</a>
<a href="#778" id="778">778</a>
<a href="#779" id="779">779</a>
<a href="#780" id="780">780</a>
<a href="#781" id="781">781</a>
<a href="#782" id="782">782</a>
<a href="#783" id="783">783</a>
<a href="#784" id="784">784</a>
<a href="#785" id="785">785</a>
<a href="#786" id="786">786</a>
<a href="#787" id="787">787</a>
<a href="#788" id="788">788</a>
<a href="#789" id="789">789</a>
<a href="#790" id="790">790</a>
<a href="#791" id="791">791</a>
<a href="#792" id="792">792</a>
<a href="#793" id="793">793</a>
<a href="#794" id="794">794</a>
<a href="#795" id="795">795</a>
<a href="#796" id="796">796</a>
<a href="#797" id="797">797</a>
<a href="#798" id="798">798</a>
<a href="#799" id="799">799</a>
<a href="#800" id="800">800</a>
<a href="#801" id="801">801</a>
<a href="#802" id="802">802</a>
<a href="#803" id="803">803</a>
<a href="#804" id="804">804</a>
<a href="#805" id="805">805</a>
<a href="#806" id="806">806</a>
<a href="#807" id="807">807</a>
<a href="#808" id="808">808</a>
<a href="#809" id="809">809</a>
<a href="#810" id="810">810</a>
<a href="#811" id="811">811</a>
<a href="#812" id="812">812</a>
<a href="#813" id="813">813</a>
<a href="#814" id="814">814</a>
<a href="#815" id="815">815</a>
<a href="#816" id="816">816</a>
<a href="#817" id="817">817</a>
<a href="#818" id="818">818</a>
<a href="#819" id="819">819</a>
<a href="#820" id="820">820</a>
<a href="#821" id="821">821</a>
<a href="#822" id="822">822</a>
<a href="#823" id="823">823</a>
<a href="#824" id="824">824</a>
<a href="#825" id="825">825</a>
<a href="#826" id="826">826</a>
<a href="#827" id="827">827</a>
<a href="#828" id="828">828</a>
<a href="#829" id="829">829</a>
<a href="#830" id="830">830</a>
<a href="#831" id="831">831</a>
<a href="#832" id="832">832</a>
<a href="#833" id="833">833</a>
<a href="#834" id="834">834</a>
<a href="#835" id="835">835</a>
<a href="#836" id="836">836</a>
<a href="#837" id="837">837</a>
<a href="#838" id="838">838</a>
<a href="#839" id="839">839</a>
<a href="#840" id="840">840</a>
<a href="#841" id="841">841</a>
<a href="#842" id="842">842</a>
<a href="#843" id="843">843</a>
<a href="#844" id="844">844</a>
<a href="#845" id="845">845</a>
<a href="#846" id="846">846</a>
<a href="#847" id="847">847</a>
<a href="#848" id="848">848</a>
<a href="#849" id="849">849</a>
<a href="#850" id="850">850</a>
<a href="#851" id="851">851</a>
<a href="#852" id="852">852</a>
<a href="#853" id="853">853</a>
<a href="#854" id="854">854</a>
<a href="#855" id="855">855</a>
<a href="#856" id="856">856</a>
<a href="#857" id="857">857</a>
<a href="#858" id="858">858</a>
<a href="#859" id="859">859</a>
<a href="#860" id="860">860</a>
<a href="#861" id="861">861</a>
<a href="#862" id="862">862</a>
<a href="#863" id="863">863</a>
<a href="#864" id="864">864</a>
<a href="#865" id="865">865</a>
<a href="#866" id="866">866</a>
<a href="#867" id="867">867</a>
<a href="#868" id="868">868</a>
<a href="#869" id="869">869</a>
<a href="#870" id="870">870</a>
<a href="#871" id="871">871</a>
<a href="#872" id="872">872</a>
<a href="#873" id="873">873</a>
<a href="#874" id="874">874</a>
<a href="#875" id="875">875</a>
<a href="#876" id="876">876</a>
<a href="#877" id="877">877</a>
<a href="#878" id="878">878</a>
<a href="#879" id="879">879</a>
<a href="#880" id="880">880</a>
<a href="#881" id="881">881</a>
<a href="#882" id="882">882</a>
<a href="#883" id="883">883</a>
<a href="#884" id="884">884</a>
<a href="#885" id="885">885</a>
<a href="#886" id="886">886</a>
<a href="#887" id="887">887</a>
<a href="#888" id="888">888</a>
<a href="#889" id="889">889</a>
<a href="#890" id="890">890</a>
<a href="#891" id="891">891</a>
<a href="#892" id="892">892</a>
<a href="#893" id="893">893</a>
<a href="#894" id="894">894</a>
<a href="#895" id="895">895</a>
<a href="#896" id="896">896</a>
<a href="#897" id="897">897</a>
<a href="#898" id="898">898</a>
<a href="#899" id="899">899</a>
<a href="#900" id="900">900</a>
<a href="#901" id="901">901</a>
<a href="#902" id="902">902</a>
<a href="#903" id="903">903</a>
<a href="#904" id="904">904</a>
<a href="#905" id="905">905</a>
<a href="#906" id="906">906</a>
<a href="#907" id="907">907</a>
<a href="#908" id="908">908</a>
<a href="#909" id="909">909</a>
<a href="#910" id="910">910</a>
<a href="#911" id="911">911</a>
<a href="#912" id="912">912</a>
<a href="#913" id="913">913</a>
<a href="#914" id="914">914</a>
<a href="#915" id="915">915</a>
<a href="#916" id="916">916</a>
<a href="#917" id="917">917</a>
<a href="#918" id="918">918</a>
<a href="#919" id="919">919</a>
<a href="#920" id="920">920</a>
<a href="#921" id="921">921</a>
<a href="#922" id="922">922</a>
<a href="#923" id="923">923</a>
<a href="#924" id="924">924</a>
<a href="#925" id="925">925</a>
<a href="#926" id="926">926</a>
<a href="#927" id="927">927</a>
<a href="#928" id="928">928</a>
<a href="#929" id="929">929</a>
<a href="#930" id="930">930</a>
<a href="#931" id="931">931</a>
<a href="#932" id="932">932</a>
<a href="#933" id="933">933</a>
<a href="#934" id="934">934</a>
<a href="#935" id="935">935</a>
<a href="#936" id="936">936</a>
<a href="#937" id="937">937</a>
<a href="#938" id="938">938</a>
<a href="#939" id="939">939</a>
<a href="#940" id="940">940</a>
<a href="#941" id="941">941</a>
<a href="#942" id="942">942</a>
<a href="#943" id="943">943</a>
<a href="#944" id="944">944</a>
<a href="#945" id="945">945</a>
<a href="#946" id="946">946</a>
<a href="#947" id="947">947</a>
<a href="#948" id="948">948</a>
<a href="#949" id="949">949</a>
<a href="#950" id="950">950</a>
<a href="#951" id="951">951</a>
<a href="#952" id="952">952</a>
<a href="#953" id="953">953</a>
<a href="#954" id="954">954</a>
<a href="#955" id="955">955</a>
<a href="#956" id="956">956</a>
<a href="#957" id="957">957</a>
<a href="#958" id="958">958</a>
<a href="#959" id="959">959</a>
<a href="#960" id="960">960</a>
<a href="#961" id="961">961</a>
<a href="#962" id="962">962</a>
<a href="#963" id="963">963</a>
<a href="#964" id="964">964</a>
<a href="#965" id="965">965</a>
<a href="#966" id="966">966</a>
<a href="#967" id="967">967</a>
<a href="#968" id="968">968</a>
<a href="#969" id="969">969</a>
<a href="#970" id="970">970</a>
<a href="#971" id="971">971</a>
<a href="#972" id="972">972</a>
<a href="#973" id="973">973</a>
<a href="#974" id="974">974</a>
<a href="#975" id="975">975</a>
<a href="#976" id="976">976</a>
<a href="#977" id="977">977</a>
<a href="#978" id="978">978</a>
<a href="#979" id="979">979</a>
<a href="#980" id="980">980</a>
<a href="#981" id="981">981</a>
<a href="#982" id="982">982</a>
<a href="#983" id="983">983</a>
<a href="#984" id="984">984</a>
<a href="#985" id="985">985</a>
<a href="#986" id="986">986</a>
<a href="#987" id="987">987</a>
<a href="#988" id="988">988</a>
<a href="#989" id="989">989</a>
<a href="#990" id="990">990</a>
<a href="#991" id="991">991</a>
<a href="#992" id="992">992</a>
<a href="#993" id="993">993</a>
<a href="#994" id="994">994</a>
<a href="#995" id="995">995</a>
<a href="#996" id="996">996</a>
<a href="#997" id="997">997</a>
<a href="#998" id="998">998</a>
<a href="#999" id="999">999</a>
<a href="#1000" id="1000">1000</a>
<a href="#1001" id="1001">1001</a>
<a href="#1002" id="1002">1002</a>
<a href="#1003" id="1003">1003</a>
<a href="#1004" id="1004">1004</a>
<a href="#1005" id="1005">1005</a>
<a href="#1006" id="1006">1006</a>
<a href="#1007" id="1007">1007</a>
<a href="#1008" id="1008">1008</a>
<a href="#1009" id="1009">1009</a>
<a href="#1010" id="1010">1010</a>
<a href="#1011" id="1011">1011</a>
<a href="#1012" id="1012">1012</a>
<a href="#1013" id="1013">1013</a>
<a href="#1014" id="1014">1014</a>
<a href="#1015" id="1015">1015</a>
<a href="#1016" id="1016">1016</a>
<a href="#1017" id="1017">1017</a>
<a href="#1018" id="1018">1018</a>
<a href="#1019" id="1019">1019</a>
<a href="#1020" id="1020">1020</a>
<a href="#1021" id="1021">1021</a>
<a href="#1022" id="1022">1022</a>
<a href="#1023" id="1023">1023</a>
<a href="#1024" id="1024">1024</a>
<a href="#1025" id="1025">1025</a>
<a href="#1026" id="1026">1026</a>
<a href="#1027" id="1027">1027</a>
<a href="#1028" id="1028">1028</a>
<a href="#1029" id="1029">1029</a>
<a href="#1030" id="1030">1030</a>
<a href="#1031" id="1031">1031</a>
<a href="#1032" id="1032">1032</a>
<a href="#1033" id="1033">1033</a>
<a href="#1034" id="1034">1034</a>
<a href="#1035" id="1035">1035</a>
<a href="#1036" id="1036">1036</a>
<a href="#1037" id="1037">1037</a>
<a href="#1038" id="1038">1038</a>
<a href="#1039" id="1039">1039</a>
<a href="#1040" id="1040">1040</a>
<a href="#1041" id="1041">1041</a>
<a href="#1042" id="1042">1042</a>
<a href="#1043" id="1043">1043</a>
<a href="#1044" id="1044">1044</a>
<a href="#1045" id="1045">1045</a>
<a href="#1046" id="1046">1046</a>
<a href="#1047" id="1047">1047</a>
<a href="#1048" id="1048">1048</a>
<a href="#1049" id="1049">1049</a>
<a href="#1050" id="1050">1050</a>
<a href="#1051" id="1051">1051</a>
<a href="#1052" id="1052">1052</a>
<a href="#1053" id="1053">1053</a>
<a href="#1054" id="1054">1054</a>
<a href="#1055" id="1055">1055</a>
<a href="#1056" id="1056">1056</a>
<a href="#1057" id="1057">1057</a>
<a href="#1058" id="1058">1058</a>
<a href="#1059" id="1059">1059</a>
<a href="#1060" id="1060">1060</a>
<a href="#1061" id="1061">1061</a>
<a href="#1062" id="1062">1062</a>
<a href="#1063" id="1063">1063</a>
<a href="#1064" id="1064">1064</a>
<a href="#1065" id="1065">1065</a>
<a href="#1066" id="1066">1066</a>
<a href="#1067" id="1067">1067</a>
<a href="#1068" id="1068">1068</a>
<a href="#1069" id="1069">1069</a>
<a href="#1070" id="1070">1070</a>
<a href="#1071" id="1071">1071</a>
<a href="#1072" id="1072">1072</a>
<a href="#1073" id="1073">1073</a>
<a href="#1074" id="1074">1074</a>
<a href="#1075" id="1075">1075</a>
<a href="#1076" id="1076">1076</a>
<a href="#1077" id="1077">1077</a>
<a href="#1078" id="1078">1078</a>
<a href="#1079" id="1079">1079</a>
<a href="#1080" id="1080">1080</a>
<a href="#1081" id="1081">1081</a>
<a href="#1082" id="1082">1082</a>
<a href="#1083" id="1083">1083</a>
<a href="#1084" id="1084">1084</a>
<a href="#1085" id="1085">1085</a>
<a href="#1086" id="1086">1086</a>
<a href="#1087" id="1087">1087</a>
<a href="#1088" id="1088">1088</a>
<a href="#1089" id="1089">1089</a>
<a href="#1090" id="1090">1090</a>
<a href="#1091" id="1091">1091</a>
<a href="#1092" id="1092">1092</a>
<a href="#1093" id="1093">1093</a>
<a href="#1094" id="1094">1094</a>
<a href="#1095" id="1095">1095</a>
<a href="#1096" id="1096">1096</a>
<a href="#1097" id="1097">1097</a>
<a href="#1098" id="1098">1098</a>
<a href="#1099" id="1099">1099</a>
<a href="#1100" id="1100">1100</a>
<a href="#1101" id="1101">1101</a>
<a href="#1102" id="1102">1102</a>
<a href="#1103" id="1103">1103</a>
<a href="#1104" id="1104">1104</a>
<a href="#1105" id="1105">1105</a>
<a href="#1106" id="1106">1106</a>
<a href="#1107" id="1107">1107</a>
<a href="#1108" id="1108">1108</a>
<a href="#1109" id="1109">1109</a>
<a href="#1110" id="1110">1110</a>
<a href="#1111" id="1111">1111</a>
<a href="#1112" id="1112">1112</a>
<a href="#1113" id="1113">1113</a>
<a href="#1114" id="1114">1114</a>
<a href="#1115" id="1115">1115</a>
<a href="#1116" id="1116">1116</a>
<a href="#1117" id="1117">1117</a>
<a href="#1118" id="1118">1118</a>
<a href="#1119" id="1119">1119</a>
<a href="#1120" id="1120">1120</a>
<a href="#1121" id="1121">1121</a>
<a href="#1122" id="1122">1122</a>
<a href="#1123" id="1123">1123</a>
<a href="#1124" id="1124">1124</a>
<a href="#1125" id="1125">1125</a>
<a href="#1126" id="1126">1126</a>
<a href="#1127" id="1127">1127</a>
<a href="#1128" id="1128">1128</a>
<a href="#1129" id="1129">1129</a>
<a href="#1130" id="1130">1130</a>
<a href="#1131" id="1131">1131</a>
<a href="#1132" id="1132">1132</a>
<a href="#1133" id="1133">1133</a>
<a href="#1134" id="1134">1134</a>
<a href="#1135" id="1135">1135</a>
<a href="#1136" id="1136">1136</a>
<a href="#1137" id="1137">1137</a>
<a href="#1138" id="1138">1138</a>
<a href="#1139" id="1139">1139</a>
<a href="#1140" id="1140">1140</a>
<a href="#1141" id="1141">1141</a>
<a href="#1142" id="1142">1142</a>
<a href="#1143" id="1143">1143</a>
<a href="#1144" id="1144">1144</a>
<a href="#1145" id="1145">1145</a>
<a href="#1146" id="1146">1146</a>
<a href="#1147" id="1147">1147</a>
<a href="#1148" id="1148">1148</a>
<a href="#1149" id="1149">1149</a>
<a href="#1150" id="1150">1150</a>
<a href="#1151" id="1151">1151</a>
<a href="#1152" id="1152">1152</a>
<a href="#1153" id="1153">1153</a>
<a href="#1154" id="1154">1154</a>
<a href="#1155" id="1155">1155</a>
<a href="#1156" id="1156">1156</a>
<a href="#1157" id="1157">1157</a>
<a href="#1158" id="1158">1158</a>
<a href="#1159" id="1159">1159</a>
<a href="#1160" id="1160">1160</a>
<a href="#1161" id="1161">1161</a>
<a href="#1162" id="1162">1162</a>
<a href="#1163" id="1163">1163</a>
<a href="#1164" id="1164">1164</a>
<a href="#1165" id="1165">1165</a>
<a href="#1166" id="1166">1166</a>
<a href="#1167" id="1167">1167</a>
<a href="#1168" id="1168">1168</a>
<a href="#1169" id="1169">1169</a>
<a href="#1170" id="1170">1170</a>
<a href="#1171" id="1171">1171</a>
<a href="#1172" id="1172">1172</a>
<a href="#1173" id="1173">1173</a>
<a href="#1174" id="1174">1174</a>
<a href="#1175" id="1175">1175</a>
<a href="#1176" id="1176">1176</a>
<a href="#1177" id="1177">1177</a>
<a href="#1178" id="1178">1178</a>
<a href="#1179" id="1179">1179</a>
<a href="#1180" id="1180">1180</a>
<a href="#1181" id="1181">1181</a>
<a href="#1182" id="1182">1182</a>
<a href="#1183" id="1183">1183</a>
<a href="#1184" id="1184">1184</a>
<a href="#1185" id="1185">1185</a>
<a href="#1186" id="1186">1186</a>
<a href="#1187" id="1187">1187</a>
<a href="#1188" id="1188">1188</a>
<a href="#1189" id="1189">1189</a>
<a href="#1190" id="1190">1190</a>
<a href="#1191" id="1191">1191</a>
<a href="#1192" id="1192">1192</a>
<a href="#1193" id="1193">1193</a>
<a href="#1194" id="1194">1194</a>
<a href="#1195" id="1195">1195</a>
<a href="#1196" id="1196">1196</a>
<a href="#1197" id="1197">1197</a>
<a href="#1198" id="1198">1198</a>
<a href="#1199" id="1199">1199</a>
<a href="#1200" id="1200">1200</a>
<a href="#1201" id="1201">1201</a>
<a href="#1202" id="1202">1202</a>
<a href="#1203" id="1203">1203</a>
<a href="#1204" id="1204">1204</a>
<a href="#1205" id="1205">1205</a>
<a href="#1206" id="1206">1206</a>
<a href="#1207" id="1207">1207</a>
<a href="#1208" id="1208">1208</a>
<a href="#1209" id="1209">1209</a>
<a href="#1210" id="1210">1210</a>
<a href="#1211" id="1211">1211</a>
<a href="#1212" id="1212">1212</a>
<a href="#1213" id="1213">1213</a>
<a href="#1214" id="1214">1214</a>
<a href="#1215" id="1215">1215</a>
<a href="#1216" id="1216">1216</a>
<a href="#1217" id="1217">1217</a>
<a href="#1218" id="1218">1218</a>
<a href="#1219" id="1219">1219</a>
<a href="#1220" id="1220">1220</a>
<a href="#1221" id="1221">1221</a>
<a href="#1222" id="1222">1222</a>
<a href="#1223" id="1223">1223</a>
<a href="#1224" id="1224">1224</a>
<a href="#1225" id="1225">1225</a>
<a href="#1226" id="1226">1226</a>
<a href="#1227" id="1227">1227</a>
<a href="#1228" id="1228">1228</a>
<a href="#1229" id="1229">1229</a>
<a href="#1230" id="1230">1230</a>
<a href="#1231" id="1231">1231</a>
<a href="#1232" id="1232">1232</a>
<a href="#1233" id="1233">1233</a>
<a href="#1234" id="1234">1234</a>
<a href="#1235" id="1235">1235</a>
<a href="#1236" id="1236">1236</a>
<a href="#1237" id="1237">1237</a>
<a href="#1238" id="1238">1238</a>
<a href="#1239" id="1239">1239</a>
<a href="#1240" id="1240">1240</a>
<a href="#1241" id="1241">1241</a>
<a href="#1242" id="1242">1242</a>
<a href="#1243" id="1243">1243</a>
<a href="#1244" id="1244">1244</a>
<a href="#1245" id="1245">1245</a>
<a href="#1246" id="1246">1246</a>
<a href="#1247" id="1247">1247</a>
<a href="#1248" id="1248">1248</a>
<a href="#1249" id="1249">1249</a>
<a href="#1250" id="1250">1250</a>
<a href="#1251" id="1251">1251</a>
<a href="#1252" id="1252">1252</a>
<a href="#1253" id="1253">1253</a>
<a href="#1254" id="1254">1254</a>
<a href="#1255" id="1255">1255</a>
<a href="#1256" id="1256">1256</a>
<a href="#1257" id="1257">1257</a>
<a href="#1258" id="1258">1258</a>
<a href="#1259" id="1259">1259</a>
<a href="#1260" id="1260">1260</a>
<a href="#1261" id="1261">1261</a>
<a href="#1262" id="1262">1262</a>
<a href="#1263" id="1263">1263</a>
<a href="#1264" id="1264">1264</a>
<a href="#1265" id="1265">1265</a>
<a href="#1266" id="1266">1266</a>
<a href="#1267" id="1267">1267</a>
<a href="#1268" id="1268">1268</a>
<a href="#1269" id="1269">1269</a>
<a href="#1270" id="1270">1270</a>
<a href="#1271" id="1271">1271</a>
<a href="#1272" id="1272">1272</a>
<a href="#1273" id="1273">1273</a>
<a href="#1274" id="1274">1274</a>
<a href="#1275" id="1275">1275</a>
<a href="#1276" id="1276">1276</a>
<a href="#1277" id="1277">1277</a>
<a href="#1278" id="1278">1278</a>
<a href="#1279" id="1279">1279</a>
<a href="#1280" id="1280">1280</a>
<a href="#1281" id="1281">1281</a>
<a href="#1282" id="1282">1282</a>
<a href="#1283" id="1283">1283</a>
<a href="#1284" id="1284">1284</a>
<a href="#1285" id="1285">1285</a>
<a href="#1286" id="1286">1286</a>
<a href="#1287" id="1287">1287</a>
<a href="#1288" id="1288">1288</a>
<a href="#1289" id="1289">1289</a>
<a href="#1290" id="1290">1290</a>
<a href="#1291" id="1291">1291</a>
<a href="#1292" id="1292">1292</a>
<a href="#1293" id="1293">1293</a>
<a href="#1294" id="1294">1294</a>
<a href="#1295" id="1295">1295</a>
<a href="#1296" id="1296">1296</a>
<a href="#1297" id="1297">1297</a>
<a href="#1298" id="1298">1298</a>
<a href="#1299" id="1299">1299</a>
<a href="#1300" id="1300">1300</a>
<a href="#1301" id="1301">1301</a>
<a href="#1302" id="1302">1302</a>
<a href="#1303" id="1303">1303</a>
<a href="#1304" id="1304">1304</a>
<a href="#1305" id="1305">1305</a>
<a href="#1306" id="1306">1306</a>
<a href="#1307" id="1307">1307</a>
<a href="#1308" id="1308">1308</a>
<a href="#1309" id="1309">1309</a>
<a href="#1310" id="1310">1310</a>
<a href="#1311" id="1311">1311</a>
<a href="#1312" id="1312">1312</a>
<a href="#1313" id="1313">1313</a>
<a href="#1314" id="1314">1314</a>
<a href="#1315" id="1315">1315</a>
<a href="#1316" id="1316">1316</a>
<a href="#1317" id="1317">1317</a>
<a href="#1318" id="1318">1318</a>
<a href="#1319" id="1319">1319</a>
<a href="#1320" id="1320">1320</a>
<a href="#1321" id="1321">1321</a>
<a href="#1322" id="1322">1322</a>
<a href="#1323" id="1323">1323</a>
<a href="#1324" id="1324">1324</a>
<a href="#1325" id="1325">1325</a>
<a href="#1326" id="1326">1326</a>
<a href="#1327" id="1327">1327</a>
<a href="#1328" id="1328">1328</a>
<a href="#1329" id="1329">1329</a>
<a href="#1330" id="1330">1330</a>
<a href="#1331" id="1331">1331</a>
<a href="#1332" id="1332">1332</a>
<a href="#1333" id="1333">1333</a>
<a href="#1334" id="1334">1334</a>
<a href="#1335" id="1335">1335</a>
<a href="#1336" id="1336">1336</a>
<a href="#1337" id="1337">1337</a>
<a href="#1338" id="1338">1338</a>
<a href="#1339" id="1339">1339</a>
<a href="#1340" id="1340">1340</a>
<a href="#1341" id="1341">1341</a>
<a href="#1342" id="1342">1342</a>
<a href="#1343" id="1343">1343</a>
<a href="#1344" id="1344">1344</a>
<a href="#1345" id="1345">1345</a>
<a href="#1346" id="1346">1346</a>
<a href="#1347" id="1347">1347</a>
<a href="#1348" id="1348">1348</a>
<a href="#1349" id="1349">1349</a>
<a href="#1350" id="1350">1350</a>
<a href="#1351" id="1351">1351</a>
<a href="#1352" id="1352">1352</a>
<a href="#1353" id="1353">1353</a>
<a href="#1354" id="1354">1354</a>
<a href="#1355" id="1355">1355</a>
<a href="#1356" id="1356">1356</a>
<a href="#1357" id="1357">1357</a>
<a href="#1358" id="1358">1358</a>
<a href="#1359" id="1359">1359</a>
<a href="#1360" id="1360">1360</a>
<a href="#1361" id="1361">1361</a>
<a href="#1362" id="1362">1362</a>
<a href="#1363" id="1363">1363</a>
<a href="#1364" id="1364">1364</a>
<a href="#1365" id="1365">1365</a>
<a href="#1366" id="1366">1366</a>
<a href="#1367" id="1367">1367</a>
<a href="#1368" id="1368">1368</a>
<a href="#1369" id="1369">1369</a>
<a href="#1370" id="1370">1370</a>
<a href="#1371" id="1371">1371</a>
<a href="#1372" id="1372">1372</a>
<a href="#1373" id="1373">1373</a>
<a href="#1374" id="1374">1374</a>
<a href="#1375" id="1375">1375</a>
<a href="#1376" id="1376">1376</a>
<a href="#1377" id="1377">1377</a>
<a href="#1378" id="1378">1378</a>
<a href="#1379" id="1379">1379</a>
<a href="#1380" id="1380">1380</a>
<a href="#1381" id="1381">1381</a>
<a href="#1382" id="1382">1382</a>
<a href="#1383" id="1383">1383</a>
<a href="#1384" id="1384">1384</a>
<a href="#1385" id="1385">1385</a>
<a href="#1386" id="1386">1386</a>
<a href="#1387" id="1387">1387</a>
<a href="#1388" id="1388">1388</a>
<a href="#1389" id="1389">1389</a>
<a href="#1390" id="1390">1390</a>
<a href="#1391" id="1391">1391</a>
<a href="#1392" id="1392">1392</a>
<a href="#1393" id="1393">1393</a>
<a href="#1394" id="1394">1394</a>
<a href="#1395" id="1395">1395</a>
<a href="#1396" id="1396">1396</a>
<a href="#1397" id="1397">1397</a>
<a href="#1398" id="1398">1398</a>
<a href="#1399" id="1399">1399</a>
<a href="#1400" id="1400">1400</a>
<a href="#1401" id="1401">1401</a>
<a href="#1402" id="1402">1402</a>
<a href="#1403" id="1403">1403</a>
<a href="#1404" id="1404">1404</a>
<a href="#1405" id="1405">1405</a>
<a href="#1406" id="1406">1406</a>
<a href="#1407" id="1407">1407</a>
<a href="#1408" id="1408">1408</a>
<a href="#1409" id="1409">1409</a>
<a href="#1410" id="1410">1410</a>
<a href="#1411" id="1411">1411</a>
<a href="#1412" id="1412">1412</a>
<a href="#1413" id="1413">1413</a>
<a href="#1414" id="1414">1414</a>
<a href="#1415" id="1415">1415</a>
<a href="#1416" id="1416">1416</a>
<a href="#1417" id="1417">1417</a>
<a href="#1418" id="1418">1418</a>
<a href="#1419" id="1419">1419</a>
<a href="#1420" id="1420">1420</a>
<a href="#1421" id="1421">1421</a>
<a href="#1422" id="1422">1422</a>
<a href="#1423" id="1423">1423</a>
<a href="#1424" id="1424">1424</a>
<a href="#1425" id="1425">1425</a>
<a href="#1426" id="1426">1426</a>
<a href="#1427" id="1427">1427</a>
<a href="#1428" id="1428">1428</a>
<a href="#1429" id="1429">1429</a>
<a href="#1430" id="1430">1430</a>
<a href="#1431" id="1431">1431</a>
<a href="#1432" id="1432">1432</a>
<a href="#1433" id="1433">1433</a>
<a href="#1434" id="1434">1434</a>
<a href="#1435" id="1435">1435</a>
<a href="#1436" id="1436">1436</a>
<a href="#1437" id="1437">1437</a>
<a href="#1438" id="1438">1438</a>
<a href="#1439" id="1439">1439</a>
<a href="#1440" id="1440">1440</a>
<a href="#1441" id="1441">1441</a>
<a href="#1442" id="1442">1442</a>
<a href="#1443" id="1443">1443</a>
<a href="#1444" id="1444">1444</a>
<a href="#1445" id="1445">1445</a>
<a href="#1446" id="1446">1446</a>
<a href="#1447" id="1447">1447</a>
<a href="#1448" id="1448">1448</a>
<a href="#1449" id="1449">1449</a>
<a href="#1450" id="1450">1450</a>
<a href="#1451" id="1451">1451</a>
<a href="#1452" id="1452">1452</a>
<a href="#1453" id="1453">1453</a>
<a href="#1454" id="1454">1454</a>
<a href="#1455" id="1455">1455</a>
<a href="#1456" id="1456">1456</a>
<a href="#1457" id="1457">1457</a>
<a href="#1458" id="1458">1458</a>
<a href="#1459" id="1459">1459</a>
<a href="#1460" id="1460">1460</a>
<a href="#1461" id="1461">1461</a>
<a href="#1462" id="1462">1462</a>
<a href="#1463" id="1463">1463</a>
<a href="#1464" id="1464">1464</a>
<a href="#1465" id="1465">1465</a>
<a href="#1466" id="1466">1466</a>
<a href="#1467" id="1467">1467</a>
<a href="#1468" id="1468">1468</a>
<a href="#1469" id="1469">1469</a>
<a href="#1470" id="1470">1470</a>
<a href="#1471" id="1471">1471</a>
<a href="#1472" id="1472">1472</a>
<a href="#1473" id="1473">1473</a>
<a href="#1474" id="1474">1474</a>
<a href="#1475" id="1475">1475</a>
<a href="#1476" id="1476">1476</a>
<a href="#1477" id="1477">1477</a>
<a href="#1478" id="1478">1478</a>
<a href="#1479" id="1479">1479</a>
<a href="#1480" id="1480">1480</a>
<a href="#1481" id="1481">1481</a>
<a href="#1482" id="1482">1482</a>
<a href="#1483" id="1483">1483</a>
<a href="#1484" id="1484">1484</a>
<a href="#1485" id="1485">1485</a>
<a href="#1486" id="1486">1486</a>
<a href="#1487" id="1487">1487</a>
<a href="#1488" id="1488">1488</a>
<a href="#1489" id="1489">1489</a>
<a href="#1490" id="1490">1490</a>
<a href="#1491" id="1491">1491</a>
<a href="#1492" id="1492">1492</a>
<a href="#1493" id="1493">1493</a>
<a href="#1494" id="1494">1494</a>
<a href="#1495" id="1495">1495</a>
<a href="#1496" id="1496">1496</a>
<a href="#1497" id="1497">1497</a>
<a href="#1498" id="1498">1498</a>
<a href="#1499" id="1499">1499</a>
<a href="#1500" id="1500">1500</a>
<a href="#1501" id="1501">1501</a>
<a href="#1502" id="1502">1502</a>
<a href="#1503" id="1503">1503</a>
<a href="#1504" id="1504">1504</a>
<a href="#1505" id="1505">1505</a>
<a href="#1506" id="1506">1506</a>
<a href="#1507" id="1507">1507</a>
<a href="#1508" id="1508">1508</a>
<a href="#1509" id="1509">1509</a>
<a href="#1510" id="1510">1510</a>
<a href="#1511" id="1511">1511</a>
<a href="#1512" id="1512">1512</a>
<a href="#1513" id="1513">1513</a>
<a href="#1514" id="1514">1514</a>
<a href="#1515" id="1515">1515</a>
<a href="#1516" id="1516">1516</a>
<a href="#1517" id="1517">1517</a>
<a href="#1518" id="1518">1518</a>
<a href="#1519" id="1519">1519</a>
<a href="#1520" id="1520">1520</a>
<a href="#1521" id="1521">1521</a>
<a href="#1522" id="1522">1522</a>
<a href="#1523" id="1523">1523</a>
<a href="#1524" id="1524">1524</a>
<a href="#1525" id="1525">1525</a>
<a href="#1526" id="1526">1526</a>
<a href="#1527" id="1527">1527</a>
<a href="#1528" id="1528">1528</a>
<a href="#1529" id="1529">1529</a>
<a href="#1530" id="1530">1530</a>
<a href="#1531" id="1531">1531</a>
<a href="#1532" id="1532">1532</a>
<a href="#1533" id="1533">1533</a>
<a href="#1534" id="1534">1534</a>
<a href="#1535" id="1535">1535</a>
<a href="#1536" id="1536">1536</a>
<a href="#1537" id="1537">1537</a>
<a href="#1538" id="1538">1538</a>
<a href="#1539" id="1539">1539</a>
<a href="#1540" id="1540">1540</a>
<a href="#1541" id="1541">1541</a>
<a href="#1542" id="1542">1542</a>
<a href="#1543" id="1543">1543</a>
<a href="#1544" id="1544">1544</a>
<a href="#1545" id="1545">1545</a>
<a href="#1546" id="1546">1546</a>
<a href="#1547" id="1547">1547</a>
<a href="#1548" id="1548">1548</a>
<a href="#1549" id="1549">1549</a>
<a href="#1550" id="1550">1550</a>
<a href="#1551" id="1551">1551</a>
<a href="#1552" id="1552">1552</a>
<a href="#1553" id="1553">1553</a>
<a href="#1554" id="1554">1554</a>
<a href="#1555" id="1555">1555</a>
<a href="#1556" id="1556">1556</a>
<a href="#1557" id="1557">1557</a>
<a href="#1558" id="1558">1558</a>
<a href="#1559" id="1559">1559</a>
<a href="#1560" id="1560">1560</a>
<a href="#1561" id="1561">1561</a>
<a href="#1562" id="1562">1562</a>
<a href="#1563" id="1563">1563</a>
<a href="#1564" id="1564">1564</a>
<a href="#1565" id="1565">1565</a>
<a href="#1566" id="1566">1566</a>
<a href="#1567" id="1567">1567</a>
<a href="#1568" id="1568">1568</a>
<a href="#1569" id="1569">1569</a>
<a href="#1570" id="1570">1570</a>
<a href="#1571" id="1571">1571</a>
<a href="#1572" id="1572">1572</a>
<a href="#1573" id="1573">1573</a>
<a href="#1574" id="1574">1574</a>
<a href="#1575" id="1575">1575</a>
<a href="#1576" id="1576">1576</a>
<a href="#1577" id="1577">1577</a>
<a href="#1578" id="1578">1578</a>
<a href="#1579" id="1579">1579</a>
<a href="#1580" id="1580">1580</a>
<a href="#1581" id="1581">1581</a>
<a href="#1582" id="1582">1582</a>
<a href="#1583" id="1583">1583</a>
<a href="#1584" id="1584">1584</a>
<a href="#1585" id="1585">1585</a>
<a href="#1586" id="1586">1586</a>
<a href="#1587" id="1587">1587</a>
<a href="#1588" id="1588">1588</a>
<a href="#1589" id="1589">1589</a>
<a href="#1590" id="1590">1590</a>
<a href="#1591" id="1591">1591</a>
<a href="#1592" id="1592">1592</a>
<a href="#1593" id="1593">1593</a>
<a href="#1594" id="1594">1594</a>
<a href="#1595" id="1595">1595</a>
<a href="#1596" id="1596">1596</a>
<a href="#1597" id="1597">1597</a>
<a href="#1598" id="1598">1598</a>
<a href="#1599" id="1599">1599</a>
<a href="#1600" id="1600">1600</a>
<a href="#1601" id="1601">1601</a>
<a href="#1602" id="1602">1602</a>
<a href="#1603" id="1603">1603</a>
<a href="#1604" id="1604">1604</a>
<a href="#1605" id="1605">1605</a>
<a href="#1606" id="1606">1606</a>
<a href="#1607" id="1607">1607</a>
<a href="#1608" id="1608">1608</a>
<a href="#1609" id="1609">1609</a>
<a href="#1610" id="1610">1610</a>
<a href="#1611" id="1611">1611</a>
<a href="#1612" id="1612">1612</a>
<a href="#1613" id="1613">1613</a>
<a href="#1614" id="1614">1614</a>
<a href="#1615" id="1615">1615</a>
<a href="#1616" id="1616">1616</a>
<a href="#1617" id="1617">1617</a>
<a href="#1618" id="1618">1618</a>
<a href="#1619" id="1619">1619</a>
<a href="#1620" id="1620">1620</a>
<a href="#1621" id="1621">1621</a>
<a href="#1622" id="1622">1622</a>
<a href="#1623" id="1623">1623</a>
<a href="#1624" id="1624">1624</a>
<a href="#1625" id="1625">1625</a>
<a href="#1626" id="1626">1626</a>
<a href="#1627" id="1627">1627</a>
<a href="#1628" id="1628">1628</a>
<a href="#1629" id="1629">1629</a>
<a href="#1630" id="1630">1630</a>
<a href="#1631" id="1631">1631</a>
<a href="#1632" id="1632">1632</a>
<a href="#1633" id="1633">1633</a>
<a href="#1634" id="1634">1634</a>
<a href="#1635" id="1635">1635</a>
<a href="#1636" id="1636">1636</a>
<a href="#1637" id="1637">1637</a>
<a href="#1638" id="1638">1638</a>
<a href="#1639" id="1639">1639</a>
<a href="#1640" id="1640">1640</a>
<a href="#1641" id="1641">1641</a>
<a href="#1642" id="1642">1642</a>
<a href="#1643" id="1643">1643</a>
<a href="#1644" id="1644">1644</a>
<a href="#1645" id="1645">1645</a>
<a href="#1646" id="1646">1646</a>
<a href="#1647" id="1647">1647</a>
<a href="#1648" id="1648">1648</a>
<a href="#1649" id="1649">1649</a>
<a href="#1650" id="1650">1650</a>
<a href="#1651" id="1651">1651</a>
<a href="#1652" id="1652">1652</a>
<a href="#1653" id="1653">1653</a>
<a href="#1654" id="1654">1654</a>
<a href="#1655" id="1655">1655</a>
<a href="#1656" id="1656">1656</a>
<a href="#1657" id="1657">1657</a>
<a href="#1658" id="1658">1658</a>
<a href="#1659" id="1659">1659</a>
<a href="#1660" id="1660">1660</a>
<a href="#1661" id="1661">1661</a>
<a href="#1662" id="1662">1662</a>
<a href="#1663" id="1663">1663</a>
<a href="#1664" id="1664">1664</a>
<a href="#1665" id="1665">1665</a>
<a href="#1666" id="1666">1666</a>
<a href="#1667" id="1667">1667</a>
<a href="#1668" id="1668">1668</a>
<a href="#1669" id="1669">1669</a>
<a href="#1670" id="1670">1670</a>
<a href="#1671" id="1671">1671</a>
<a href="#1672" id="1672">1672</a>
<a href="#1673" id="1673">1673</a>
<a href="#1674" id="1674">1674</a>
<a href="#1675" id="1675">1675</a>
<a href="#1676" id="1676">1676</a>
<a href="#1677" id="1677">1677</a>
<a href="#1678" id="1678">1678</a>
<a href="#1679" id="1679">1679</a>
<a href="#1680" id="1680">1680</a>
<a href="#1681" id="1681">1681</a>
<a href="#1682" id="1682">1682</a>
<a href="#1683" id="1683">1683</a>
<a href="#1684" id="1684">1684</a>
<a href="#1685" id="1685">1685</a>
<a href="#1686" id="1686">1686</a>
<a href="#1687" id="1687">1687</a>
<a href="#1688" id="1688">1688</a>
<a href="#1689" id="1689">1689</a>
<a href="#1690" id="1690">1690</a>
<a href="#1691" id="1691">1691</a>
<a href="#1692" id="1692">1692</a>
<a href="#1693" id="1693">1693</a>
<a href="#1694" id="1694">1694</a>
<a href="#1695" id="1695">1695</a>
<a href="#1696" id="1696">1696</a>
<a href="#1697" id="1697">1697</a>
<a href="#1698" id="1698">1698</a>
<a href="#1699" id="1699">1699</a>
<a href="#1700" id="1700">1700</a>
<a href="#1701" id="1701">1701</a>
<a href="#1702" id="1702">1702</a>
<a href="#1703" id="1703">1703</a>
<a href="#1704" id="1704">1704</a>
<a href="#1705" id="1705">1705</a>
<a href="#1706" id="1706">1706</a>
<a href="#1707" id="1707">1707</a>
<a href="#1708" id="1708">1708</a>
<a href="#1709" id="1709">1709</a>
<a href="#1710" id="1710">1710</a>
<a href="#1711" id="1711">1711</a>
<a href="#1712" id="1712">1712</a>
<a href="#1713" id="1713">1713</a>
<a href="#1714" id="1714">1714</a>
<a href="#1715" id="1715">1715</a>
<a href="#1716" id="1716">1716</a>
<a href="#1717" id="1717">1717</a>
<a href="#1718" id="1718">1718</a>
<a href="#1719" id="1719">1719</a>
<a href="#1720" id="1720">1720</a>
<a href="#1721" id="1721">1721</a>
<a href="#1722" id="1722">1722</a>
<a href="#1723" id="1723">1723</a>
<a href="#1724" id="1724">1724</a>
<a href="#1725" id="1725">1725</a>
<a href="#1726" id="1726">1726</a>
<a href="#1727" id="1727">1727</a>
<a href="#1728" id="1728">1728</a>
<a href="#1729" id="1729">1729</a>
<a href="#1730" id="1730">1730</a>
<a href="#1731" id="1731">1731</a>
<a href="#1732" id="1732">1732</a>
<a href="#1733" id="1733">1733</a>
<a href="#1734" id="1734">1734</a>
<a href="#1735" id="1735">1735</a>
<a href="#1736" id="1736">1736</a>
<a href="#1737" id="1737">1737</a>
<a href="#1738" id="1738">1738</a>
<a href="#1739" id="1739">1739</a>
<a href="#1740" id="1740">1740</a>
<a href="#1741" id="1741">1741</a>
<a href="#1742" id="1742">1742</a>
<a href="#1743" id="1743">1743</a>
<a href="#1744" id="1744">1744</a>
<a href="#1745" id="1745">1745</a>
<a href="#1746" id="1746">1746</a>
<a href="#1747" id="1747">1747</a>
<a href="#1748" id="1748">1748</a>
<a href="#1749" id="1749">1749</a>
<a href="#1750" id="1750">1750</a>
<a href="#1751" id="1751">1751</a>
<a href="#1752" id="1752">1752</a>
<a href="#1753" id="1753">1753</a>
<a href="#1754" id="1754">1754</a>
<a href="#1755" id="1755">1755</a>
<a href="#1756" id="1756">1756</a>
<a href="#1757" id="1757">1757</a>
<a href="#1758" id="1758">1758</a>
<a href="#1759" id="1759">1759</a>
<a href="#1760" id="1760">1760</a>
<a href="#1761" id="1761">1761</a>
<a href="#1762" id="1762">1762</a>
<a href="#1763" id="1763">1763</a>
<a href="#1764" id="1764">1764</a>
<a href="#1765" id="1765">1765</a>
<a href="#1766" id="1766">1766</a>
<a href="#1767" id="1767">1767</a>
<a href="#1768" id="1768">1768</a>
<a href="#1769" id="1769">1769</a>
<a href="#1770" id="1770">1770</a>
<a href="#1771" id="1771">1771</a>
<a href="#1772" id="1772">1772</a>
<a href="#1773" id="1773">1773</a>
<a href="#1774" id="1774">1774</a>
<a href="#1775" id="1775">1775</a>
<a href="#1776" id="1776">1776</a>
<a href="#1777" id="1777">1777</a>
<a href="#1778" id="1778">1778</a>
<a href="#1779" id="1779">1779</a>
<a href="#1780" id="1780">1780</a>
<a href="#1781" id="1781">1781</a>
<a href="#1782" id="1782">1782</a>
<a href="#1783" id="1783">1783</a>
<a href="#1784" id="1784">1784</a>
<a href="#1785" id="1785">1785</a>
<a href="#1786" id="1786">1786</a>
<a href="#1787" id="1787">1787</a>
<a href="#1788" id="1788">1788</a>
<a href="#1789" id="1789">1789</a>
<a href="#1790" id="1790">1790</a>
<a href="#1791" id="1791">1791</a>
<a href="#1792" id="1792">1792</a>
<a href="#1793" id="1793">1793</a>
<a href="#1794" id="1794">1794</a>
<a href="#1795" id="1795">1795</a>
<a href="#1796" id="1796">1796</a>
<a href="#1797" id="1797">1797</a>
<a href="#1798" id="1798">1798</a>
<a href="#1799" id="1799">1799</a>
<a href="#1800" id="1800">1800</a>
<a href="#1801" id="1801">1801</a>
<a href="#1802" id="1802">1802</a>
<a href="#1803" id="1803">1803</a>
<a href="#1804" id="1804">1804</a>
<a href="#1805" id="1805">1805</a>
<a href="#1806" id="1806">1806</a>
<a href="#1807" id="1807">1807</a>
<a href="#1808" id="1808">1808</a>
<a href="#1809" id="1809">1809</a>
<a href="#1810" id="1810">1810</a>
<a href="#1811" id="1811">1811</a>
<a href="#1812" id="1812">1812</a>
<a href="#1813" id="1813">1813</a>
<a href="#1814" id="1814">1814</a>
<a href="#1815" id="1815">1815</a>
<a href="#1816" id="1816">1816</a>
<a href="#1817" id="1817">1817</a>
<a href="#1818" id="1818">1818</a>
<a href="#1819" id="1819">1819</a>
<a href="#1820" id="1820">1820</a>
<a href="#1821" id="1821">1821</a>
<a href="#1822" id="1822">1822</a>
<a href="#1823" id="1823">1823</a>
<a href="#1824" id="1824">1824</a>
<a href="#1825" id="1825">1825</a>
<a href="#1826" id="1826">1826</a>
<a href="#1827" id="1827">1827</a>
<a href="#1828" id="1828">1828</a>
<a href="#1829" id="1829">1829</a>
<a href="#1830" id="1830">1830</a>
<a href="#1831" id="1831">1831</a>
<a href="#1832" id="1832">1832</a>
<a href="#1833" id="1833">1833</a>
<a href="#1834" id="1834">1834</a>
<a href="#1835" id="1835">1835</a>
<a href="#1836" id="1836">1836</a>
<a href="#1837" id="1837">1837</a>
<a href="#1838" id="1838">1838</a>
<a href="#1839" id="1839">1839</a>
<a href="#1840" id="1840">1840</a>
<a href="#1841" id="1841">1841</a>
<a href="#1842" id="1842">1842</a>
<a href="#1843" id="1843">1843</a>
<a href="#1844" id="1844">1844</a>
<a href="#1845" id="1845">1845</a>
<a href="#1846" id="1846">1846</a>
<a href="#1847" id="1847">1847</a>
<a href="#1848" id="1848">1848</a>
<a href="#1849" id="1849">1849</a>
<a href="#1850" id="1850">1850</a>
<a href="#1851" id="1851">1851</a>
<a href="#1852" id="1852">1852</a>
<a href="#1853" id="1853">1853</a>
<a href="#1854" id="1854">1854</a>
<a href="#1855" id="1855">1855</a>
<a href="#1856" id="1856">1856</a>
<a href="#1857" id="1857">1857</a>
<a href="#1858" id="1858">1858</a>
<a href="#1859" id="1859">1859</a>
<a href="#1860" id="1860">1860</a>
<a href="#1861" id="1861">1861</a>
<a href="#1862" id="1862">1862</a>
<a href="#1863" id="1863">1863</a>
<a href="#1864" id="1864">1864</a>
<a href="#1865" id="1865">1865</a>
<a href="#1866" id="1866">1866</a>
<a href="#1867" id="1867">1867</a>
<a href="#1868" id="1868">1868</a>
<a href="#1869" id="1869">1869</a>
<a href="#1870" id="1870">1870</a>
<a href="#1871" id="1871">1871</a>
<a href="#1872" id="1872">1872</a>
<a href="#1873" id="1873">1873</a>
<a href="#1874" id="1874">1874</a>
<a href="#1875" id="1875">1875</a>
<a href="#1876" id="1876">1876</a>
<a href="#1877" id="1877">1877</a>
<a href="#1878" id="1878">1878</a>
<a href="#1879" id="1879">1879</a>
<a href="#1880" id="1880">1880</a>
<a href="#1881" id="1881">1881</a>
<a href="#1882" id="1882">1882</a>
<a href="#1883" id="1883">1883</a>
<a href="#1884" id="1884">1884</a>
<a href="#1885" id="1885">1885</a>
<a href="#1886" id="1886">1886</a>
<a href="#1887" id="1887">1887</a>
<a href="#1888" id="1888">1888</a>
<a href="#1889" id="1889">1889</a>
<a href="#1890" id="1890">1890</a>
<a href="#1891" id="1891">1891</a>
<a href="#1892" id="1892">1892</a>
<a href="#1893" id="1893">1893</a>
<a href="#1894" id="1894">1894</a>
<a href="#1895" id="1895">1895</a>
<a href="#1896" id="1896">1896</a>
<a href="#1897" id="1897">1897</a>
<a href="#1898" id="1898">1898</a>
<a href="#1899" id="1899">1899</a>
<a href="#1900" id="1900">1900</a>
<a href="#1901" id="1901">1901</a>
<a href="#1902" id="1902">1902</a>
<a href="#1903" id="1903">1903</a>
<a href="#1904" id="1904">1904</a>
<a href="#1905" id="1905">1905</a>
<a href="#1906" id="1906">1906</a>
<a href="#1907" id="1907">1907</a>
<a href="#1908" id="1908">1908</a>
<a href="#1909" id="1909">1909</a>
<a href="#1910" id="1910">1910</a>
<a href="#1911" id="1911">1911</a>
<a href="#1912" id="1912">1912</a>
<a href="#1913" id="1913">1913</a>
<a href="#1914" id="1914">1914</a>
<a href="#1915" id="1915">1915</a>
<a href="#1916" id="1916">1916</a>
<a href="#1917" id="1917">1917</a>
<a href="#1918" id="1918">1918</a>
<a href="#1919" id="1919">1919</a>
<a href="#1920" id="1920">1920</a>
<a href="#1921" id="1921">1921</a>
<a href="#1922" id="1922">1922</a>
<a href="#1923" id="1923">1923</a>
<a href="#1924" id="1924">1924</a>
<a href="#1925" id="1925">1925</a>
<a href="#1926" id="1926">1926</a>
<a href="#1927" id="1927">1927</a>
<a href="#1928" id="1928">1928</a>
<a href="#1929" id="1929">1929</a>
<a href="#1930" id="1930">1930</a>
<a href="#1931" id="1931">1931</a>
<a href="#1932" id="1932">1932</a>
<a href="#1933" id="1933">1933</a>
<a href="#1934" id="1934">1934</a>
<a href="#1935" id="1935">1935</a>
<a href="#1936" id="1936">1936</a>
<a href="#1937" id="1937">1937</a>
<a href="#1938" id="1938">1938</a>
<a href="#1939" id="1939">1939</a>
<a href="#1940" id="1940">1940</a>
<a href="#1941" id="1941">1941</a>
<a href="#1942" id="1942">1942</a>
<a href="#1943" id="1943">1943</a>
<a href="#1944" id="1944">1944</a>
<a href="#1945" id="1945">1945</a>
<a href="#1946" id="1946">1946</a>
<a href="#1947" id="1947">1947</a>
<a href="#1948" id="1948">1948</a>
<a href="#1949" id="1949">1949</a>
<a href="#1950" id="1950">1950</a>
<a href="#1951" id="1951">1951</a>
<a href="#1952" id="1952">1952</a>
<a href="#1953" id="1953">1953</a>
<a href="#1954" id="1954">1954</a>
<a href="#1955" id="1955">1955</a>
<a href="#1956" id="1956">1956</a>
<a href="#1957" id="1957">1957</a>
<a href="#1958" id="1958">1958</a>
<a href="#1959" id="1959">1959</a>
<a href="#1960" id="1960">1960</a>
<a href="#1961" id="1961">1961</a>
<a href="#1962" id="1962">1962</a>
<a href="#1963" id="1963">1963</a>
<a href="#1964" id="1964">1964</a>
<a href="#1965" id="1965">1965</a>
<a href="#1966" id="1966">1966</a>
<a href="#1967" id="1967">1967</a>
<a href="#1968" id="1968">1968</a>
<a href="#1969" id="1969">1969</a>
<a href="#1970" id="1970">1970</a>
<a href="#1971" id="1971">1971</a>
<a href="#1972" id="1972">1972</a>
<a href="#1973" id="1973">1973</a>
<a href="#1974" id="1974">1974</a>
<a href="#1975" id="1975">1975</a>
<a href="#1976" id="1976">1976</a>
<a href="#1977" id="1977">1977</a>
<a href="#1978" id="1978">1978</a>
<a href="#1979" id="1979">1979</a>
<a href="#1980" id="1980">1980</a>
<a href="#1981" id="1981">1981</a>
<a href="#1982" id="1982">1982</a>
<a href="#1983" id="1983">1983</a>
<a href="#1984" id="1984">1984</a>
<a href="#1985" id="1985">1985</a>
<a href="#1986" id="1986">1986</a>
<a href="#1987" id="1987">1987</a>
<a href="#1988" id="1988">1988</a>
<a href="#1989" id="1989">1989</a>
<a href="#1990" id="1990">1990</a>
<a href="#1991" id="1991">1991</a>
<a href="#1992" id="1992">1992</a>
<a href="#1993" id="1993">1993</a>
<a href="#1994" id="1994">1994</a>
<a href="#1995" id="1995">1995</a>
<a href="#1996" id="1996">1996</a>
<a href="#1997" id="1997">1997</a>
<a href="#1998" id="1998">1998</a>
<a href="#1999" id="1999">1999</a>
<a href="#2000" id="2000">2000</a>
<a href="#2001" id="2001">2001</a>
<a href="#2002" id="2002">2002</a>
<a href="#2003" id="2003">2003</a>
<a href="#2004" id="2004">2004</a>
<a href="#2005" id="2005">2005</a>
<a href="#2006" id="2006">2006</a>
<a href="#2007" id="2007">2007</a>
<a href="#2008" id="2008">2008</a>
<a href="#2009" id="2009">2009</a>
<a href="#2010" id="2010">2010</a>
<a href="#2011" id="2011">2011</a>
<a href="#2012" id="2012">2012</a>
<a href="#2013" id="2013">2013</a>
<a href="#2014" id="2014">2014</a>
<a href="#2015" id="2015">2015</a>
<a href="#2016" id="2016">2016</a>
<a href="#2017" id="2017">2017</a>
<a href="#2018" id="2018">2018</a>
<a href="#2019" id="2019">2019</a>
<a href="#2020" id="2020">2020</a>
<a href="#2021" id="2021">2021</a>
<a href="#2022" id="2022">2022</a>
<a href="#2023" id="2023">2023</a>
<a href="#2024" id="2024">2024</a>
<a href="#2025" id="2025">2025</a>
<a href="#2026" id="2026">2026</a>
<a href="#2027" id="2027">2027</a>
<a href="#2028" id="2028">2028</a>
<a href="#2029" id="2029">2029</a>
<a href="#2030" id="2030">2030</a>
<a href="#2031" id="2031">2031</a>
<a href="#2032" id="2032">2032</a>
<a href="#2033" id="2033">2033</a>
<a href="#2034" id="2034">2034</a>
<a href="#2035" id="2035">2035</a>
<a href="#2036" id="2036">2036</a>
<a href="#2037" id="2037">2037</a>
<a href="#2038" id="2038">2038</a>
<a href="#2039" id="2039">2039</a>
<a href="#2040" id="2040">2040</a>
<a href="#2041" id="2041">2041</a>
<a href="#2042" id="2042">2042</a>
<a href="#2043" id="2043">2043</a>
<a href="#2044" id="2044">2044</a>
<a href="#2045" id="2045">2045</a>
<a href="#2046" id="2046">2046</a>
<a href="#2047" id="2047">2047</a>
<a href="#2048" id="2048">2048</a>
<a href="#2049" id="2049">2049</a>
<a href="#2050" id="2050">2050</a>
<a href="#2051" id="2051">2051</a>
<a href="#2052" id="2052">2052</a>
<a href="#2053" id="2053">2053</a>
<a href="#2054" id="2054">2054</a>
<a href="#2055" id="2055">2055</a>
<a href="#2056" id="2056">2056</a>
<a href="#2057" id="2057">2057</a>
<a href="#2058" id="2058">2058</a>
<a href="#2059" id="2059">2059</a>
<a href="#2060" id="2060">2060</a>
<a href="#2061" id="2061">2061</a>
<a href="#2062" id="2062">2062</a>
<a href="#2063" id="2063">2063</a>
<a href="#2064" id="2064">2064</a>
<a href="#2065" id="2065">2065</a>
<a href="#2066" id="2066">2066</a>
<a href="#2067" id="2067">2067</a>
<a href="#2068" id="2068">2068</a>
<a href="#2069" id="2069">2069</a>
<a href="#2070" id="2070">2070</a>
<a href="#2071" id="2071">2071</a>
<a href="#2072" id="2072">2072</a>
<a href="#2073" id="2073">2073</a>
<a href="#2074" id="2074">2074</a>
<a href="#2075" id="2075">2075</a>
<a href="#2076" id="2076">2076</a>
<a href="#2077" id="2077">2077</a>
<a href="#2078" id="2078">2078</a>
<a href="#2079" id="2079">2079</a>
<a href="#2080" id="2080">2080</a>
<a href="#2081" id="2081">2081</a>
<a href="#2082" id="2082">2082</a>
<a href="#2083" id="2083">2083</a>
<a href="#2084" id="2084">2084</a>
<a href="#2085" id="2085">2085</a>
<a href="#2086" id="2086">2086</a>
<a href="#2087" id="2087">2087</a>
<a href="#2088" id="2088">2088</a>
<a href="#2089" id="2089">2089</a>
<a href="#2090" id="2090">2090</a>
<a href="#2091" id="2091">2091</a>
<a href="#2092" id="2092">2092</a>
<a href="#2093" id="2093">2093</a>
<a href="#2094" id="2094">2094</a>
<a href="#2095" id="2095">2095</a>
<a href="#2096" id="2096">2096</a>
<a href="#2097" id="2097">2097</a>
<a href="#2098" id="2098">2098</a>
<a href="#2099" id="2099">2099</a>
<a href="#2100" id="2100">2100</a>
<a href="#2101" id="2101">2101</a>
<a href="#2102" id="2102">2102</a>
<a href="#2103" id="2103">2103</a>
<a href="#2104" id="2104">2104</a>
<a href="#2105" id="2105">2105</a>
<a href="#2106" id="2106">2106</a>
<a href="#2107" id="2107">2107</a>
<a href="#2108" id="2108">2108</a>
<a href="#2109" id="2109">2109</a>
<a href="#2110" id="2110">2110</a>
<a href="#2111" id="2111">2111</a>
<a href="#2112" id="2112">2112</a>
<a href="#2113" id="2113">2113</a>
<a href="#2114" id="2114">2114</a>
<a href="#2115" id="2115">2115</a>
<a href="#2116" id="2116">2116</a>
<a href="#2117" id="2117">2117</a>
<a href="#2118" id="2118">2118</a>
<a href="#2119" id="2119">2119</a>
<a href="#2120" id="2120">2120</a>
<a href="#2121" id="2121">2121</a>
<a href="#2122" id="2122">2122</a>
<a href="#2123" id="2123">2123</a>
<a href="#2124" id="2124">2124</a>
<a href="#2125" id="2125">2125</a>
<a href="#2126" id="2126">2126</a>
<a href="#2127" id="2127">2127</a>
<a href="#2128" id="2128">2128</a>
<a href="#2129" id="2129">2129</a>
<a href="#2130" id="2130">2130</a>
<a href="#2131" id="2131">2131</a>
<a href="#2132" id="2132">2132</a>
<a href="#2133" id="2133">2133</a>
<a href="#2134" id="2134">2134</a>
<a href="#2135" id="2135">2135</a>
<a href="#2136" id="2136">2136</a>
<a href="#2137" id="2137">2137</a>
<a href="#2138" id="2138">2138</a>
<a href="#2139" id="2139">2139</a>
<a href="#2140" id="2140">2140</a>
<a href="#2141" id="2141">2141</a>
<a href="#2142" id="2142">2142</a>
<a href="#2143" id="2143">2143</a>
<a href="#2144" id="2144">2144</a>
<a href="#2145" id="2145">2145</a>
<a href="#2146" id="2146">2146</a>
<a href="#2147" id="2147">2147</a>
<a href="#2148" id="2148">2148</a>
<a href="#2149" id="2149">2149</a>
<a href="#2150" id="2150">2150</a>
<a href="#2151" id="2151">2151</a>
<a href="#2152" id="2152">2152</a>
<a href="#2153" id="2153">2153</a>
<a href="#2154" id="2154">2154</a>
<a href="#2155" id="2155">2155</a>
<a href="#2156" id="2156">2156</a>
<a href="#2157" id="2157">2157</a>
<a href="#2158" id="2158">2158</a>
<a href="#2159" id="2159">2159</a>
<a href="#2160" id="2160">2160</a>
<a href="#2161" id="2161">2161</a>
<a href="#2162" id="2162">2162</a>
<a href="#2163" id="2163">2163</a>
<a href="#2164" id="2164">2164</a>
<a href="#2165" id="2165">2165</a>
<a href="#2166" id="2166">2166</a>
<a href="#2167" id="2167">2167</a>
<a href="#2168" id="2168">2168</a>
<a href="#2169" id="2169">2169</a>
<a href="#2170" id="2170">2170</a>
<a href="#2171" id="2171">2171</a>
<a href="#2172" id="2172">2172</a>
<a href="#2173" id="2173">2173</a>
<a href="#2174" id="2174">2174</a>
<a href="#2175" id="2175">2175</a>
<a href="#2176" id="2176">2176</a>
<a href="#2177" id="2177">2177</a>
<a href="#2178" id="2178">2178</a>
<a href="#2179" id="2179">2179</a>
<a href="#2180" id="2180">2180</a>
<a href="#2181" id="2181">2181</a>
<a href="#2182" id="2182">2182</a>
<a href="#2183" id="2183">2183</a>
<a href="#2184" id="2184">2184</a>
<a href="#2185" id="2185">2185</a>
<a href="#2186" id="2186">2186</a>
<a href="#2187" id="2187">2187</a>
<a href="#2188" id="2188">2188</a>
<a href="#2189" id="2189">2189</a>
<a href="#2190" id="2190">2190</a>
<a href="#2191" id="2191">2191</a>
<a href="#2192" id="2192">2192</a>
<a href="#2193" id="2193">2193</a>
<a href="#2194" id="2194">2194</a>
<a href="#2195" id="2195">2195</a>
<a href="#2196" id="2196">2196</a>
<a href="#2197" id="2197">2197</a>
<a href="#2198" id="2198">2198</a>
<a href="#2199" id="2199">2199</a>
<a href="#2200" id="2200">2200</a>
<a href="#2201" id="2201">2201</a>
<a href="#2202" id="2202">2202</a>
<a href="#2203" id="2203">2203</a>
<a href="#2204" id="2204">2204</a>
<a href="#2205" id="2205">2205</a>
<a href="#2206" id="2206">2206</a>
<a href="#2207" id="2207">2207</a>
<a href="#2208" id="2208">2208</a>
<a href="#2209" id="2209">2209</a>
<a href="#2210" id="2210">2210</a>
<a href="#2211" id="2211">2211</a>
<a href="#2212" id="2212">2212</a>
<a href="#2213" id="2213">2213</a>
<a href="#2214" id="2214">2214</a>
<a href="#2215" id="2215">2215</a>
<a href="#2216" id="2216">2216</a>
<a href="#2217" id="2217">2217</a>
<a href="#2218" id="2218">2218</a>
<a href="#2219" id="2219">2219</a>
<a href="#2220" id="2220">2220</a>
<a href="#2221" id="2221">2221</a>
<a href="#2222" id="2222">2222</a>
<a href="#2223" id="2223">2223</a>
<a href="#2224" id="2224">2224</a>
<a href="#2225" id="2225">2225</a>
<a href="#2226" id="2226">2226</a>
<a href="#2227" id="2227">2227</a>
<a href="#2228" id="2228">2228</a>
<a href="#2229" id="2229">2229</a>
<a href="#2230" id="2230">2230</a>
<a href="#2231" id="2231">2231</a>
<a href="#2232" id="2232">2232</a>
<a href="#2233" id="2233">2233</a>
<a href="#2234" id="2234">2234</a>
<a href="#2235" id="2235">2235</a>
<a href="#2236" id="2236">2236</a>
<a href="#2237" id="2237">2237</a>
<a href="#2238" id="2238">2238</a>
<a href="#2239" id="2239">2239</a>
<a href="#2240" id="2240">2240</a>
<a href="#2241" id="2241">2241</a>
<a href="#2242" id="2242">2242</a>
<a href="#2243" id="2243">2243</a>
<a href="#2244" id="2244">2244</a>
<a href="#2245" id="2245">2245</a>
<a href="#2246" id="2246">2246</a>
<a href="#2247" id="2247">2247</a>
<a href="#2248" id="2248">2248</a>
<a href="#2249" id="2249">2249</a>
<a href="#2250" id="2250">2250</a>
<a href="#2251" id="2251">2251</a>
<a href="#2252" id="2252">2252</a>
<a href="#2253" id="2253">2253</a>
<a href="#2254" id="2254">2254</a>
<a href="#2255" id="2255">2255</a>
<a href="#2256" id="2256">2256</a>
<a href="#2257" id="2257">2257</a>
<a href="#2258" id="2258">2258</a>
<a href="#2259" id="2259">2259</a>
<a href="#2260" id="2260">2260</a>
<a href="#2261" id="2261">2261</a>
<a href="#2262" id="2262">2262</a>
<a href="#2263" id="2263">2263</a>
<a href="#2264" id="2264">2264</a>
<a href="#2265" id="2265">2265</a>
<a href="#2266" id="2266">2266</a>
<a href="#2267" id="2267">2267</a>
<a href="#2268" id="2268">2268</a>
<a href="#2269" id="2269">2269</a>
<a href="#2270" id="2270">2270</a>
<a href="#2271" id="2271">2271</a>
<a href="#2272" id="2272">2272</a>
<a href="#2273" id="2273">2273</a>
<a href="#2274" id="2274">2274</a>
<a href="#2275" id="2275">2275</a>
<a href="#2276" id="2276">2276</a>
<a href="#2277" id="2277">2277</a>
<a href="#2278" id="2278">2278</a>
<a href="#2279" id="2279">2279</a>
<a href="#2280" id="2280">2280</a>
<a href="#2281" id="2281">2281</a>
<a href="#2282" id="2282">2282</a>
<a href="#2283" id="2283">2283</a>
<a href="#2284" id="2284">2284</a>
<a href="#2285" id="2285">2285</a>
<a href="#2286" id="2286">2286</a>
<a href="#2287" id="2287">2287</a>
<a href="#2288" id="2288">2288</a>
<a href="#2289" id="2289">2289</a>
<a href="#2290" id="2290">2290</a>
<a href="#2291" id="2291">2291</a>
<a href="#2292" id="2292">2292</a>
<a href="#2293" id="2293">2293</a>
<a href="#2294" id="2294">2294</a>
<a href="#2295" id="2295">2295</a>
<a href="#2296" id="2296">2296</a>
<a href="#2297" id="2297">2297</a>
<a href="#2298" id="2298">2298</a>
<a href="#2299" id="2299">2299</a>
<a href="#2300" id="2300">2300</a>
<a href="#2301" id="2301">2301</a>
<a href="#2302" id="2302">2302</a>
<a href="#2303" id="2303">2303</a>
<a href="#2304" id="2304">2304</a>
<a href="#2305" id="2305">2305</a>
<a href="#2306" id="2306">2306</a>
<a href="#2307" id="2307">2307</a>
<a href="#2308" id="2308">2308</a>
<a href="#2309" id="2309">2309</a>
<a href="#2310" id="2310">2310</a>
<a href="#2311" id="2311">2311</a>
<a href="#2312" id="2312">2312</a>
<a href="#2313" id="2313">2313</a>
<a href="#2314" id="2314">2314</a>
<a href="#2315" id="2315">2315</a>
<a href="#2316" id="2316">2316</a>
<a href="#2317" id="2317">2317</a>
<a href="#2318" id="2318">2318</a>
<a href="#2319" id="2319">2319</a>
<a href="#2320" id="2320">2320</a>
<a href="#2321" id="2321">2321</a>
<a href="#2322" id="2322">2322</a>
<a href="#2323" id="2323">2323</a>
<a href="#2324" id="2324">2324</a>
<a href="#2325" id="2325">2325</a>
<a href="#2326" id="2326">2326</a>
<a href="#2327" id="2327">2327</a>
<a href="#2328" id="2328">2328</a>
<a href="#2329" id="2329">2329</a>
<a href="#2330" id="2330">2330</a>
<a href="#2331" id="2331">2331</a>
<a href="#2332" id="2332">2332</a>
<a href="#2333" id="2333">2333</a>
<a href="#2334" id="2334">2334</a>
<a href="#2335" id="2335">2335</a>
<a href="#2336" id="2336">2336</a>
<a href="#2337" id="2337">2337</a>
<a href="#2338" id="2338">2338</a>
<a href="#2339" id="2339">2339</a>
<a href="#2340" id="2340">2340</a>
<a href="#2341" id="2341">2341</a>
<a href="#2342" id="2342">2342</a>
<a href="#2343" id="2343">2343</a>
<a href="#2344" id="2344">2344</a>
<a href="#2345" id="2345">2345</a>
<a href="#2346" id="2346">2346</a>
<a href="#2347" id="2347">2347</a>
<a href="#2348" id="2348">2348</a>
<a href="#2349" id="2349">2349</a>
<a href="#2350" id="2350">2350</a>
<a href="#2351" id="2351">2351</a>
<a href="#2352" id="2352">2352</a>
<a href="#2353" id="2353">2353</a>
<a href="#2354" id="2354">2354</a>
<a href="#2355" id="2355">2355</a>
<a href="#2356" id="2356">2356</a>
<a href="#2357" id="2357">2357</a>
<a href="#2358" id="2358">2358</a>
<a href="#2359" id="2359">2359</a>
<a href="#2360" id="2360">2360</a>
<a href="#2361" id="2361">2361</a>
<a href="#2362" id="2362">2362</a>
<a href="#2363" id="2363">2363</a>
<a href="#2364" id="2364">2364</a>
<a href="#2365" id="2365">2365</a>
<a href="#2366" id="2366">2366</a>
<a href="#2367" id="2367">2367</a>
<a href="#2368" id="2368">2368</a>
<a href="#2369" id="2369">2369</a>
<a href="#2370" id="2370">2370</a>
<a href="#2371" id="2371">2371</a>
<a href="#2372" id="2372">2372</a>
<a href="#2373" id="2373">2373</a>
<a href="#2374" id="2374">2374</a>
<a href="#2375" id="2375">2375</a>
<a href="#2376" id="2376">2376</a>
<a href="#2377" id="2377">2377</a>
<a href="#2378" id="2378">2378</a>
<a href="#2379" id="2379">2379</a>
<a href="#2380" id="2380">2380</a>
<a href="#2381" id="2381">2381</a>
<a href="#2382" id="2382">2382</a>
<a href="#2383" id="2383">2383</a>
<a href="#2384" id="2384">2384</a>
<a href="#2385" id="2385">2385</a>
<a href="#2386" id="2386">2386</a>
<a href="#2387" id="2387">2387</a>
<a href="#2388" id="2388">2388</a>
<a href="#2389" id="2389">2389</a>
<a href="#2390" id="2390">2390</a>
<a href="#2391" id="2391">2391</a>
<a href="#2392" id="2392">2392</a>
<a href="#2393" id="2393">2393</a>
<a href="#2394" id="2394">2394</a>
<a href="#2395" id="2395">2395</a>
<a href="#2396" id="2396">2396</a>
<a href="#2397" id="2397">2397</a>
<a href="#2398" id="2398">2398</a>
<a href="#2399" id="2399">2399</a>
<a href="#2400" id="2400">2400</a>
<a href="#2401" id="2401">2401</a>
<a href="#2402" id="2402">2402</a>
<a href="#2403" id="2403">2403</a>
<a href="#2404" id="2404">2404</a>
<a href="#2405" id="2405">2405</a>
<a href="#2406" id="2406">2406</a>
<a href="#2407" id="2407">2407</a>
<a href="#2408" id="2408">2408</a>
<a href="#2409" id="2409">2409</a>
<a href="#2410" id="2410">2410</a>
<a href="#2411" id="2411">2411</a>
<a href="#2412" id="2412">2412</a>
<a href="#2413" id="2413">2413</a>
<a href="#2414" id="2414">2414</a>
<a href="#2415" id="2415">2415</a>
<a href="#2416" id="2416">2416</a>
<a href="#2417" id="2417">2417</a>
<a href="#2418" id="2418">2418</a>
<a href="#2419" id="2419">2419</a>
<a href="#2420" id="2420">2420</a>
<a href="#2421" id="2421">2421</a>
<a href="#2422" id="2422">2422</a>
<a href="#2423" id="2423">2423</a>
<a href="#2424" id="2424">2424</a>
<a href="#2425" id="2425">2425</a>
<a href="#2426" id="2426">2426</a>
<a href="#2427" id="2427">2427</a>
<a href="#2428" id="2428">2428</a>
<a href="#2429" id="2429">2429</a>
<a href="#2430" id="2430">2430</a>
<a href="#2431" id="2431">2431</a>
<a href="#2432" id="2432">2432</a>
<a href="#2433" id="2433">2433</a>
<a href="#2434" id="2434">2434</a>
<a href="#2435" id="2435">2435</a>
<a href="#2436" id="2436">2436</a>
<a href="#2437" id="2437">2437</a>
<a href="#2438" id="2438">2438</a>
<a href="#2439" id="2439">2439</a>
<a href="#2440" id="2440">2440</a>
<a href="#2441" id="2441">2441</a>
<a href="#2442" id="2442">2442</a>
<a href="#2443" id="2443">2443</a>
<a href="#2444" id="2444">2444</a>
<a href="#2445" id="2445">2445</a>
<a href="#2446" id="2446">2446</a>
<a href="#2447" id="2447">2447</a>
<a href="#2448" id="2448">2448</a>
<a href="#2449" id="2449">2449</a>
<a href="#2450" id="2450">2450</a>
<a href="#2451" id="2451">2451</a>
<a href="#2452" id="2452">2452</a>
<a href="#2453" id="2453">2453</a>
<a href="#2454" id="2454">2454</a>
<a href="#2455" id="2455">2455</a>
<a href="#2456" id="2456">2456</a>
<a href="#2457" id="2457">2457</a>
<a href="#2458" id="2458">2458</a>
<a href="#2459" id="2459">2459</a>
<a href="#2460" id="2460">2460</a>
<a href="#2461" id="2461">2461</a>
<a href="#2462" id="2462">2462</a>
<a href="#2463" id="2463">2463</a>
<a href="#2464" id="2464">2464</a>
<a href="#2465" id="2465">2465</a>
<a href="#2466" id="2466">2466</a>
<a href="#2467" id="2467">2467</a>
<a href="#2468" id="2468">2468</a>
<a href="#2469" id="2469">2469</a>
<a href="#2470" id="2470">2470</a>
<a href="#2471" id="2471">2471</a>
<a href="#2472" id="2472">2472</a>
<a href="#2473" id="2473">2473</a>
<a href="#2474" id="2474">2474</a>
<a href="#2475" id="2475">2475</a>
<a href="#2476" id="2476">2476</a>
<a href="#2477" id="2477">2477</a>
<a href="#2478" id="2478">2478</a>
<a href="#2479" id="2479">2479</a>
<a href="#2480" id="2480">2480</a>
<a href="#2481" id="2481">2481</a>
<a href="#2482" id="2482">2482</a>
<a href="#2483" id="2483">2483</a>
<a href="#2484" id="2484">2484</a>
<a href="#2485" id="2485">2485</a>
<a href="#2486" id="2486">2486</a>
<a href="#2487" id="2487">2487</a>
<a href="#2488" id="2488">2488</a>
<a href="#2489" id="2489">2489</a>
<a href="#2490" id="2490">2490</a>
<a href="#2491" id="2491">2491</a>
<a href="#2492" id="2492">2492</a>
<a href="#2493" id="2493">2493</a>
<a href="#2494" id="2494">2494</a>
<a href="#2495" id="2495">2495</a>
<a href="#2496" id="2496">2496</a>
<a href="#2497" id="2497">2497</a></pre></div><pre class="rust"><code><span class="doccomment">//! This module contains all the methods used for onchain interaction, especially with Safe instance, Mutlicall, and Multisend contracts.
//!
//! [SafeTxOperation] corresponds to the `Operation` Enum used in Safe smart contract.
//!
//! [MultisendTransaction] struct is used for building transactions interacting with Multisend contract
</span><span class="kw">use </span><span class="kw">crate</span>::utils::{
    HelperErrors, DEFAULT_ANNOUNCEMENT_PERMISSIONS, DEFAULT_CAPABILITY_PERMISSIONS, DEFAULT_NODE_PERMISSIONS,
    DOMAIN_SEPARATOR_TYPEHASH, SAFE_COMPATIBILITYFALLBACKHANDLER_ADDRESS, SAFE_EXECUTION_SUCCESS,
    SAFE_MULTISEND_ADDRESS, SAFE_SAFEPROXYFACTORY_ADDRESS, SAFE_SAFE_ADDRESS, SAFE_TX_TYPEHASH, SENTINEL_OWNERS,
};
<span class="kw">use </span>bindings::{
    hopr_network_registry::HoprNetworkRegistry,
    hopr_node_management_module::{
        AddChannelsAndTokenTargetCall, HoprNodeManagementModule, IncludeNodeCall, RemoveNodeCall, ScopeTargetTokenCall,
    },
    hopr_node_safe_registry::{DeregisterNodeBySafeCall, HoprNodeSafeRegistry},
    hopr_node_stake_factory::HoprNodeStakeFactory,
    hopr_token::{ApproveCall, HoprToken},
};
<span class="kw">use </span>chain_rpc::TypedTransaction;
<span class="kw">use </span>ethers::{
    abi::AbiEncode,
    contract::{
        abigen,
        multicall_contract::{Aggregate3ValueCall, Call3Value},
        ContractError, Multicall, MulticallError, MULTICALL_ADDRESS,
    },
    providers::Middleware,
    types::{Address, Bytes, Eip1559TransactionRequest, H160, H256, U256},
    utils::{format_units, get_create2_address, keccak256, parse_units},
};
<span class="kw">use </span>hex_literal::hex;
<span class="kw">use </span>hopr_crypto_types::keypairs::{ChainKeypair, Keypair};
<span class="kw">use </span>std::sync::Arc;
<span class="kw">use </span>std::{ops::Add, str::FromStr};
<span class="kw">use </span>tracing::{debug, info};

<span class="macro">abigen!</span>(
    SafeSingleton,
    <span class="string">r"[
    function setup(address[],uint256,address,bytes,address,address,uint256,address)
    function execTransaction(address to, uint256 value, bytes calldata data, uint8 operation, uint256 safeTxGas, uint256 baseGas, uint256 gasPrice, address gasToken, address payable refundReceiver, bytes memory signatures) public payable returns (bool)
    function removeOwner(address prevOwner, address owner, uint256 _threshold) public
    function getThreshold() public view returns (uint256)
    function getOwners() public view returns (address[] memory)
    function nonce() public view returns (uint256)
    function domainSeparator() public view returns (bytes32)
    function encodeTransactionData(address to, uint256 value, bytes calldata data, uint8 operation, uint256 safeTxGas, uint256 baseGas, uint256 gasPrice, address gasToken, address refundReceiver, uint256 _nonce) public view returns (bytes memory)
    function getTransactionHash(address to, uint256 value, bytes calldata data, uint8 operation, uint256 safeTxGas, uint256 baseGas, uint256 gasPrice, address gasToken, address refundReceiver, uint256 _nonce) public view returns (bytes32)
    function isModuleEnabled(address module) public view returns (bool)
]"
</span>);
<span class="macro">abigen!</span>(
    ModuleSingleton,
    <span class="string">r"[
    function isNode(address) external view returns (bool)
    function getTargets() external view returns (uint256[] memory)
    function owner() public view returns (address)
]"
</span>);

<span class="macro">abigen!</span>(
    MultiSend,
    <span class="string">r"[
        function multiSend(bytes memory transactions) public payable
    ]"
</span>);

<span class="doccomment">/// Enums of Safe transaction operation
</span><span class="attr">#[derive(Debug, Clone, PartialEq, Eq)]
</span><span class="kw">pub enum </span>SafeTxOperation {
    Call,
    DelegateCall,
}
<span class="kw">impl </span>SafeTxOperation {
    <span class="doccomment">/// convert the SafeTxOperation to exact one byte
    </span><span class="kw">pub fn </span>to_byte(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; [u8; <span class="number">1</span>] {
        <span class="kw">match </span><span class="self">self </span>{
            SafeTxOperation::Call =&gt; <span class="macro">hex!</span>(<span class="string">"00"</span>),
            SafeTxOperation::DelegateCall =&gt; <span class="macro">hex!</span>(<span class="string">"01"</span>),
        }
    }
}

<span class="kw">impl </span>From&lt;SafeTxOperation&gt; <span class="kw">for </span>u8 {
    <span class="kw">fn </span>from(s: SafeTxOperation) -&gt; u8 {
        s <span class="kw">as </span>u8
    }
}

<span class="doccomment">/// Struct to make a multisend transaction, mainly used by safe instances
</span><span class="attr">#[derive(Debug, Clone)]
</span><span class="kw">pub struct </span>MultisendTransaction {
    <span class="comment">// data paylaod encoded with selector
    </span><span class="kw">pub </span>encoded_data: Bytes,
    <span class="comment">// transaction type
    </span><span class="kw">pub </span>tx_operation: SafeTxOperation,
    <span class="comment">// target address
    </span><span class="kw">pub </span>to: Address,
    <span class="comment">// payable eth sending along the tx
    </span><span class="kw">pub </span>value: U256,
}

<span class="doccomment">/// Methods for Multisend transaction
</span><span class="kw">impl </span>MultisendTransaction {
    <span class="doccomment">/// encode a multisend transaction
    </span><span class="kw">fn </span>encode_packed(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; Vec&lt;u8&gt; {
        <span class="kw">let </span>tx_operation_bytes = <span class="self">self</span>.tx_operation.to_byte();

        <span class="kw">let </span>fixed_length_values = ethers::abi::Token::FixedArray(<span class="macro">vec!</span>[
            ethers::abi::Token::Uint(<span class="self">self</span>.value),                          <span class="comment">// 32 bytes
            </span>ethers::abi::Token::Uint(U256::from(<span class="self">self</span>.encoded_data.len())), <span class="comment">// 32 bytes
        </span>]);

        ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
            ethers::abi::Token::Bytes(tx_operation_bytes.to_vec()), <span class="comment">// 1 bytes
            </span>ethers::abi::Token::Address(<span class="self">self</span>.to),                   <span class="comment">// 20 bytes
            </span>fixed_length_values,                                    <span class="comment">// 2 * 32 bytes
            </span>ethers::abi::Token::Bytes(<span class="self">self</span>.encoded_data.to_vec()),  <span class="comment">// bytes
        </span>])
        .unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to encode_packed a multisig transaction"</span>))
    }

    <span class="doccomment">/// build a multisend transaction data payload
    </span><span class="kw">fn </span>build_multisend_tx(transactions: Vec&lt;MultisendTransaction&gt;) -&gt; Vec&lt;u8&gt; {
        <span class="kw">let </span><span class="kw-2">mut </span>payload: Vec&lt;u8&gt; = Vec::new();
        <span class="kw">for </span>transaction <span class="kw">in </span>transactions {
            payload = [payload, transaction.encode_packed()].concat();
        }
        <span class="macro">debug!</span>(<span class="string">"payload {:?}"</span>, hex::encode(<span class="kw-2">&amp;</span>payload));
        payload
    }
}

<span class="doccomment">/// get the domain separator of a safe instance
/// contract_address should be safe address
</span><span class="kw">fn </span>get_domain_separator(chain_id: U256, contract_address: Address) -&gt; [u8; <span class="number">32</span>] {
    keccak256(ethers::abi::encode(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::FixedBytes(
            hex::decode(DOMAIN_SEPARATOR_TYPEHASH).unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"decode the DOMAIN_SEPARATOR_TYPEHASH"</span>)),
        ), <span class="comment">// DOMAIN_SEPARATOR_TYPEHASH
        </span>ethers::abi::Token::Uint(chain_id),            <span class="comment">// getChainId
        </span>ethers::abi::Token::Address(contract_address), <span class="comment">// this
    </span>]))
}

<span class="doccomment">/// Implement getTransactionHash() function as in vendor/solidity/safe-contracts-1.4.1/contracts/Safe.sol
/// Note that `safeTxGas`, `baseGas`, and `gasPrice` are zero; `gasToken` is also address zero
</span><span class="kw">fn </span>get_safe_transaction_hash(
    to: Address,
    value: U256,
    data: Vec&lt;u8&gt;,
    operation: SafeTxOperation,
    refund_address: Address,
    nonce: U256,
    domain_separator: [u8; <span class="number">32</span>],
) -&gt; [u8; <span class="number">32</span>] {
    <span class="comment">// first encodeTransactionData()
    </span><span class="kw">let </span>data_hash = keccak256(data);

    <span class="kw">let </span>encoded = ethers::abi::encode(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::FixedBytes(
            hex::decode(SAFE_TX_TYPEHASH).unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to decode the SAFE_TX_TYPEHASH"</span>)),
        ), <span class="comment">// SAFE_TX_TYPEHASH
        </span>ethers::abi::Token::Address(to),                       <span class="comment">// to
        </span>ethers::abi::Token::Uint(value),                       <span class="comment">// value
        </span>ethers::abi::Token::FixedBytes(data_hash.into()),      <span class="comment">// keccak256
        </span>ethers::abi::Token::Uint(U256::from(operation <span class="kw">as </span>u8)), <span class="comment">// operation
        </span>ethers::abi::Token::Uint(U256::zero()),                <span class="comment">// safeTxGas
        </span>ethers::abi::Token::Uint(U256::zero()),                <span class="comment">// baseGas
        </span>ethers::abi::Token::Uint(U256::zero()),                <span class="comment">// gasPrice
        </span>ethers::abi::Token::Address(Address::zero()),          <span class="comment">// gasToken
        </span>ethers::abi::Token::Address(refund_address),           <span class="comment">// refundReceiver
        </span>ethers::abi::Token::Uint(nonce),                       <span class="comment">// _nonce
    </span>]);

    <span class="kw">let </span>safe_hash = keccak256(encoded);

    <span class="kw">let </span>encoded_transaction_data = ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"1901"</span>).to_vec()),
        ethers::abi::Token::FixedBytes(domain_separator.into()),
        ethers::abi::Token::FixedBytes(safe_hash.into()),
    ])
    .unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to encode_packed a transaction with ethereum prefix"</span>));

    <span class="kw">let </span>transaction_hash = keccak256(encoded_transaction_data);
    <span class="macro">debug!</span>(<span class="string">"transaction_hash {:?}"</span>, hex::encode(transaction_hash));
    transaction_hash
}

<span class="doccomment">/// Use safe to delegatecall to multisend contract
/// Note that when no additional signature is provided, the safe must have a threshold of one,
/// so that the transaction can be executed.
/// Note that the refund address is the caller (safe owner) wallet
</span><span class="kw">pub async fn </span>send_multisend_safe_transaction_with_threshold_one&lt;M: Middleware&gt;(
    safe: SafeSingleton&lt;M&gt;,
    signer_key: ChainKeypair,
    multisend_contract: Address,
    multisend_txns: Vec&lt;MultisendTransaction&gt;,
    chain_id: U256,
    nonce: U256,
) -&gt; <span class="prelude-ty">Result</span>&lt;(), HelperErrors&gt; {
    <span class="comment">// get signer
    </span><span class="kw">let </span>signer = safe.client().default_sender().expect(<span class="string">"client must have a sender"</span>);
    <span class="kw">let </span>wallet =
        ethers::signers::LocalWallet::from_bytes(signer_key.secret().as_ref()).expect(<span class="string">"failed to construct wallet"</span>);

    <span class="comment">// prepare a safe transaction:
    // 1. calculate total value
    </span><span class="kw">let </span>total_value = multisend_txns
        .clone()
        .into_iter()
        .fold(U256::zero(), |acc, cur| acc.add(cur.value));
    <span class="comment">// 2. prepare tx payload
    </span><span class="kw">let </span>tx_payload = MultisendTransaction::build_multisend_tx(multisend_txns);
    <span class="kw">let </span>multisend_payload = MultiSendCall {
        transactions: tx_payload.into(),
    }
    .encode();
    <span class="comment">// 3. get domain separator
    </span><span class="kw">let </span>domain_separator = get_domain_separator(chain_id, safe.address());

    <span class="macro">debug!</span>(<span class="string">"multisend_payload {:?}"</span>, hex::encode(<span class="kw-2">&amp;</span>multisend_payload));

    <span class="comment">// get transaction hash
    </span><span class="kw">let </span>transaction_hash = get_safe_transaction_hash(
        multisend_contract,
        total_value,
        multisend_payload.clone(),
        SafeTxOperation::DelegateCall,
        signer,
        nonce,
        domain_separator,
    );

    <span class="comment">// sign the transaction
    </span><span class="kw">let </span>signature = wallet
        .sign_hash(transaction_hash.into())
        .unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to sign a transaction hash"</span>));
    <span class="macro">debug!</span>(<span class="string">"signature {:?}"</span>, hex::encode(signature.to_vec()));

    <span class="comment">// execute the transaction
    </span><span class="kw">let </span>tx = safe
        .exec_transaction(
            multisend_contract,
            total_value,
            multisend_payload.into(),
            SafeTxOperation::DelegateCall.into(),
            U256::zero(),
            U256::zero(),
            U256::zero(),
            Address::zero(),
            signer,
            signature.to_vec().into(),
        )
        .send()
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>))
        .ok_or(HelperErrors::MultiSendError)<span class="question-mark">?</span>;

    tx.logs
        .iter()
        .find(|log| log.topics[<span class="number">0</span>].eq(<span class="kw-2">&amp;</span>SAFE_EXECUTION_SUCCESS.parse::&lt;H256&gt;().unwrap()))
        .ok_or(HelperErrors::MultiSendError)<span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Send one transaction via safe
</span><span class="attr">#[allow(clippy::too_many_arguments)]
</span><span class="kw">pub async fn </span>send_safe_transaction_with_threshold_one&lt;M: Middleware&gt;(
    safe: SafeSingleton&lt;M&gt;,
    signer_key: ChainKeypair,
    target: Address,
    tx_payload: Vec&lt;u8&gt;,
    operation: SafeTxOperation,
    total_value: U256,
    chain_id: U256,
    nonce: U256,
) -&gt; <span class="prelude-ty">Result</span>&lt;(), HelperErrors&gt; {
    <span class="comment">// get signer
    </span><span class="kw">let </span>signer = safe.client().default_sender().expect(<span class="string">"client must have a sender"</span>);
    <span class="kw">let </span>wallet =
        ethers::signers::LocalWallet::from_bytes(signer_key.secret().as_ref()).expect(<span class="string">"failed to construct wallet"</span>);

    <span class="comment">// prepare a safe transaction: get domain separator
    </span><span class="kw">let </span>domain_separator = get_domain_separator(chain_id, safe.address());

    <span class="comment">// get transaction hash
    </span><span class="kw">let </span>transaction_hash = get_safe_transaction_hash(
        target,
        total_value,
        tx_payload.clone(),
        operation.clone(),
        signer,
        nonce,
        domain_separator,
    );

    <span class="comment">// sign the transaction
    </span><span class="kw">let </span>signature = wallet.sign_hash(transaction_hash.into())<span class="question-mark">?</span>;
    <span class="macro">debug!</span>(<span class="string">"signature {:?}"</span>, hex::encode(signature.to_vec()));

    <span class="comment">// execute the transaction
    </span><span class="kw">let </span>tx = safe
        .exec_transaction(
            target,
            total_value,
            tx_payload.into(),
            operation.into(),
            U256::zero(),
            U256::zero(),
            U256::zero(),
            Address::zero(),
            signer,
            signature.to_vec().into(),
        )
        .send()
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>))
        .ok_or(HelperErrors::MultiSendError)<span class="question-mark">?</span>;

    tx.logs
        .iter()
        .find(|log| log.topics[<span class="number">0</span>].eq(<span class="kw-2">&amp;</span>SAFE_EXECUTION_SUCCESS.parse::&lt;H256&gt;().unwrap()))
        .ok_or(HelperErrors::MultiSendError)<span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Deploy a MULTICALL contract into Anvil local chain for testing
</span><span class="kw">pub async fn </span>deploy_multicall3_for_testing&lt;M: Middleware&gt;(provider: Arc&lt;M&gt;) -&gt; <span class="prelude-ty">Result</span>&lt;(), ContractError&lt;M&gt;&gt; {
    <span class="comment">// Fund Multicall3 deployer and deploy ERC1820Registry
    </span><span class="kw">let </span><span class="kw-2">mut </span>tx = Eip1559TransactionRequest::new();
    tx = tx.to(H160::from_str(<span class="kw">crate</span>::utils::MULTICALL3_DEPLOYER).unwrap());
    tx = tx.value(<span class="kw">crate</span>::utils::ETH_VALUE_FOR_MULTICALL3_DEPLOYER);

    provider
        .send_transaction(tx, <span class="prelude-val">None</span>)
        .<span class="kw">await
        </span>.map_err(|e| ContractError::MiddlewareError { e })<span class="question-mark">?
        </span>.<span class="kw">await</span><span class="question-mark">?</span>;

    provider.send_raw_transaction(
        <span class="macro">hex!</span>(<span class="string">"f90f538085174876e800830f42408080b90f00608060405234801561001057600080fd5b50610ee0806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e1461025a578063bce38bd714610275578063c3077fa914610288578063ee82ac5e1461029b57600080fd5b80634d2301cc146101ec57806372425d9d1461022157806382ad56cb1461023457806386d516e81461024757600080fd5b80633408e470116100c65780633408e47014610191578063399542e9146101a45780633e64a696146101c657806342cbb15c146101d957600080fd5b80630f28c97d146100f8578063174dea711461011a578063252dba421461013a57806327e86d6e1461015b575b600080fd5b34801561010457600080fd5b50425b6040519081526020015b60405180910390f35b61012d610128366004610a85565b6102ba565b6040516101119190610bbe565b61014d610148366004610a85565b6104ef565b604051610111929190610bd8565b34801561016757600080fd5b50437fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0140610107565b34801561019d57600080fd5b5046610107565b6101b76101b2366004610c60565b610690565b60405161011193929190610cba565b3480156101d257600080fd5b5048610107565b3480156101e557600080fd5b5043610107565b3480156101f857600080fd5b50610107610207366004610ce2565b73ffffffffffffffffffffffffffffffffffffffff163190565b34801561022d57600080fd5b5044610107565b61012d610242366004610a85565b6106ab565b34801561025357600080fd5b5045610107565b34801561026657600080fd5b50604051418152602001610111565b61012d610283366004610c60565b61085a565b6101b7610296366004610a85565b610a1a565b3480156102a757600080fd5b506101076102b6366004610d18565b4090565b60606000828067ffffffffffffffff8111156102d8576102d8610d31565b60405190808252806020026020018201604052801561031e57816020015b6040805180820190915260008152606060208201528152602001906001900390816102f65790505b5092503660005b8281101561047757600085828151811061034157610341610d60565b6020026020010151905087878381811061035d5761035d610d60565b905060200281019061036f9190610d8f565b6040810135958601959093506103886020850185610ce2565b73ffffffffffffffffffffffffffffffffffffffff16816103ac6060870187610dcd565b6040516103ba929190610e32565b60006040518083038185875af1925050503d80600081146103f7576040519150601f19603f3d011682016040523d82523d6000602084013e6103fc565b606091505b50602080850191909152901515808452908501351761046d577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b5050600101610325565b508234146104e6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f4d756c746963616c6c333a2076616c7565206d69736d6174636800000000000060448201526064015b60405180910390fd5b50505092915050565b436060828067ffffffffffffffff81111561050c5761050c610d31565b60405190808252806020026020018201604052801561053f57816020015b606081526020019060019003908161052a5790505b5091503660005b8281101561068657600087878381811061056257610562610d60565b90506020028101906105749190610e42565b92506105836020840184610ce2565b73ffffffffffffffffffffffffffffffffffffffff166105a66020850185610dcd565b6040516105b4929190610e32565b6000604051808303816000865af19150503d80600081146105f1576040519150601f19603f3d011682016040523d82523d6000602084013e6105f6565b606091505b5086848151811061060957610609610d60565b602090810291909101015290508061067d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060448201526064016104dd565b50600101610546565b5050509250929050565b43804060606106a086868661085a565b905093509350939050565b6060818067ffffffffffffffff8111156106c7576106c7610d31565b60405190808252806020026020018201604052801561070d57816020015b6040805180820190915260008152606060208201528152602001906001900390816106e55790505b5091503660005b828110156104e657600084828151811061073057610730610d60565b6020026020010151905086868381811061074c5761074c610d60565b905060200281019061075e9190610e76565b925061076d6020840184610ce2565b73ffffffffffffffffffffffffffffffffffffffff166107906040850185610dcd565b60405161079e929190610e32565b6000604051808303816000865af19150503d80600081146107db576040519150601f19603f3d011682016040523d82523d6000602084013e6107e0565b606091505b506020808401919091529015158083529084013517610851577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b50600101610714565b6060818067ffffffffffffffff81111561087657610876610d31565b6040519080825280602002602001820160405280156108bc57816020015b6040805180820190915260008152606060208201528152602001906001900390816108945790505b5091503660005b82811015610a105760008482815181106108df576108df610d60565b602002602001015190508686838181106108fb576108fb610d60565b905060200281019061090d9190610e42565b925061091c6020840184610ce2565b73ffffffffffffffffffffffffffffffffffffffff1661093f6020850185610dcd565b60405161094d929190610e32565b6000604051808303816000865af19150503d806000811461098a576040519150601f19603f3d011682016040523d82523d6000602084013e61098f565b606091505b506020830152151581528715610a07578051610a07576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060448201526064016104dd565b506001016108c3565b5050509392505050565b6000806060610a2b60018686610690565b919790965090945092505050565b60008083601f840112610a4b57600080fd5b50813567ffffffffffffffff811115610a6357600080fd5b6020830191508360208260051b8501011115610a7e57600080fd5b9250929050565b60008060208385031215610a9857600080fd5b823567ffffffffffffffff811115610aaf57600080fd5b610abb85828601610a39565b90969095509350505050565b6000815180845260005b81811015610aed57602081850181015186830182015201610ad1565b81811115610aff576000602083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600082825180855260208086019550808260051b84010181860160005b84811015610bb1578583037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe001895281518051151584528401516040858501819052610b9d81860183610ac7565b9a86019a9450505090830190600101610b4f565b5090979650505050505050565b602081526000610bd16020830184610b32565b9392505050565b600060408201848352602060408185015281855180845260608601915060608160051b870101935082870160005b82811015610c52577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa0888703018452610c40868351610ac7565b95509284019290840190600101610c06565b509398975050505050505050565b600080600060408486031215610c7557600080fd5b83358015158114610c8557600080fd5b9250602084013567ffffffffffffffff811115610ca157600080fd5b610cad86828701610a39565b9497909650939450505050565b838152826020820152606060408201526000610cd96060830184610b32565b95945050505050565b600060208284031215610cf457600080fd5b813573ffffffffffffffffffffffffffffffffffffffff81168114610bd157600080fd5b600060208284031215610d2a57600080fd5b5035919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81833603018112610dc357600080fd5b9190910192915050565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112610e0257600080fd5b83018035915067ffffffffffffffff821115610e1d57600080fd5b602001915036819003821315610a7e57600080fd5b8183823760009101908152919050565b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1833603018112610dc357600080fd5b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa1833603018112610dc357600080fdfea2646970667358221220bb2b5c71a328032f97c676ae39a1ec2148d3e5d6f73d95e9b17910152d61f16264736f6c634300080c00331ca0edce47092c0f398cebf3ffc267f05c8e7076e3b89445e0fe50f6332273d4569ba01b0b9d000e19b24c5869b0fc3b22b0d6fa47cd63316875cbbd577d76e6fde086"</span>)
            .into()).<span class="kw">await</span>.map_err(|e| ContractError::MiddlewareError {e})<span class="question-mark">?</span>.<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Get chain id and safe nonce
</span><span class="kw">pub async fn </span>get_chain_id_and_safe_nonce&lt;M: Middleware&gt;(safe: SafeSingleton&lt;M&gt;) -&gt; <span class="prelude-ty">Result</span>&lt;(U256, U256), HelperErrors&gt; {
    <span class="kw">let </span>provider = safe.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    multicall.add_get_chain_id().add_call(
        safe.method::&lt;<span class="kw">_</span>, U256&gt;(<span class="string">"nonce"</span>, ())
            .map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>,
        <span class="bool-val">false</span>,
    );

    <span class="kw">let </span>result: (U256, U256) = multicall
        .call()
        .<span class="kw">await
        </span>.map_err(|<span class="kw">_</span>| HelperErrors::MulticallError(<span class="string">"failed in getting chain id and safe nonce"</span>.to_string()))<span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(result)
}

<span class="doccomment">/// Get native balance and hopr token balance for given addresses
</span><span class="kw">pub async fn </span>get_native_and_token_balances&lt;M: Middleware&gt;(
    hopr_token: HoprToken&lt;M&gt;,
    addresses: Vec&lt;Address&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;(Vec&lt;U256&gt;, Vec&lt;U256&gt;), MulticallError&lt;M&gt;&gt; {
    <span class="kw">let </span>provider = hopr_token.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS)).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="kw">for </span>address <span class="kw">in </span>addresses {
        multicall.add_get_eth_balance(address, <span class="bool-val">false</span>).add_call(
            hopr_token
                .method::&lt;<span class="kw">_</span>, U256&gt;(<span class="string">"balanceOf"</span>, address)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        );
    }

    <span class="kw">let </span>response: Vec&lt;U256&gt; = multicall.call_array().<span class="kw">await</span><span class="question-mark">?</span>;
    <span class="kw">let </span><span class="kw-2">mut </span>native_balance: Vec&lt;U256&gt; = <span class="macro">vec!</span>[];
    <span class="kw">let </span><span class="kw-2">mut </span>token_balance: Vec&lt;U256&gt; = <span class="macro">vec!</span>[];

    <span class="kw">for </span>(i, <span class="kw-2">&amp;</span>balance) <span class="kw">in </span>response.iter().enumerate() {
        <span class="kw">if </span>i % <span class="number">2 </span>== <span class="number">0 </span>{
            native_balance.push(balance);
        } <span class="kw">else </span>{
            token_balance.push(balance);
        }
    }

    <span class="prelude-val">Ok</span>((native_balance, token_balance))
}

<span class="doccomment">/// Transfer some HOPR tokens from the caller to the list of addresses
/// Address_i receives amounts_i HOPR tokens.
/// When there's not enough token in caller's balance, if the caller is
/// a minter, mint the missing tokens. If not, returns error
///
/// Attention! Do not use this function to distribute large amount of tokens
///
/// Note that to save gas in batch funding, we use multicall to facilitate token distribution via `transferFrom`
/// To use this functionality, caller must grant Multicall3 contract the exact allowance equal to the sum of tokens
/// to be transferred. As it's a separate function, there is a window between granting the allowance and executing
/// the transactin. Attacker may take advantage of this window and steal tokens from the caller's account.
///
/// TODO: To mitigate this risk, create a MulticallErc777Recipient contract to enable receiption of tokens
/// on the multicall contract and purposely re-entrance with forwarded payload
</span><span class="kw">pub async fn </span>transfer_or_mint_tokens&lt;M: Middleware&gt;(
    hopr_token: HoprToken&lt;M&gt;,
    addresses: Vec&lt;Address&gt;,
    amounts: Vec&lt;U256&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;U256, HelperErrors&gt; {
    <span class="kw">let </span>caller = hopr_token.client().default_sender().expect(<span class="string">"client must have a sender"</span>);
    <span class="kw">let </span>provider = hopr_token.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    <span class="comment">// check if two vectors have the same length
    </span><span class="macro">assert_eq!</span>(
        addresses.len(),
        amounts.len(),
        <span class="string">"addresses and amounts are of different lengths in transfer_or_mint_tokens"
    </span>);

    <span class="comment">// early return if no recipient is provided
    </span><span class="kw">if </span>addresses.is_empty() {
        <span class="kw">return </span><span class="prelude-val">Ok</span>(U256::zero());
    }

    <span class="comment">// calculate the sum of tokens to be sent
    </span><span class="kw">let </span>total = amounts.iter().fold(U256::zero(), |acc, cur| acc.add(cur));
    <span class="macro">info!</span>(<span class="string">"total amount of HOPR tokens to be transferred {:?}"</span>, total.to_string());

    <span class="comment">// get caller balance and its role
    </span><span class="kw">let </span>encoded_minter_role: [u8; <span class="number">32</span>] = keccak256(<span class="string">b"MINTER_ROLE"</span>);
    multicall
        .add_call(
            hopr_token
                .method::&lt;<span class="kw">_</span>, U256&gt;(<span class="string">"balanceOf"</span>, caller)
                .map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        .add_call(
            hopr_token
                .method::&lt;<span class="kw">_</span>, bool&gt;(<span class="string">"hasRole"</span>, (encoded_minter_role, caller))
                .map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        );
    <span class="kw">let </span>result: (U256, bool) = multicall.call().<span class="kw">await</span>.map_err(|<span class="kw">_</span>| {
        HelperErrors::MulticallError(
            <span class="string">"failed in getting caller balance and its role in transfer_or_mint_tokens"</span>.to_string(),
        )
    })<span class="question-mark">?</span>;

    <span class="comment">// compare the total with caller's current balance. If caller doens't have enough balance, try to mint some. Otherwise, revert
    </span><span class="kw">if </span>total.gt(<span class="kw-2">&amp;</span>result.<span class="number">0</span>) {
        <span class="macro">info!</span>(<span class="string">"caller does not have enough balance to transfer tokens to recipients."</span>);
        <span class="kw">if </span>result.<span class="number">1 </span>{
            <span class="macro">info!</span>(<span class="string">"caller tries to mint tokens"</span>);
            hopr_token
                .mint(caller, total, Bytes::default(), Bytes::default())
                .send()
                .<span class="kw">await
                </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
                .<span class="kw">await
                </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));
        } <span class="kw">else </span>{
            <span class="kw">return </span><span class="prelude-val">Err</span>(HelperErrors::NotAMinter);
        }
    }

    <span class="comment">// when there are multiple recipients, use multicall; when single recipient, direct transfer
    </span><span class="kw">if </span>addresses.len() == <span class="number">1 </span>{
        <span class="comment">// direct transfer
        </span>hopr_token
            .transfer(addresses[<span class="number">0</span>], amounts[<span class="number">0</span>])
            .send()
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));
    } <span class="kw">else </span>{
        <span class="comment">// use multicall
        // TODO: introduce a new ERC777Recipient contract and batch the following separated steps into one, to mitigate the attack vector
        // approve the multicall to be able to transfer from caller's wallet
        </span>hopr_token
            .approve(MULTICALL_ADDRESS, total)
            .send()
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));

        <span class="comment">// transfer token to multicall contract and transfer to multiple recipients
        </span><span class="kw">for </span>(i, address) <span class="kw">in </span>addresses.iter().enumerate() {
            <span class="comment">// skip transferring zero amount of tokens
            </span><span class="kw">if </span>amounts[i].gt(<span class="kw-2">&amp;</span>U256::zero()) {
                multicall.add_call(
                    hopr_token
                        .method::&lt;<span class="kw">_</span>, bool&gt;(<span class="string">"transferFrom"</span>, (caller, <span class="kw-2">*</span>address, amounts[i]))
                        .map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>,
                    <span class="bool-val">false</span>,
                );
            }
        }

        multicall
            .send()
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));
    }

    <span class="prelude-val">Ok</span>(total)
}

<span class="doccomment">/// Transfer some native tokens from the caller to the list of addresses
/// Address_i receives amounts_i native tokens.
</span><span class="kw">pub async fn </span>transfer_native_tokens&lt;M: Middleware&gt;(
    provider: Arc&lt;M&gt;,
    addresses: Vec&lt;Address&gt;,
    amounts: Vec&lt;U256&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;U256, HelperErrors&gt; {
    <span class="comment">// check if two vectors have the same length
    </span><span class="macro">assert_eq!</span>(
        addresses.len(),
        amounts.len(),
        <span class="string">"addresses and amounts are of different lengths in transfer_native_tokens"
    </span>);
    <span class="comment">// calculate the sum of tokens to be sent
    </span><span class="kw">let </span>total = amounts.iter().fold(U256::zero(), |acc, cur| acc.add(cur));
    <span class="macro">info!</span>(
        <span class="string">"total amount of native tokens to be transferred {:?}"</span>,
        total.to_string()
    );

    <span class="kw">let </span>call3values: Vec&lt;Call3Value&gt; = addresses
        .iter()
        .enumerate()
        .map(|(i, addr)| Call3Value {
            target: <span class="kw-2">*</span>addr,
            allow_failure: <span class="bool-val">false</span>,
            value: amounts[i],
            call_data: Bytes::default(),
        })
        .collect();
    <span class="comment">// send native tokens to multicall contract along with the multicall transaction that transfers funds to multiple recipients
    </span><span class="kw">let </span><span class="kw-2">mut </span>tx = TypedTransaction::Eip1559(Eip1559TransactionRequest::new());
    tx.set_to(MULTICALL_ADDRESS);
    tx.set_data(Aggregate3ValueCall { calls: call3values }.encode().into());
    tx.set_value(total);

    provider
        .send_transaction(tx, <span class="prelude-val">None</span>)
        .<span class="kw">await
        </span>.map_err(|e| HelperErrors::MiddlewareError(e.to_string()))<span class="question-mark">?
        </span>.<span class="kw">await
        </span>.map_err(|e| HelperErrors::MiddlewareError(e.to_string()))<span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(total)
}

<span class="doccomment">/// Get registered safes for given nodes on the network registry
</span><span class="kw">pub async fn </span>get_registered_safes_for_nodes_on_network_registry&lt;M: Middleware&gt;(
    network_registry: HoprNetworkRegistry&lt;M&gt;,
    node_addresses: Vec&lt;H160&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;Vec&lt;H160&gt;, MulticallError&lt;M&gt;&gt; {
    <span class="kw">let </span>provider = network_registry.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    <span class="kw">for </span>node <span class="kw">in </span>node_addresses {
        multicall.add_call(
            network_registry
                .method::&lt;<span class="kw">_</span>, Address&gt;(<span class="string">"nodeRegisterdToAccount"</span>, node)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        );
    }

    <span class="kw">let </span>response: Vec&lt;Address&gt; = multicall.call_array().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(response)
}

<span class="doccomment">/// Register safes and nodes to the network registry, and force-sync the eligibility to true.
/// It returns the number of removed nodes and nodes being added.
/// - If nodes have been registered to a different safe, overwrite it (remove the old safe and regsiter with the new safe)
/// - If ndoes have been registered to the same safe, no op
/// - If nodes have not been registered to any safe, register it
///
/// After all the nodes have been added to the network registry, force-sync the eligibility of all the added safes to true
</span><span class="kw">pub async fn </span>register_safes_and_nodes_on_network_registry&lt;M: Middleware&gt;(
    network_registry: HoprNetworkRegistry&lt;M&gt;,
    safe_addresses: Vec&lt;H160&gt;,
    node_addresses: Vec&lt;H160&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;(usize, usize), HelperErrors&gt; {
    <span class="macro">assert_eq!</span>(
        safe_addresses.len(),
        node_addresses.len(),
        <span class="string">"unmatched lengths of safes and nodes"
    </span>);

    <span class="comment">// check registered safes of given node addresses
    </span><span class="kw">let </span>registered_safes =
        get_registered_safes_for_nodes_on_network_registry(network_registry.clone(), node_addresses.clone())
            .<span class="kw">await
            </span>.map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>;

    <span class="kw">let </span><span class="kw-2">mut </span>nodes_to_remove: Vec&lt;H160&gt; = Vec::new();
    <span class="kw">let </span><span class="kw-2">mut </span>safes_to_add: Vec&lt;H160&gt; = Vec::new();
    <span class="kw">let </span><span class="kw-2">mut </span>nodes_to_add: Vec&lt;H160&gt; = Vec::new();

    <span class="kw">for </span>(i, registered_safe) <span class="kw">in </span>registered_safes.iter().enumerate() {
        <span class="kw">if </span>registered_safe.eq(<span class="kw-2">&amp;</span>H160::zero()) {
            <span class="comment">// no entry, add to network registry
            </span>safes_to_add.push(safe_addresses[i]);
            nodes_to_add.push(node_addresses[i]);
        } <span class="kw">else if </span>registered_safe.ne(<span class="kw-2">&amp;</span>safe_addresses[i]) {
            <span class="comment">// remove first then add
            </span>nodes_to_remove.push(node_addresses[i]);
            safes_to_add.push(safe_addresses[i]);
            nodes_to_add.push(node_addresses[i]);
        } <span class="kw">else </span>{
            <span class="comment">// no-op
        </span>}
    }

    <span class="kw">if </span>!nodes_to_remove.is_empty() {
        <span class="comment">// need to remove some nodes
        </span>network_registry
            .manager_deregister(nodes_to_remove.clone())
            .send()
            .<span class="kw">await
            </span>.unwrap()
            .<span class="kw">await
            </span>.unwrap();
    }

    network_registry
        .manager_register(safes_to_add.clone(), nodes_to_add.clone())
        .send()
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));

    <span class="comment">// force sync their eligibility
    </span>network_registry
        .manager_force_sync(safes_to_add.clone(), <span class="macro">vec!</span>[<span class="bool-val">true</span>; safes_to_add.len()])
        .send()
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));

    <span class="prelude-val">Ok</span>((nodes_to_remove.len(), nodes_to_add.len()))
}

<span class="doccomment">/// Deregister safes and nodes from the network registry. Does not do any action on the eligibility.
/// It returns the number of removed nodes
/// - If nodes have been registered to a safe, remove the node
/// - If nodes have not been registered to any safe, no op
</span><span class="kw">pub async fn </span>deregister_nodes_from_network_registry&lt;M: Middleware&gt;(
    network_registry: HoprNetworkRegistry&lt;M&gt;,
    node_addresses: Vec&lt;H160&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;usize, HelperErrors&gt; {
    <span class="comment">// check registered safes of given node addresses
    </span><span class="kw">let </span>registered_safes =
        get_registered_safes_for_nodes_on_network_registry(network_registry.clone(), node_addresses.clone())
            .<span class="kw">await
            </span>.map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>;

    <span class="kw">let </span><span class="kw-2">mut </span>nodes_to_remove: Vec&lt;H160&gt; = Vec::new();

    <span class="kw">for </span>(i, registered_safe) <span class="kw">in </span>registered_safes.iter().enumerate() {
        <span class="kw">if </span>registered_safe.ne(<span class="kw-2">&amp;</span>H160::zero()) {
            <span class="comment">// remove the node
            </span>nodes_to_remove.push(node_addresses[i]);
        }
    }

    <span class="kw">if </span>!nodes_to_remove.is_empty() {
        <span class="comment">// need to remove some nodes
        </span>network_registry
            .manager_deregister(nodes_to_remove.clone())
            .send()
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
            .<span class="kw">await
            </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));
    }
    <span class="prelude-val">Ok</span>(nodes_to_remove.len())
}

<span class="doccomment">/// Force-sync the eligibility to given values. This can only be called with a manager account
</span><span class="kw">pub async fn </span>force_sync_safes_on_network_registry&lt;M: Middleware&gt;(
    network_registry: HoprNetworkRegistry&lt;M&gt;,
    safe_addresses: Vec&lt;H160&gt;,
    eligibilities: Vec&lt;bool&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;(), HelperErrors&gt; {
    <span class="macro">assert_eq!</span>(
        safe_addresses.len(),
        eligibilities.len(),
        <span class="string">"unmatched lengths of safes and eligibilities"
    </span>);

    <span class="comment">// force sync their eligibility
    </span>network_registry
        .manager_force_sync(safe_addresses, eligibilities)
        .send()
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to exeute a pending transaction"</span>))
        .<span class="kw">await
        </span>.unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"failed to resolve a transaction receipt"</span>));

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Helper function to predict module address. Note that here the caller is the contract deployer
</span><span class="kw">pub fn </span>predict_module_address(
    caller: Address,
    nonce: [u8; <span class="number">32</span>],
    factory_address: Address,
    implementation_address: Address,
) -&gt; <span class="prelude-ty">Result</span>&lt;Address, HelperErrors&gt; {
    <span class="kw">let </span>module_salt = keccak256(ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Address(caller),
        ethers::abi::Token::Bytes(nonce.into()),
    ])<span class="question-mark">?</span>);
    <span class="macro">debug!</span>(<span class="string">"module_salt {:?}"</span>, module_salt);

    <span class="kw">let </span>module_creation_code = ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"3d602d80600a3d3981f3363d3d373d3d3d363d73"</span>).to_vec()),
        ethers::abi::Token::Address(implementation_address),
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"5af43d82803e903d91602b57fd5bf3"</span>).to_vec()),
    ])<span class="question-mark">?</span>;
    <span class="macro">debug!</span>(<span class="string">"module_creation_code {:?}"</span>, module_creation_code);

    <span class="kw">let </span>predict_module_addr = get_create2_address(factory_address, module_salt, module_creation_code);
    <span class="macro">debug!</span>(<span class="string">"predict_module_addr {:?}"</span>, predict_module_addr);

    <span class="prelude-val">Ok</span>(predict_module_addr)
}

<span class="doccomment">/// Helper function to predict safe address
</span><span class="kw">pub fn </span>predict_safe_address(
    stake_factory: Address,
    admins: Vec&lt;Address&gt;,
    nonce: [u8; <span class="number">32</span>],
    safe_fallback: Address,
    safe_singleton: Address,
    safe_factory: Address,
) -&gt; <span class="prelude-ty">Result</span>&lt;Address, HelperErrors&gt; {
    <span class="kw">let </span><span class="kw-2">mut </span>temp_admins = admins.clone();
    temp_admins[<span class="number">0</span>] = stake_factory;

    <span class="kw">let </span>initializer = SetupCall(
        temp_admins,
        U256::one(),
        Address::zero(),
        Bytes::from(<span class="macro">hex!</span>(<span class="string">"00"</span>)),
        safe_fallback,
        Address::zero(),
        U256::zero(),
        Address::zero(),
    )
    .encode();

    <span class="kw">let </span>safe_salt = get_salt_from_salt_nonce(initializer, nonce)<span class="question-mark">?</span>;
    <span class="macro">debug!</span>(<span class="string">"safe_salt {:?}"</span>, hex::encode(safe_salt));

    <span class="kw">let </span>predict_safe_addr = deploy_proxy(safe_singleton, safe_salt, safe_factory)<span class="question-mark">?</span>;
    <span class="macro">debug!</span>(<span class="string">"predict_safe_addr {:?}"</span>, hex::encode(predict_safe_addr));

    <span class="prelude-val">Ok</span>(predict_safe_addr)
}

<span class="doccomment">/// helper function to get salt nonce
</span><span class="kw">fn </span>get_salt_from_salt_nonce(initializer: Vec&lt;u8&gt;, salt_nonce: [u8; <span class="number">32</span>]) -&gt; <span class="prelude-ty">Result</span>&lt;[u8; <span class="number">32</span>], HelperErrors&gt; {
    <span class="kw">let </span>hashed_initializer = keccak256(initializer);

    <span class="prelude-val">Ok</span>(keccak256(ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Bytes(hashed_initializer.into()),
        ethers::abi::Token::Bytes(salt_nonce.into()),
    ])<span class="question-mark">?</span>))
}

<span class="doccomment">/// helper function to compute create2 safe proxy address
</span><span class="kw">fn </span>deploy_proxy(safe_singleton: Address, safe_salt: [u8; <span class="number">32</span>], safe_factory: Address) -&gt; <span class="prelude-ty">Result</span>&lt;Address, HelperErrors&gt; {
    <span class="kw">let </span>safe_creation_code = ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"608060405234801561001057600080fd5b506040516101e63803806101e68339818101604052602081101561003357600080fd5b8101908080519060200190929190505050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156100ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806101c46022913960400191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505060ab806101196000396000f3fe608060405273ffffffffffffffffffffffffffffffffffffffff600054167fa619486e0000000000000000000000000000000000000000000000000000000060003514156050578060005260206000f35b3660008037600080366000845af43d6000803e60008114156070573d6000fd5b3d6000f3fea264697066735822122003d1488ee65e08fa41e58e888a9865554c535f2c77126a82cb4c0f917f31441364736f6c63430007060033496e76616c69642073696e676c65746f6e20616464726573732070726f7669646564"</span>).to_vec()),
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"000000000000000000000000"</span>).to_vec()),    <span class="comment">// pad address to bytes32
        </span>ethers::abi::Token::Address(safe_singleton),
    ])<span class="question-mark">?</span>;
    <span class="macro">debug!</span>(<span class="string">"safe_creation_code {:?}"</span>, hex::encode(safe_creation_code.clone()));

    <span class="kw">let </span>predict_safe_addr = get_create2_address(safe_factory, safe_salt, safe_creation_code);
    <span class="macro">debug!</span>(<span class="string">"predict_safe_addr {:?}"</span>, hex::encode(predict_safe_addr));

    <span class="prelude-val">Ok</span>(predict_safe_addr)
}

<span class="doccomment">/// Wrap a transaction into a safe transaction payload
/// Add the safe transaction to multicall
</span><span class="kw">pub fn </span>prepare_safe_tx_from_owner_contract&lt;M: Middleware&gt;(
    <span class="kw-2">mut </span>multicall: Multicall&lt;M&gt;,
    deployed_safe: SafeSingleton&lt;M&gt;,
    target: Address,
    refund_address: Address,
    tx_payload: Vec&lt;u8&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;Multicall&lt;M&gt;, HelperErrors&gt; {
    <span class="kw">let </span>approval_hash_sig = ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"000000000000000000000000"</span>).to_vec()),
        ethers::abi::Token::Address(MULTICALL_ADDRESS),
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"0000000000000000000000000000000000000000000000000000000000000000"</span>).to_vec()),
        ethers::abi::Token::Bytes(<span class="macro">hex!</span>(<span class="string">"01"</span>).to_vec()),
    ])<span class="question-mark">?</span>;

    multicall.add_call(
        deployed_safe
            .method::&lt;<span class="kw">_</span>, bool&gt;(
                <span class="string">"execTransaction"</span>,
                (
                    target,
                    U256::zero(),
                    Bytes::from(tx_payload),
                    <span class="number">0u8</span>,
                    U256::zero(),
                    U256::zero(),
                    U256::zero(),
                    Address::zero(),
                    refund_address,
                    Bytes::from(approval_hash_sig),
                ),
            )
            .map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>,
        <span class="bool-val">false</span>,
    );
    <span class="prelude-val">Ok</span>(multicall)
}

<span class="doccomment">/// Deploy a safe and a module proxies via HoprStakeFactory contract with default permissions and announcement targets
/// Within one multicall, as an owner of the safe:
/// - deploy a safe proxy instance and a module proxy instance with multicall as an owner
/// - add announcement as a permitted target in the deployed module proxy
/// - approve token transfer to be done for the safe by channel contracts
/// - if node addresses are known, include nodes to the module by safe
/// - transfer safe ownership to actual admins
/// - set desired threshold
/// - if node addresses are known, include nodes and safes to the network registry.
///
/// Returns safe proxy address and module proxy address
</span><span class="attr">#[allow(clippy::too_many_arguments)]
</span><span class="kw">pub async fn </span>deploy_safe_module_with_targets_and_nodes&lt;M: Middleware&gt;(
    hopr_node_stake_factory: HoprNodeStakeFactory&lt;M&gt;,
    hopr_token_address: Address,
    hopr_channels_address: Address,
    hopr_module_implementation_address: Address,
    hopr_announcement_address: Address,
    allowance: U256,
    node_addresses: <span class="prelude-ty">Option</span>&lt;Vec&lt;Address&gt;&gt;,
    admins: Vec&lt;Address&gt;,
    threshold: U256,
) -&gt; <span class="prelude-ty">Result</span>&lt;(SafeSingleton&lt;M&gt;, HoprNodeManagementModule&lt;M&gt;), HelperErrors&gt; {
    <span class="kw">let </span>caller = hopr_node_stake_factory
        .client()
        .default_sender()
        .expect(<span class="string">"client must have a sender"</span>);
    <span class="kw">let </span>provider = hopr_node_stake_factory.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    <span class="comment">// check safes owners are provided and threshold is valid
    </span><span class="macro">assert!</span>(!admins.is_empty(), <span class="string">"safe must have valid admin(s)"</span>);
    <span class="macro">assert!</span>(
        threshold.ge(<span class="kw-2">&amp;</span>U256::one()) &amp;&amp; threshold.le(<span class="kw-2">&amp;</span>admins.len().into()),
        <span class="string">"safe threshold must be at least one and not greater than the total number of admins"
    </span>);
    <span class="macro">assert!</span>(
        !admins.contains(<span class="kw-2">&amp;</span>MULTICALL_ADDRESS),
        <span class="string">"multicall contract cannot be an admin"
    </span>);

    <span class="comment">// build a new temporary admin
    </span><span class="kw">let </span><span class="kw-2">mut </span>temporary_admins: Vec&lt;Address&gt; = admins.clone();
    temporary_admins.insert(<span class="number">0</span>, MULTICALL_ADDRESS);
    <span class="macro">info!</span>(
        <span class="string">"temporary_admins expends from admin from {:?} addresses to {:?}"</span>,
        admins.len(),
        temporary_admins.len()
    );

    <span class="comment">// build the default permissions of capabilities
    </span><span class="kw">let </span>default_target: [u8; <span class="number">32</span>] =
        U256::from_str(<span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, hopr_channels_address, DEFAULT_CAPABILITY_PERMISSIONS).as_str())
            .unwrap()
            .into();
    <span class="macro">debug!</span>(<span class="string">"default target {:?}"</span>, default_target);
    <span class="comment">// salt nonce
    </span><span class="kw">let </span>curr_nonce = provider
        .get_transaction_count(caller, <span class="prelude-val">Some</span>(ethers::types::BlockNumber::Pending.into()))
        .<span class="kw">await
        </span>.map_err(|e| HelperErrors::MiddlewareError(e.to_string()))<span class="question-mark">?</span>;
    <span class="kw">let </span>nonce = keccak256(ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
        ethers::abi::Token::Address(caller),
        ethers::abi::Token::Uint(curr_nonce),
    ])<span class="question-mark">?</span>);

    <span class="macro">debug!</span>(<span class="string">"curr_nonce {} and nonce {:?}"</span>, curr_nonce, nonce);

    <span class="comment">// predict module and safe address
    </span><span class="kw">let </span>module_address = predict_module_address(
        MULTICALL_ADDRESS,
        nonce,
        hopr_node_stake_factory.address(),
        hopr_module_implementation_address,
    )<span class="question-mark">?</span>;
    <span class="macro">info!</span>(<span class="string">"predicted module address {:?}"</span>, module_address);

    <span class="kw">let </span>safe_address = predict_safe_address(
        hopr_node_stake_factory.address(),
        temporary_admins.clone(),
        nonce,
        Address::from_str(SAFE_COMPATIBILITYFALLBACKHANDLER_ADDRESS).unwrap(),
        Address::from_str(SAFE_SAFE_ADDRESS).unwrap(),
        Address::from_str(SAFE_SAFEPROXYFACTORY_ADDRESS).unwrap(),
    )<span class="question-mark">?</span>;
    <span class="macro">info!</span>(<span class="string">"predicted safe address {:?}"</span>, safe_address);

    <span class="kw">let </span>deployed_module = HoprNodeManagementModule::new(module_address, provider.clone());
    <span class="kw">let </span>deployed_safe = SafeSingleton::new(safe_address, provider.clone());

    <span class="comment">// Use multicall to deploy a safe proxy instance and a module proxy instance with multicall as an owner
    </span>multicall.add_call(
        hopr_node_stake_factory
            .method::&lt;<span class="kw">_</span>, (Address, Address)&gt;(
                <span class="string">"clone"</span>,
                (
                    hopr_module_implementation_address,
                    temporary_admins,
                    U256::from(nonce),
                    default_target,
                ),
            )
            .map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?</span>,
        <span class="bool-val">false</span>,
    );
    <span class="macro">info!</span>(<span class="string">"Safe and module have been deployed"</span>);

    <span class="comment">// add announcement as a permitted target in the deployed module proxy
    </span><span class="kw">let </span>announcement_target =
        U256::from_str(<span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, hopr_announcement_address, DEFAULT_ANNOUNCEMENT_PERMISSIONS).as_str())
            .unwrap();
    <span class="kw">let </span>scope_announcement_tx_payload = ScopeTargetTokenCall {
        default_target: announcement_target,
    }
    .encode();

    multicall = prepare_safe_tx_from_owner_contract(
        multicall.clone(),
        deployed_safe.clone(),
        module_address,
        caller,
        scope_announcement_tx_payload,
    )<span class="question-mark">?</span>;
    <span class="macro">info!</span>(<span class="string">"Announcement smart contract has been scoped as target"</span>);

    <span class="comment">// approve token transfer to be done for the safe by channel contracts
    </span><span class="kw">let </span>approve_tx_payload = ApproveCall {
        spender: hopr_channels_address,
        value: allowance,
    }
    .encode();

    multicall = prepare_safe_tx_from_owner_contract(
        multicall.clone(),
        deployed_safe.clone(),
        hopr_token_address,
        caller,
        approve_tx_payload,
    )<span class="question-mark">?</span>;
    <span class="macro">info!</span>(<span class="string">"Token transfer allowance has been set for channel contract"</span>);

    <span class="comment">// if node addresses are known, include nodes to the module by safe
    </span><span class="kw">if let </span><span class="prelude-val">Some</span>(nodes) = node_addresses {
        <span class="kw">for </span>node <span class="kw">in </span>nodes {
            <span class="kw">let </span>node_target = U256::from_str(<span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, node, DEFAULT_NODE_PERMISSIONS).as_str()).unwrap();
            <span class="kw">let </span>include_node_tx_payload = IncludeNodeCall {
                node_default_target: node_target,
            }
            .encode();
            multicall = prepare_safe_tx_from_owner_contract(
                multicall.clone(),
                deployed_safe.clone(),
                module_address,
                caller,
                include_node_tx_payload,
            )<span class="question-mark">?</span>;
        }
        <span class="macro">info!</span>(<span class="string">"Nodes have been included in the module"</span>);
    } <span class="kw">else </span>{
        <span class="macro">info!</span>(<span class="string">"No node has been provided. Skip node inclusion action"</span>);
    }

    <span class="comment">// renounce ownership granted to multicall so that only actual admins are included. Set the threshold.
    </span><span class="kw">let </span>remove_owner_tx_payload = RemoveOwnerCall {
        prev_owner: Address::from_str(SENTINEL_OWNERS).unwrap(),
        owner: MULTICALL_ADDRESS,
        threshold,
    }
    .encode();

    multicall = prepare_safe_tx_from_owner_contract(
        multicall.clone(),
        deployed_safe.clone(),
        safe_address,
        caller,
        remove_owner_tx_payload,
    )<span class="question-mark">?</span>;
    <span class="macro">info!</span>(<span class="string">"Admins and threshold have been set to provided values"</span>);

    <span class="kw">let </span>receipt = multicall
        .send()
        .<span class="kw">await
        </span>.map_err(|e| HelperErrors::MulticallError(e.to_string()))<span class="question-mark">?
        </span>.<span class="kw">await
        </span>.unwrap()
        .unwrap();
    <span class="macro">info!</span>(<span class="string">"multicall receipt {:?}"</span>, receipt.transaction_hash);

    <span class="prelude-val">Ok</span>((deployed_safe, deployed_module))
}

<span class="doccomment">/// Get registered safes for given nodes on the node-safe registry
</span><span class="kw">pub async fn </span>get_registered_safes_for_nodes_on_node_safe_registry&lt;M: Middleware&gt;(
    node_safe_registry: HoprNodeSafeRegistry&lt;M&gt;,
    node_addresses: Vec&lt;H160&gt;,
) -&gt; <span class="prelude-ty">Result</span>&lt;Vec&lt;H160&gt;, MulticallError&lt;M&gt;&gt; {
    <span class="kw">let </span>provider = node_safe_registry.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    <span class="kw">for </span>node <span class="kw">in </span>node_addresses {
        multicall.add_call(
            node_safe_registry
                .method::&lt;<span class="kw">_</span>, Address&gt;(<span class="string">"nodeToSafe"</span>, node)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        );
    }

    <span class="kw">let </span>response: Vec&lt;Address&gt; = multicall.call_array().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(response)
}

<span class="doccomment">/// Deregister safes and nodes from the node-safe registry.
/// It returns the number of removed nodes
/// - If nodes have been registered to a safe, remove the node
/// - If nodes have not been registered to any safe, no op
///
/// When deregsitering one node, also remove the node from the module
</span><span class="kw">pub async fn </span>deregister_nodes_from_node_safe_registry_and_remove_from_module&lt;M: Middleware&gt;(
    node_safe_registry: HoprNodeSafeRegistry&lt;M&gt;,
    node_addresses: Vec&lt;H160&gt;,
    module_addresses: Vec&lt;H160&gt;,
    owner_chain_key: ChainKeypair,
) -&gt; <span class="prelude-ty">Result</span>&lt;u32, HelperErrors&gt; {
    <span class="kw">let </span>provider = node_safe_registry.client();
    <span class="comment">// check registered safes of given node addresses
    </span><span class="kw">let </span>registered_safes =
        get_registered_safes_for_nodes_on_node_safe_registry(node_safe_registry.clone(), node_addresses.clone())
            .<span class="kw">await
            </span>.unwrap();

    <span class="kw">let </span><span class="kw-2">mut </span>nodes_to_remove_counter = <span class="number">0u32</span>;

    <span class="kw">for </span>(i, registered_safe) <span class="kw">in </span>registered_safes.iter().enumerate() {
        <span class="kw">if </span>registered_safe.ne(<span class="kw-2">&amp;</span>H160::zero()) {
            <span class="comment">// connect to safe
            </span><span class="kw">let </span>safe = SafeSingleton::new(registered_safe.to_owned(), provider.clone());
            <span class="comment">// update counter
            </span>nodes_to_remove_counter += <span class="number">1</span>;
            <span class="comment">// get chain id and nonce
            </span><span class="kw">let </span>(chain_id, safe_nonce) = get_chain_id_and_safe_nonce(safe.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

            <span class="comment">// for each safe, prepare a multisend transaction to dergister node from safe and remove node from module
            </span><span class="kw">let </span>multisend_txns: Vec&lt;MultisendTransaction&gt; = <span class="macro">vec!</span>[
                MultisendTransaction {
                    <span class="comment">// build multisend tx payload
                    </span>encoded_data: DeregisterNodeBySafeCall {
                        node_addr: node_addresses[i],
                    }
                    .encode()
                    .into(),
                    tx_operation: SafeTxOperation::Call,
                    to: node_safe_registry.address(),
                    value: U256::zero(),
                },
                MultisendTransaction {
                    <span class="comment">// build multisend tx payload
                    </span>encoded_data: RemoveNodeCall {
                        node_address: node_addresses[i],
                    }
                    .encode()
                    .into(),
                    tx_operation: SafeTxOperation::Call,
                    to: module_addresses[i],
                    value: U256::zero(),
                },
            ];

            <span class="comment">// send safe transaction
            </span>send_multisend_safe_transaction_with_threshold_one(
                safe,
                owner_chain_key.clone(),
                H160::from_str(SAFE_MULTISEND_ADDRESS).unwrap(),
                multisend_txns,
                chain_id,
                safe_nonce,
            )
            .<span class="kw">await</span><span class="question-mark">?</span>;
        }
    }

    <span class="prelude-val">Ok</span>(nodes_to_remove_counter)
}

<span class="doccomment">/// Include nodes to the module
</span><span class="kw">pub async fn </span>include_nodes_to_module&lt;M: Middleware&gt;(
    safe: SafeSingleton&lt;M&gt;,
    node_addresses: Vec&lt;H160&gt;,
    module_address: H160,
    owner_chain_key: ChainKeypair,
) -&gt; <span class="prelude-ty">Result</span>&lt;(), HelperErrors&gt; {
    <span class="comment">// get chain id and nonce
    </span><span class="kw">let </span>(chain_id, safe_nonce) = get_chain_id_and_safe_nonce(safe.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="comment">// prepare a multisend transaction to include each node to the  module
    </span><span class="kw">let </span><span class="kw-2">mut </span>multisend_txns: Vec&lt;MultisendTransaction&gt; = Vec::new();
    <span class="kw">for </span>node_address <span class="kw">in </span>node_addresses {
        <span class="kw">let </span>node_target = U256::from_str(<span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, node_address, DEFAULT_NODE_PERMISSIONS).as_str()).unwrap();
        multisend_txns.push(MultisendTransaction {
            encoded_data: IncludeNodeCall {
                node_default_target: node_target,
            }
            .encode()
            .into(),
            tx_operation: SafeTxOperation::Call,
            to: module_address,
            value: U256::zero(),
        });
    }

    <span class="comment">// send safe transaction
    </span>send_multisend_safe_transaction_with_threshold_one(
        safe,
        owner_chain_key.clone(),
        H160::from_str(SAFE_MULTISEND_ADDRESS).unwrap(),
        multisend_txns,
        chain_id,
        safe_nonce,
    )
    .<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Migrate nodes to be able to run in a new network.
</span><span class="comment">// - scope the Channel contract of the new network to the module as target and set default permissions.
// - scope the Announcement contract as target to the module
// - approve HOPR tokens of the Safe proxy to be transferred by the new Channels contract
</span><span class="kw">pub async fn </span>migrate_nodes&lt;M: Middleware&gt;(
    safe: SafeSingleton&lt;M&gt;,
    module_addresses: Address,
    channels_address: Address,
    token_address: Address,
    announcement_address: Address,
    allowance: U256,
    owner_chain_key: ChainKeypair,
) -&gt; <span class="prelude-ty">Result</span>&lt;(), HelperErrors&gt; {
    <span class="kw">let </span>(chain_id, safe_nonce) = get_chain_id_and_safe_nonce(safe.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="kw">let </span><span class="kw-2">mut </span>multisend_txns: Vec&lt;MultisendTransaction&gt; = Vec::new();

    <span class="comment">// scope channels and tokens contract of the network
    </span><span class="kw">let </span>default_target =
        U256::from_str(<span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, channels_address, DEFAULT_CAPABILITY_PERMISSIONS).as_str()).unwrap();
    <span class="macro">debug!</span>(<span class="string">"default target {:?}"</span>, default_target);

    multisend_txns.push(MultisendTransaction {
        <span class="comment">// build multisend tx payload
        </span>encoded_data: AddChannelsAndTokenTargetCall { default_target }.encode().into(),
        tx_operation: SafeTxOperation::Call,
        to: module_addresses,
        value: U256::zero(),
    });

    <span class="comment">// scope announcement contract of the new network
    </span><span class="kw">let </span>announcement_target =
        U256::from_str(<span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, announcement_address, DEFAULT_ANNOUNCEMENT_PERMISSIONS).as_str()).unwrap();

    multisend_txns.push(MultisendTransaction {
        <span class="comment">// build multisend tx payload
        </span>encoded_data: ScopeTargetTokenCall {
            default_target: announcement_target,
        }
        .encode()
        .into(),
        tx_operation: SafeTxOperation::Call,
        to: module_addresses,
        value: U256::zero(),
    });

    <span class="comment">// approve token transfer by the new Channels contract
    </span>multisend_txns.push(MultisendTransaction {
        <span class="comment">// build multisend tx payload
        </span>encoded_data: ApproveCall {
            spender: channels_address,
            value: allowance,
        }
        .encode()
        .into(),
        tx_operation: SafeTxOperation::Call,
        to: token_address,
        value: U256::zero(),
    });

    <span class="comment">// send safe transaction
    </span>send_multisend_safe_transaction_with_threshold_one(
        safe,
        owner_chain_key.clone(),
        H160::from_str(SAFE_MULTISEND_ADDRESS).unwrap(),
        multisend_txns,
        chain_id,
        safe_nonce,
    )
    .<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Quick check if the following values are correct, for one single node:
/// 1. node xDAI balance
/// 2. If node has been included on Network Registry
/// 3. If node and safe are associated on Node Safe Registry
</span><span class="kw">pub async fn </span>debug_node_safe_module_setup_on_balance_and_registries&lt;M: Middleware&gt;(
    network_registry: HoprNetworkRegistry&lt;M&gt;,
    node_safe_registry: HoprNodeSafeRegistry&lt;M&gt;,
    node_address: <span class="kw-2">&amp;</span>H160,
) -&gt; <span class="prelude-ty">Result</span>&lt;Address, MulticallError&lt;M&gt;&gt; {
    <span class="kw">let </span>provider = network_registry.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    <span class="macro">info!</span>(<span class="string">"checking for node {:?}"</span>, node_address);
    multicall
        <span class="comment">// 1. node xDAI balance
        </span>.add_get_eth_balance(<span class="kw-2">*</span>node_address, <span class="bool-val">false</span>)
        <span class="comment">// 2. get safe address from the Network Registry
        </span>.add_call(
            network_registry
                .method::&lt;<span class="kw">_</span>, Address&gt;(<span class="string">"nodeRegisterdToAccount"</span>, <span class="kw-2">*</span>node_address)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 3. get the safe address from the Node Safe Registry
        </span>.add_call(
            node_safe_registry
                .method::&lt;<span class="kw">_</span>, Address&gt;(<span class="string">"nodeToSafe"</span>, <span class="kw-2">*</span>node_address)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        );

    <span class="kw">let </span>(node_native_balance, safe_in_network_registry, safe_in_nodesafe_registry): (U256, Address, Address) =
        multicall.call().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="macro">info!</span>(
        <span class="string">"node does{:?} have xDAI balance {:?}"</span>,
        <span class="kw">if </span>node_native_balance.ge(<span class="kw-2">&amp;</span>U256::from(
            parse_units(<span class="number">0.1</span>, <span class="string">"ether"</span>).unwrap_or_else(|<span class="kw">_</span>| <span class="macro">panic!</span>(<span class="string">"cannot parse node_native_balance"</span>))
        )) {
            <span class="string">""
        </span>} <span class="kw">else </span>{
            <span class="string">" NOT"
        </span>},
        format_units(node_native_balance, <span class="string">"ether"</span>).unwrap_or(<span class="string">"Unknown balance"</span>.into())
    );

    <span class="kw">if </span>safe_in_network_registry.eq(<span class="kw-2">&amp;</span>H160::zero()) {
        <span class="macro">info!</span>(<span class="string">"Please register the node to the network registry"</span>);
    } <span class="kw">else </span>{
        <span class="macro">info!</span>(<span class="string">"safe in network registry {:?}"</span>, safe_in_network_registry);
    }

    <span class="kw">if </span>safe_in_nodesafe_registry.eq(<span class="kw-2">&amp;</span>H160::zero()) {
        <span class="macro">info!</span>(<span class="string">"Please start the node. It will auto-register to node-safe registry"</span>);
    } <span class="kw">else </span>{
        <span class="macro">info!</span>(<span class="string">"safe in node-safe registry {:?}"</span>, safe_in_nodesafe_registry);
    }
    <span class="macro">info!</span>(
        <span class="string">"Safes in both registies should match: {:?}"</span>,
        safe_in_network_registry.eq(<span class="kw-2">&amp;</span>safe_in_nodesafe_registry)
    );

    <span class="prelude-val">Ok</span>(safe_in_network_registry)
}

<span class="doccomment">/// Quick check if the following values are correct, for one single node:
/// 4. If Safe is owned by the correct owner(s)
/// 5. Safe’s wxHOPR balance and allowance
/// 6. if the module is enabled
/// 7. if node is included in the module
/// 8. Get all the targets of the safe (then check if channel and announcement are there)
/// 9. Get the owner of the module
</span><span class="kw">pub async fn </span>debug_node_safe_module_setup_main&lt;M: Middleware&gt;(
    hopr_token: HoprToken&lt;M&gt;,
    module_address: <span class="kw-2">&amp;</span>H160,
    node_address: <span class="kw-2">&amp;</span>H160,
    safe_address: <span class="kw-2">&amp;</span>H160,
    channel_address: <span class="kw-2">&amp;</span>H160,
    announce_address: <span class="kw-2">&amp;</span>H160,
) -&gt; <span class="prelude-ty">Result</span>&lt;(), MulticallError&lt;M&gt;&gt; {
    <span class="kw">let </span>provider = hopr_token.client();
    <span class="kw">let </span><span class="kw-2">mut </span>multicall = Multicall::new(provider.clone(), <span class="prelude-val">Some</span>(MULTICALL_ADDRESS))
        .<span class="kw">await
        </span>.expect(<span class="string">"cannot create multicall"</span>);

    <span class="kw">let </span>safe = SafeSingleton::new(safe_address.to_owned(), provider.clone());
    <span class="kw">let </span>module = ModuleSingleton::new(module_address.to_owned(), provider.clone());

    <span class="macro">info!</span>(<span class="string">"checking for safe {:?} module {:?}"</span>, safe_address, module_address);
    multicall
        <span class="comment">// 4. get owners of the safe
        </span>.add_call(
            safe.method::&lt;<span class="kw">_</span>, Vec&lt;Address&gt;&gt;(<span class="string">"getOwners"</span>, ())
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 5.a. get the wxHOPR balance for the safe address
        </span>.add_call(
            hopr_token
                .method::&lt;<span class="kw">_</span>, U256&gt;(<span class="string">"balanceOf"</span>, <span class="kw-2">*</span>safe_address)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 5.b. get the wxHOPR balance for the safe address
        </span>.add_call(
            hopr_token
                .method::&lt;<span class="kw">_</span>, U256&gt;(<span class="string">"allowance"</span>, (<span class="kw-2">*</span>safe_address, <span class="kw-2">*</span>channel_address))
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 6. if the module is enabled
        </span>.add_call(
            safe.method::&lt;<span class="kw">_</span>, bool&gt;(<span class="string">"isModuleEnabled"</span>, <span class="kw-2">*</span>module_address)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 7. if node is included in the module
        </span>.add_call(
            module
                .method::&lt;<span class="kw">_</span>, bool&gt;(<span class="string">"isNode"</span>, <span class="kw-2">*</span>node_address)
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 7. get targets of the safe
        </span>.add_call(
            module
                .method::&lt;<span class="kw">_</span>, Vec&lt;U256&gt;&gt;(<span class="string">"getTargets"</span>, ())
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        )
        <span class="comment">// 8. get owner of the module
        </span>.add_call(
            module
                .method::&lt;<span class="kw">_</span>, Address&gt;(<span class="string">"owner"</span>, ())
                .map_err(|e| MulticallError::ContractError(ContractError::AbiError(e)))<span class="question-mark">?</span>,
            <span class="bool-val">false</span>,
        );

    <span class="kw">let </span>(
        safe_owners,
        safe_wxhopr_balance,
        safe_wxhopr_allownace,
        is_module_enabled,
        is_node_included,
        module_targets,
        module_owner,
    ): (Vec&lt;Address&gt;, U256, U256, bool, bool, Vec&lt;U256&gt;, Address) = multicall.call().<span class="kw">await</span><span class="question-mark">?</span>;

    <span class="macro">info!</span>(<span class="string">"safe has owners: {:?}"</span>, safe_owners);
    <span class="macro">info!</span>(
        <span class="string">"safe has wxHOPR balance: {:?}"</span>,
        format_units(safe_wxhopr_balance, <span class="string">"ether"</span>).unwrap_or(<span class="string">"Unknown balance"</span>.into())
    );
    <span class="macro">info!</span>(
        <span class="string">"safe has wxHOPR allowance: {:?}"</span>,
        format_units(safe_wxhopr_allownace, <span class="string">"ether"</span>).unwrap_or(<span class="string">"Unknown balance"</span>.into())
    );
    <span class="macro">info!</span>(<span class="string">"module is enabled: {:?}"</span>, is_module_enabled);
    <span class="macro">info!</span>(<span class="string">"node is included in the module: {:?}"</span>, is_node_included);
    <span class="macro">info!</span>(<span class="string">"module has targets:"</span>);
    <span class="kw">for </span>target <span class="kw">in </span>module_targets {
        <span class="kw">let </span>target_address = <span class="macro">format!</span>(<span class="string">"{:#x}"</span>, target);
        <span class="kw">let </span>has_channels = target_address.contains(<span class="kw-2">&amp;</span><span class="macro">format!</span>(<span class="string">"{:#x}"</span>, channel_address));
        <span class="kw">let </span>has_announcement = target_address.contains(<span class="kw-2">&amp;</span><span class="macro">format!</span>(<span class="string">"{:#x}"</span>, announce_address));
        <span class="comment">// check if it contains channel and announcement
        </span><span class="macro">info!</span>(
            <span class="string">"Target {:?} has channels {:?} has announcement {:?}"</span>,
            target_address, has_channels, has_announcement
        );
    }

    <span class="macro">info!</span>(
        <span class="string">"module owner: {:?} same as safe address: {:?}"</span>,
        module_owner,
        module_owner.eq(safe_address)
    );
    <span class="prelude-val">Ok</span>(())
}

<span class="attr">#[cfg(test)]
</span><span class="kw">mod </span>tests {
    <span class="kw">use </span>std::vec;

    <span class="kw">use </span><span class="kw">crate</span>::utils::{NEW_HOPR_NODE_STAKE_MODULE_TOPIC, NEW_HOPR_NODE_STAKE_SAFE_TOPIC};

    <span class="kw">use super</span>::<span class="kw-2">*</span>;
    <span class="kw">use </span>bindings::{hopr_announcements::HoprAnnouncements, hopr_channels::HoprChannels};
    <span class="kw">use </span>chain_rpc::client::{create_rpc_client_to_anvil, surf_client::SurfRequestor};
    <span class="kw">use </span>chain_types::ContractInstances;
    <span class="kw">use </span>ethers::abi::AbiDecode;
    <span class="kw">use </span>ethers::types::TransactionRequest;
    <span class="kw">use </span>hopr_crypto_types::keypairs::{ChainKeypair, Keypair};
    <span class="kw">use </span>hopr_primitive_types::prelude::BytesRepresentable;
    <span class="kw">use </span>hopr_primitive_types::primitives::Address;

    <span class="kw">fn </span>get_random_address_for_testing() -&gt; Address {
        <span class="comment">// Creates a random Ethereum address, only used for testing
        </span>Address::new(<span class="kw-2">&amp;</span>hopr_crypto_random::random_bytes::&lt;{ Address::SIZE }&gt;())
    }

    <span class="kw">async fn </span>deploy_safe_suites&lt;M: Middleware&gt;(provider: Arc&lt;M&gt;) -&gt; <span class="prelude-ty">Result</span>&lt;(), ContractError&lt;M&gt;&gt; {
        <span class="comment">// Check if safe suite has been deployed. If so, skip this step
        </span><span class="kw">let </span>code = provider
            .get_code(
                <span class="string">"0x914d7Fec6aaC8cd542e72Bca78B30650d45643d7"
                    </span>.parse::&lt;ethers::types::Address&gt;()
                    .unwrap(),
                <span class="prelude-val">None</span>,
            )
            .<span class="kw">await
            </span>.map_err(|e| ContractError::MiddlewareError { e })<span class="question-mark">?</span>;

        <span class="comment">// only deploy contracts when needed
        </span><span class="kw">if </span>code.len() == <span class="number">0 </span>{
            <span class="macro">debug!</span>(<span class="string">"deploying safe code"</span>);
            <span class="comment">// Deploy Safe diamond deployment proxy singleton
            </span><span class="kw">let </span>safe_diamond_proxy_address = {
                <span class="comment">// Fund Safe singleton deployer 0.01 anvil-eth and deploy Safe singleton
                </span><span class="kw">let </span><span class="kw-2">mut </span>tx = Eip1559TransactionRequest::new();
                tx = tx.to(H160::from_str(<span class="string">"E1CB04A0fA36DdD16a06ea828007E35e1a3cBC37"</span>).unwrap());
                tx = tx.value(<span class="number">10000000000000000u128</span>);

                provider
                    .send_transaction(tx, <span class="prelude-val">None</span>)
                    .<span class="kw">await
                    </span>.map_err(|e| ContractError::MiddlewareError { e })<span class="question-mark">?
                    </span>.<span class="kw">await</span><span class="question-mark">?</span>;

                <span class="kw">let </span>tx = provider.send_raw_transaction(
            <span class="macro">hex!</span>(<span class="string">"f8a78085174876e800830186a08080b853604580600e600039806000f350fe7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe03601600081602082378035828234f58015156039578182fd5b8082525050506014600cf382f4f5a00dc4d1d21b308094a30f5f93da35e4d72e99115378f135f2295bea47301a3165a0636b822daad40aa8c52dd5132f378c0c0e6d83b4898228c7e21c84e631a0b891"</span>)
                .into()).<span class="kw">await</span>.map_err(|e| ContractError::MiddlewareError {e})<span class="question-mark">?</span>.<span class="kw">await</span><span class="question-mark">?</span>.unwrap();
                tx.contract_address.unwrap()
            };
            <span class="macro">debug!</span>(<span class="string">"Safe diamond proxy singleton {:?}"</span>, safe_diamond_proxy_address);

            <span class="comment">// Deploy minimum Safe suite
            // 1. Safe proxy factory deploySafeProxyFactory();
            </span><span class="kw">let </span>_tx_safe_proxy_factory = TransactionRequest::new().to(safe_diamond_proxy_address).data::&lt;Bytes&gt;(
            <span class="macro">hex!</span>(<span class="string">"0000000000000000000000000000000000000000000000000000000000000000608060405234801561001057600080fd5b50610bee806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c80631688f0b91461005c5780633408e4701461016b57806353e5d93514610189578063d18af54d1461020c578063ec9e80bb1461033b575b600080fd5b61013f6004803603606081101561007257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001906401000000008111156100af57600080fd5b8201836020820111156100c157600080fd5b803590602001918460018302840111640100000000831117156100e357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019092919050505061044a565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6101736104fe565b6040518082815260200191505060405180910390f35b61019161050b565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101d15780820151818401526020810190506101b6565b50505050905090810190601f1680156101fe5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61030f6004803603608081101561022257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561025f57600080fd5b82018360208201111561027157600080fd5b8035906020019184600183028401116401000000008311171561029357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610536565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61041e6004803603606081101561035157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561038e57600080fd5b8201836020820111156103a057600080fd5b803590602001918460018302840111640100000000831117156103c257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001909291905050506106e5565b604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b60008083805190602001208360405160200180838152602001828152602001925050506040516020818303038152906040528051906020012090506104908585836107a8565b91508173ffffffffffffffffffffffffffffffffffffffff167f4f51faf6c4561ff95f067657e43439f0f856d97c04d9ec9070a6199ad418e23586604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a2509392505050565b6000804690508091505090565b60606040518060200161051d906109c5565b6020820181038252601f19601f82011660405250905090565b6000808383604051602001808381526020018273ffffffffffffffffffffffffffffffffffffffff1660601b8152601401925050506040516020818303038152906040528051906020012060001c905061059186868361044a565b9150600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16146106dc578273ffffffffffffffffffffffffffffffffffffffff16631e52b518838888886040518563ffffffff1660e01b8152600401808573ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff16815260200180602001838152602001828103825284818151815260200191508051906020019080838360005b83811015610674578082015181840152602081019050610659565b50505050905090810190601f1680156106a15780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b1580156106c357600080fd5b505af11580156106d7573d6000803e3d6000fd5b505050505b50949350505050565b6000808380519060200120836106f96104fe565b60405160200180848152602001838152602001828152602001935050505060405160208183030381529060405280519060200120905061073a8585836107a8565b91508173ffffffffffffffffffffffffffffffffffffffff167f4f51faf6c4561ff95f067657e43439f0f856d97c04d9ec9070a6199ad418e23586604051808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a2509392505050565b60006107b3846109b2565b610825576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f53696e676c65746f6e20636f6e7472616374206e6f74206465706c6f7965640081525060200191505060405180910390fd5b600060405180602001610837906109c5565b6020820181038252601f19601f820116604052508573ffffffffffffffffffffffffffffffffffffffff166040516020018083805190602001908083835b602083106108985780518252602082019150602081019050602083039250610875565b6001836020036101000a038019825116818451168082178552505050505050905001828152602001925050506040516020818303038152906040529050828151826020016000f59150600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610984576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f437265617465322063616c6c206661696c65640000000000000000000000000081525060200191505060405180910390fd5b6000845111156109aa5760008060008651602088016000875af114156109a957600080fd5b5b509392505050565b600080823b905060008111915050919050565b6101e6806109d38339019056fe608060405234801561001057600080fd5b506040516101e63803806101e68339818101604052602081101561003357600080fd5b8101908080519060200190929190505050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156100ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001806101c46022913960400191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505060ab806101196000396000f3fe608060405273ffffffffffffffffffffffffffffffffffffffff600054167fa619486e0000000000000000000000000000000000000000000000000000000060003514156050578060005260206000f35b3660008037600080366000845af43d6000803e60008114156070573d6000fd5b3d6000f3fea264697066735822122003d1488ee65e08fa41e58e888a9865554c535f2c77126a82cb4c0f917f31441364736f6c63430007060033496e76616c69642073696e676c65746f6e20616464726573732070726f7669646564a26469706673582212200fd975ca8e62d9bf08aa3d09c74b9bdc9d7acba7621835be4187989ddd0e54b164736f6c63430007060033"</span>).into()
        );
            <span class="comment">// 2. Handler: only CompatibilityFallbackHandler and omit TokenCallbackHandler as it's not used now
            </span><span class="kw">let </span>_tx_safe_compatibility_fallback_handler = TransactionRequest::new().to(safe_diamond_proxy_address).data::&lt;Bytes&gt;(
            <span class="macro">hex!</span>(<span class="string">"0000000000000000000000000000000000000000000000000000000000000000608060405234801561001057600080fd5b5061073f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100565760003560e01c806223de291461005b57806301ffc9a714610193578063150b7a02146101f6578063bc197c81146102ec578063f23a6e6114610482575b600080fd5b610191600480360360c081101561007157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001906401000000008111156100f857600080fd5b82018360208201111561010a57600080fd5b8035906020019184600183028401116401000000008311171561012c57600080fd5b90919293919293908035906020019064010000000081111561014d57600080fd5b82018360208201111561015f57600080fd5b8035906020019184600183028401116401000000008311171561018157600080fd5b9091929391929390505050610582565b005b6101de600480360360208110156101a957600080fd5b8101908080357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916906020019092919050505061058c565b60405180821515815260200191505060405180910390f35b6102b76004803603608081101561020c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561027357600080fd5b82018360208201111561028557600080fd5b803590602001918460018302840111640100000000831117156102a757600080fd5b90919293919293905050506106c6565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b61044d600480360360a081101561030257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561035f57600080fd5b82018360208201111561037157600080fd5b8035906020019184602083028401116401000000008311171561039357600080fd5b9091929391929390803590602001906401000000008111156103b457600080fd5b8201836020820111156103c657600080fd5b803590602001918460208302840111640100000000831117156103e857600080fd5b90919293919293908035906020019064010000000081111561040957600080fd5b82018360208201111561041b57600080fd5b8035906020019184600183028401116401000000008311171561043d57600080fd5b90919293919293905050506106db565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b61054d600480360360a081101561049857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001909291908035906020019064010000000081111561050957600080fd5b82018360208201111561051b57600080fd5b8035906020019184600183028401116401000000008311171561053d57600080fd5b90919293919293905050506106f3565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b5050505050505050565b60007f4e2312e0000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061065757507f150b7a02000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806106bf57507f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b9050919050565b600063150b7a0260e01b905095945050505050565b600063bc197c8160e01b905098975050505050505050565b600063f23a6e6160e01b9050969550505050505056fea2646970667358221220f62cd059f3672bb04062df149e7ae71534a8512cca0172e695d98a43cff0c53564736f6c63430007060033"</span>).into()
        );
            <span class="comment">// 3. Library: only MultiSendCallOnly and omit MultiSendCall
            </span><span class="kw">let </span>_tx_safe_multisend_call_only = TransactionRequest::new().to(safe_diamond_proxy_address).data::&lt;Bytes&gt;(
            <span class="macro">hex!</span>(<span class="string">"0000000000000000000000000000000000000000000000000000000000000000608060405234801561001057600080fd5b5061019a806100206000396000f3fe60806040526004361061001e5760003560e01c80638d80ff0a14610023575b600080fd5b6100dc6004803603602081101561003957600080fd5b810190808035906020019064010000000081111561005657600080fd5b82018360208201111561006857600080fd5b8035906020019184600183028401116401000000008311171561008a57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506100de565b005b805160205b8181101561015f578083015160f81c6001820184015160601c60158301850151603584018601516055850187016000856000811461012857600181146101385761013d565b6000808585888a5af1915061013d565b600080fd5b50600081141561014c57600080fd5b82605501870196505050505050506100e3565b50505056fea26469706673582212208d297bb003abee230b5dfb38774688f37a6fbb97a82a21728e8049b2acb9b73564736f6c63430007060033"</span>).into()
        );
            <span class="comment">// 4. Safe singleton deploySafe();
            </span><span class="kw">let </span>_tx_safe_singleton = TransactionRequest::new().to(safe_diamond_proxy_address).data::&lt;Bytes&gt;(
            <span class="macro">hex!</span>(<span class="string">"0000000000000000000000000000000000000000000000000000000000000000608060405234801561001057600080fd5b506001600481905550615c1b80620000296000396000f3fe6080604052600436106101d15760003560e01c8063affed0e0116100f7578063e19a9dd911610095578063f08a032311610064578063f08a03231461156b578063f698da25146115bc578063f8dc5dd9146115e7578063ffa1ad741461166257610226565b8063e19a9dd9146112bf578063e318b52b14611310578063e75235b8146113a1578063e86637db146113cc57610226565b8063cc2f8452116100d1578063cc2f84521461100c578063d4d9bdcd146110d9578063d8d11f7814611114578063e009cfde1461124e57610226565b8063affed0e014610d89578063b4faba0914610db4578063b63e800d14610e9c57610226565b80635624b25b1161016f5780636a7612021161013e5780636a761202146109895780637d83297414610b45578063934f3a1114610bb4578063a0e67e2b14610d1d57610226565b80635624b25b146107f05780635ae6bd37146108ae578063610b5925146108fd578063694e80c31461094e57610226565b80632f54bf6e116101ab5780632f54bf6e146104c85780633408e4701461052f578063468721a71461055a5780635229073f1461066f57610226565b80630d582f131461029357806312fb68e0146102ee5780632d9ad53d1461046157610226565b36610226573373ffffffffffffffffffffffffffffffffffffffff167f3d0ce9bfc3ed7d6862dbb28b2dea94561fe714a1b4d019aa8af39730d1ad7c3d346040518082815260200191505060405180910390a2005b34801561023257600080fd5b5060007f6c9a6c4a39284e37ed1cf53d337577d14212a4870fb976a4366c693b939918d560001b905080548061026757600080f35b36600080373360601b365260008060143601600080855af13d6000803e8061028e573d6000fd5b3d6000f35b34801561029f57600080fd5b506102ec600480360360408110156102b657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506116f2565b005b3480156102fa57600080fd5b5061045f6004803603608081101561031157600080fd5b81019080803590602001909291908035906020019064010000000081111561033857600080fd5b82018360208201111561034a57600080fd5b8035906020019184600183028401116401000000008311171561036c57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156103cf57600080fd5b8201836020820111156103e157600080fd5b8035906020019184600183028401116401000000008311171561040357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190929190505050611ad8565b005b34801561046d57600080fd5b506104b06004803603602081101561048457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506123d6565b60405180821515815260200191505060405180910390f35b3480156104d457600080fd5b50610517600480360360208110156104eb57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506124a8565b60405180821515815260200191505060405180910390f35b34801561053b57600080fd5b5061054461257a565b6040518082815260200191505060405180910390f35b34801561056657600080fd5b506106576004803603608081101561057d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001906401000000008111156105c457600080fd5b8201836020820111156105d657600080fd5b803590602001918460018302840111640100000000831117156105f857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803560ff169060200190929190505050612587565b60405180821515815260200191505060405180910390f35b34801561067b57600080fd5b5061076c6004803603608081101561069257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001906401000000008111156106d957600080fd5b8201836020820111156106eb57600080fd5b8035906020019184600183028401116401000000008311171561070d57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803560ff16906020019092919050505061278d565b60405180831515815260200180602001828103825283818151815260200191508051906020019080838360005b838110156107b4578082015181840152602081019050610799565b50505050905090810190601f1680156107e15780820380516001836020036101000a031916815260200191505b50935050505060405180910390f35b3480156107fc57600080fd5b506108336004803603604081101561081357600080fd5b8101908080359060200190929190803590602001909291905050506127c3565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610873578082015181840152602081019050610858565b50505050905090810190601f1680156108a05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156108ba57600080fd5b506108e7600480360360208110156108d157600080fd5b810190808035906020019092919050505061284a565b6040518082815260200191505060405180910390f35b34801561090957600080fd5b5061094c6004803603602081101561092057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050612862565b005b34801561095a57600080fd5b506109876004803603602081101561097157600080fd5b8101908080359060200190929190505050612bea565b005b610b2d60048036036101408110156109a057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001906401000000008111156109e757600080fd5b8201836020820111156109f957600080fd5b80359060200191846001830284011164010000000083111715610a1b57600080fd5b9091929391929390803560ff169060200190929190803590602001909291908035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190640100000000811115610aa757600080fd5b820183602082011115610ab957600080fd5b80359060200191846001830284011164010000000083111715610adb57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050612d24565b60405180821515815260200191505060405180910390f35b348015610b5157600080fd5b50610b9e60048036036040811015610b6857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050613253565b6040518082815260200191505060405180910390f35b348015610bc057600080fd5b50610d1b60048036036060811015610bd757600080fd5b810190808035906020019092919080359060200190640100000000811115610bfe57600080fd5b820183602082011115610c1057600080fd5b80359060200191846001830284011164010000000083111715610c3257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929080359060200190640100000000811115610c9557600080fd5b820183602082011115610ca757600080fd5b80359060200191846001830284011164010000000083111715610cc957600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050613278565b005b348015610d2957600080fd5b50610d32613307565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610d75578082015181840152602081019050610d5a565b505050509050019250505060405180910390f35b348015610d9557600080fd5b50610d9e6134b0565b6040518082815260200191505060405180910390f35b348015610dc057600080fd5b50610e9a60048036036040811015610dd757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190640100000000811115610e1457600080fd5b820183602082011115610e2657600080fd5b80359060200191846001830284011164010000000083111715610e4857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506134b6565b005b348015610ea857600080fd5b5061100a6004803603610100811015610ec057600080fd5b8101908080359060200190640100000000811115610edd57600080fd5b820183602082011115610eef57600080fd5b80359060200191846020830284011164010000000083111715610f1157600080fd5b909192939192939080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190640100000000811115610f5c57600080fd5b820183602082011115610f6e57600080fd5b80359060200191846001830284011164010000000083111715610f9057600080fd5b9091929391929390803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506134d8565b005b34801561101857600080fd5b506110656004803603604081101561102f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050613696565b60405180806020018373ffffffffffffffffffffffffffffffffffffffff168152602001828103825284818151815260200191508051906020019060200280838360005b838110156110c45780820151818401526020810190506110a9565b50505050905001935050505060405180910390f35b3480156110e557600080fd5b50611112600480360360208110156110fc57600080fd5b81019080803590602001909291905050506139f9565b005b34801561112057600080fd5b50611238600480360361014081101561113857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561117f57600080fd5b82018360208201111561119157600080fd5b803590602001918460018302840111640100000000831117156111b357600080fd5b9091929391929390803560ff169060200190929190803590602001909291908035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050613b98565b6040518082815260200191505060405180910390f35b34801561125a57600080fd5b506112bd6004803603604081101561127157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050613bc5565b005b3480156112cb57600080fd5b5061130e600480360360208110156112e257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050613f4c565b005b34801561131c57600080fd5b5061139f6004803603606081101561133357600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050614138565b005b3480156113ad57600080fd5b506113b6614796565b6040518082815260200191505060405180910390f35b3480156113d857600080fd5b506114f060048036036101408110156113f057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561143757600080fd5b82018360208201111561144957600080fd5b8035906020019184600183028401116401000000008311171561146b57600080fd5b9091929391929390803560ff169060200190929190803590602001909291908035906020019092919080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506147a0565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015611530578082015181840152602081019050611515565b50505050905090810190601f16801561155d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561157757600080fd5b506115ba6004803603602081101561158e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050614948565b005b3480156115c857600080fd5b506115d161499f565b6040518082815260200191505060405180910390f35b3480156115f357600080fd5b506116606004803603606081101561160a57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050614a1d565b005b34801561166e57600080fd5b50611677614e46565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156116b757808201518184015260208101905061169c565b50505050905090810190601f1680156116e45780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6116fa614e7f565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141580156117645750600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b801561179c57503073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b61180e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461190f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303400000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60026000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508160026000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506003600081548092919060010191905055508173ffffffffffffffffffffffffffffffffffffffff167f9465fa0c962cc76958e6373a993326400c1c94f8be2fe3a952adfa7f60b2ea2660405160405180910390a28060045414611ad457611ad381612bea565b5b5050565b611aec604182614f2290919063ffffffff16565b82511015611b62576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6000808060008060005b868110156123ca57611b7e8882614f5c565b80945081955082965050505060008460ff1614156120035789898051906020012014611c12576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323700000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8260001c9450611c2c604188614f2290919063ffffffff16565b8260001c1015611ca4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8751611cbd60208460001c614f8b90919063ffffffff16565b1115611d31576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323200000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60006020838a01015190508851611d6782611d5960208760001c614f8b90919063ffffffff16565b614f8b90919063ffffffff16565b1115611ddb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60606020848b010190506320c13b0b60e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168773ffffffffffffffffffffffffffffffffffffffff166320c13b0b8d846040518363ffffffff1660e01b8152600401808060200180602001838103835285818151815260200191508051906020019080838360005b83811015611e7d578082015181840152602081019050611e62565b50505050905090810190601f168015611eaa5780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b83811015611ee3578082015181840152602081019050611ec8565b50505050905090810190601f168015611f105780820380516001836020036101000a031916815260200191505b5094505050505060206040518083038186803b158015611f2f57600080fd5b505afa158015611f43573d6000803e3d6000fd5b505050506040513d6020811015611f5957600080fd5b81019080805190602001909291905050507bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614611ffc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323400000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b5050612248565b60018460ff161415612117578260001c94508473ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614806120a057506000600860008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008c81526020019081526020016000205414155b612112576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323500000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b612247565b601e8460ff1611156121df5760018a60405160200180807f19457468657265756d205369676e6564204d6573736167653a0a333200000000815250601c018281526020019150506040516020818303038152906040528051906020012060048603858560405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa1580156121ce573d6000803e3d6000fd5b505050602060405103519450612246565b60018a85858560405160008152602001604052604051808581526020018460ff1681526020018381526020018281526020019450505050506020604051602081039080840390855afa158015612239573d6000803e3d6000fd5b5050506020604051035194505b5b5b8573ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1611801561230f5750600073ffffffffffffffffffffffffffffffffffffffff16600260008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b80156123485750600173ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614155b6123ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330323600000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8495508080600101915050611b6c565b50505050505050505050565b60008173ffffffffffffffffffffffffffffffffffffffff16600173ffffffffffffffffffffffffffffffffffffffff16141580156124a15750600073ffffffffffffffffffffffffffffffffffffffff16600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b9050919050565b6000600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141580156125735750600073ffffffffffffffffffffffffffffffffffffffff16600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b9050919050565b6000804690508091505090565b6000600173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141580156126525750600073ffffffffffffffffffffffffffffffffffffffff16600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614155b6126c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303400000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6126f1858585857fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff614faa565b90508015612741573373ffffffffffffffffffffffffffffffffffffffff167f6895c13664aa4f67288b25d7a21d7aaa34916e355fb9b6fae0a139a9085becb860405160405180910390a2612785565b3373ffffffffffffffffffffffffffffffffffffffff167facd2c8702804128fdb0db2bb49f6d127dd0181c13fd45dbfe16de0930e2bd37560405160405180910390a25b949350505050565b6000606061279d86868686612587565b915060405160203d0181016040523d81523d6000602083013e8091505094509492505050565b606060006020830267ffffffffffffffff811180156127e157600080fd5b506040519080825280601f01601f1916602001820160405280156128145781602001600182028036833780820191505090505b50905060005b8381101561283f5780850154806020830260208501015250808060010191505061281a565b508091505092915050565b60076020528060005260406000206000915090505481565b61286a614e7f565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141580156128d45750600173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b612946576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614612a47576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303200000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60016000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060016000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167fecdf3a3effea5783a3c4c2140e677577666428d44ed9d474a0b3a4c9943f844060405160405180910390a250565b612bf2614e7f565b600354811115612c6a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001811015612ce1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303200000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b806004819055507f610f7ff2b304ae8903c3de74c60c6ab1f7d6226b3f52c5161905bb5ad4039c936004546040518082815260200191505060405180910390a150565b6000806000612d3e8e8e8e8e8e8e8e8e8e8e6005546147a0565b905060056000815480929190600101919050555080805190602001209150612d67828286613278565b506000612d72614ff6565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614612f58578073ffffffffffffffffffffffffffffffffffffffff166375f0bb528f8f8f8f8f8f8f8f8f8f8f336040518d63ffffffff1660e01b8152600401808d73ffffffffffffffffffffffffffffffffffffffff1681526020018c8152602001806020018a6001811115612e1557fe5b81526020018981526020018881526020018781526020018673ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff168152602001806020018473ffffffffffffffffffffffffffffffffffffffff16815260200183810383528d8d82818152602001925080828437600081840152601f19601f820116905080830192505050838103825285818151815260200191508051906020019080838360005b83811015612ee7578082015181840152602081019050612ecc565b50505050905090810190601f168015612f145780820380516001836020036101000a031916815260200191505b509e505050505050505050505050505050600060405180830381600087803b158015612f3f57600080fd5b505af1158015612f53573d6000803e3d6000fd5b505050505b6101f4612f7f6109c48b01603f60408d0281612f7057fe5b0461502790919063ffffffff16565b015a1015612ff5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330313000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60005a905061305e8f8f8f8f8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050508e60008d14613053578e613059565b6109c45a035b614faa565b93506130735a8261504190919063ffffffff16565b90508380613082575060008a14155b8061308e575060008814155b613100576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330313300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60008089111561311a57613117828b8b8b8b615061565b90505b841561315d57837f442e715f626346e8c54381002da614f62bee8d27386535b2521ec8540898556e826040518082815260200191505060405180910390a2613196565b837f23428b18acfb3ea64b08dc0c1d296ea9c09702c09083ca5272e64d115b687d23826040518082815260200191505060405180910390a25b5050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614613242578073ffffffffffffffffffffffffffffffffffffffff16639327136883856040518363ffffffff1660e01b815260040180838152602001821515815260200192505050600060405180830381600087803b15801561322957600080fd5b505af115801561323d573d6000803e3d6000fd5b505050505b50509b9a5050505050505050505050565b6008602052816000526040600020602052806000526040600020600091509150505481565b60006004549050600081116132f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330303100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b61330184848484611ad8565b50505050565b6060600060035467ffffffffffffffff8111801561332457600080fd5b506040519080825280602002602001820160405280156133535781602001602082028036833780820191505090505b50905060008060026000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505b600173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146134a757808383815181106133fe57fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050600260008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081806001019250506133bd565b82935050505090565b60055481565b600080825160208401855af4806000523d6020523d600060403e60403d016000fd5b6135238a8a80806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f8201169050808301925050505050505089615267565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16146135615761356084615767565b5b6135af8787878080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050615838565b60008211156135c9576135c782600060018685615061565b505b3373ffffffffffffffffffffffffffffffffffffffff167f141df868a6331af528e38c83b7aa03edc19be66e37ae67f9285bf4f8e3c6a1a88b8b8b8b8960405180806020018581526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020018281038252878782818152602001925060200280828437600081840152601f19601f820116905080830192505050965050505050505060405180910390a250505050505050505050565b60606000600173ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614806136da57506136d9846123d6565b5b61374c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303500000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600083116137c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303600000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8267ffffffffffffffff811180156137d957600080fd5b506040519080825280602002602001820160405280156138085781602001602082028036833780820191505090505b5091506000600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691505b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141580156138da5750600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b80156138e557508381105b156139a057818382815181106138f757fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691508080600101915050613870565b600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16146139ee578260018203815181106139e357fe5b602002602001015191505b808352509250929050565b600073ffffffffffffffffffffffffffffffffffffffff16600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415613afb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330333000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000838152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff16817ff2a0eb156472d1440255b0d7c1e19cc07115d1051fe605b0dce69acfec884d9c60405160405180910390a350565b6000613bad8c8c8c8c8c8c8c8c8c8c8c6147a0565b8051906020012090509b9a5050505050505050505050565b613bcd614e7f565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614158015613c375750600173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b613ca9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614613da9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff167faab4fa2b463f581b2b32cb3b7e3b704b9ce37cc209b5fb4d77e593ace405427660405160405180910390a25050565b613f54614e7f565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16146140c6578073ffffffffffffffffffffffffffffffffffffffff166301ffc9a77fe6d7a83a000000000000000000000000000000000000000000000000000000006040518263ffffffff1660e01b815260040180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060206040518083038186803b15801561401857600080fd5b505afa15801561402c573d6000803e3d6000fd5b505050506040513d602081101561404257600080fd5b81019080805190602001909291905050506140c5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475333303000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b5b60007f4a204f620c8c5ccdca3fd54d003badd85ba500436a431f0cbda4f558c93c34c860001b90508181558173ffffffffffffffffffffffffffffffffffffffff167f1151116914515bc0891ff9047a6cb32cf902546f83066499bcf8ba33d2353fa260405160405180910390a25050565b614140614e7f565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141580156141aa5750600173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b80156141e257503073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b614254576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614614355576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303400000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141580156143bf5750600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b614431576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff16600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614614531576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303500000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff167ff8d49fc529812e9a7c5c50e69c20f0dccc0db8fa95c98bc58cc9a4f1c1299eaf60405160405180910390a28073ffffffffffffffffffffffffffffffffffffffff167f9465fa0c962cc76958e6373a993326400c1c94f8be2fe3a952adfa7f60b2ea2660405160405180910390a2505050565b6000600454905090565b606060007fbb8310d486368db6bd6f849402fdd73ad53d316b5a4b2644ad6efe0f941286d860001b8d8d8d8d60405180838380828437808301925050509250505060405180910390208c8c8c8c8c8c8c604051602001808c81526020018b73ffffffffffffffffffffffffffffffffffffffff1681526020018a815260200189815260200188600181111561483157fe5b81526020018781526020018681526020018581526020018473ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019b505050505050505050505050604051602081830303815290604052805190602001209050601960f81b600160f81b6148bd61499f565b8360405160200180857effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168152600101847effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681526001018381526020018281526020019450505050506040516020818303038152906040529150509b9a5050505050505050505050565b614950614e7f565b61495981615767565b8073ffffffffffffffffffffffffffffffffffffffff167f5ac6c46c93c8d0e53714ba3b53db3e7c046da994313d7ed0d192028bc7c228b060405160405180910390a250565b60007f47e79534a245952e8b16893a336b85a3d9ea9fa8c573f3d803afb92a7946921860001b6149cd61257a565b30604051602001808481526020018381526020018273ffffffffffffffffffffffffffffffffffffffff168152602001935050505060405160208183030381529060405280519060200120905090565b614a25614e7f565b806001600354031015614aa0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614158015614b0a5750600173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614155b614b7c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8173ffffffffffffffffffffffffffffffffffffffff16600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614614c7c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303500000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600260008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600360008154809291906001900391905055508173ffffffffffffffffffffffffffffffffffffffff167ff8d49fc529812e9a7c5c50e69c20f0dccc0db8fa95c98bc58cc9a4f1c1299eaf60405160405180910390a28060045414614e4157614e4081612bea565b5b505050565b6040518060400160405280600581526020017f312e342e3100000000000000000000000000000000000000000000000000000081525081565b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614614f20576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330333100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b565b600080831415614f355760009050614f56565b6000828402905082848281614f4657fe5b0414614f5157600080fd5b809150505b92915050565b60008060008360410260208101860151925060408101860151915060ff60418201870151169350509250925092565b600080828401905083811015614fa057600080fd5b8091505092915050565b6000600180811115614fb857fe5b836001811115614fc457fe5b1415614fdd576000808551602087018986f49050614fed565b600080855160208701888a87f190505b95945050505050565b6000807f4a204f620c8c5ccdca3fd54d003badd85ba500436a431f0cbda4f558c93c34c860001b9050805491505090565b6000818310156150375781615039565b825b905092915050565b60008282111561505057600080fd5b600082840390508091505092915050565b600080600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161461509e57826150a0565b325b9050600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614156151b85761510a3a86106150e7573a6150e9565b855b6150fc888a614f8b90919063ffffffff16565b614f2290919063ffffffff16565b91508073ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050506151b3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330313100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b61525d565b6151dd856151cf888a614f8b90919063ffffffff16565b614f2290919063ffffffff16565b91506151ea848284615b0e565b61525c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330313200000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b5b5095945050505050565b6000600454146152df576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b8151811115615356576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303100000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60018110156153cd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303200000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60006001905060005b83518110156156d35760008482815181106153ed57fe5b60200260200101519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141580156154615750600173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b801561549957503073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614155b80156154d157508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614155b615543576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303300000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614615644576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475332303400000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b80600260008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508092505080806001019150506153d6565b506001600260008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550825160038190555081600481905550505050565b3073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415615809576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475334303000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b60007f6c9a6c4a39284e37ed1cf53d337577d14212a4870fb976a4366c693b939918d560001b90508181555050565b600073ffffffffffffffffffffffffffffffffffffffff1660016000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461593a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475331303000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b6001806000600173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614615b0a576159f682615bd2565b615a68576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330303200000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b615a978260008360017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff614faa565b615b09576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260058152602001807f475330303000000000000000000000000000000000000000000000000000000081525060200191505060405180910390fd5b5b5050565b60008063a9059cbb8484604051602401808373ffffffffffffffffffffffffffffffffffffffff168152602001828152602001925050506040516020818303038152906040529060e01b6020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050509050602060008251602084016000896127105a03f13d60008114615bb55760208114615bbd5760009350615bc8565b819350615bc8565b600051158215171593505b5050509392505050565b600080823b90506000811191505091905056fea264697066735822122057398fa72884cf9a6cb78aab2fb58a6b927f0e9d97d75b015daaee0959a153bf64736f6c63430007060033"</span>).into()
        );
            <span class="comment">// 5. Safe multisend:
            </span><span class="kw">let </span>_tx_safe_multisend = TransactionRequest::new().to(safe_diamond_proxy_address).data::&lt;Bytes&gt;(
                <span class="macro">hex!</span>(<span class="string">"000000000000000000000000000000000000000000000000000000000000000060a060405234801561001057600080fd5b503073ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1660601b8152505060805160601c6102756100646000398060e052506102756000f3fe60806040526004361061001e5760003560e01c80638d80ff0a14610023575b600080fd5b6100dc6004803603602081101561003957600080fd5b810190808035906020019064010000000081111561005657600080fd5b82018360208201111561006857600080fd5b8035906020019184600183028401116401000000008311171561008a57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506100de565b005b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff161415610183576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260308152602001806102106030913960400191505060405180910390fd5b805160205b8181101561020a578083015160f81c6001820184015160601c6015830185015160358401860151605585018701600085600081146101cd57600181146101dd576101e8565b6000808585888a5af191506101e8565b6000808585895af491505b5060008114156101f757600080fd5b8260550187019650505050505050610188565b50505056fe4d756c746953656e642073686f756c64206f6e6c792062652063616c6c6564207669612064656c656761746563616c6ca264697066735822122021102e6d5bc1da75411b41fe2792a1748bf5c49c794e51e81405ccd2399da13564736f6c63430007060033"</span>).into()
            );
            <span class="comment">// other omitted libs: SimulateTxAccessor, CreateCall, and SignMessageLib
            // broadcast those transactions
            </span>provider
                .send_transaction(_tx_safe_proxy_factory, <span class="prelude-val">None</span>)
                .<span class="kw">await
                </span>.unwrap()
                .<span class="kw">await
                </span>.unwrap();
            provider
                .send_transaction(_tx_safe_compatibility_fallback_handler, <span class="prelude-val">None</span>)
                .<span class="kw">await
                </span>.unwrap()
                .<span class="kw">await
                </span>.unwrap();
            provider
                .send_transaction(_tx_safe_multisend_call_only, <span class="prelude-val">None</span>)
                .<span class="kw">await
                </span>.unwrap()
                .<span class="kw">await
                </span>.unwrap();
            provider
                .send_transaction(_tx_safe_singleton, <span class="prelude-val">None</span>)
                .<span class="kw">await
                </span>.unwrap()
                .<span class="kw">await
                </span>.unwrap();
            provider
                .send_transaction(_tx_safe_multisend, <span class="prelude-val">None</span>)
                .<span class="kw">await
                </span>.unwrap()
                .<span class="kw">await
                </span>.unwrap();
        }
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_native_and_token_balances_in_anvil_with_multicall() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// create a keypair
        </span><span class="kw">let </span>kp = ChainKeypair::random();
        <span class="kw">let </span>kp_address = Address::from(<span class="kw-2">&amp;</span>kp);

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="comment">// deploy hopr contracts
        </span><span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get native and token balances
        </span><span class="kw">let </span>(native_balance, token_balance) =
            get_native_and_token_balances(instances.token, <span class="macro">vec!</span>[kp_address.into()]).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(native_balance.len(), <span class="number">1</span>, <span class="string">"invalid native balance lens"</span>);
        <span class="macro">assert_eq!</span>(token_balance.len(), <span class="number">1</span>, <span class="string">"invalid token balance lens"</span>);
        <span class="macro">assert_eq!</span>(native_balance[<span class="number">0</span>].as_u64(), <span class="number">0u64</span>, <span class="string">"wrong native balance"</span>);
        <span class="macro">assert_eq!</span>(token_balance[<span class="number">0</span>].as_u64(), <span class="number">0u64</span>, <span class="string">"wrong token balance"</span>);
        drop(anvil);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_transfer_or_mint_tokens_in_anvil_with_multicall() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span><span class="kw-2">mut </span>addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">4 </span>{
            addresses.push(get_random_address_for_testing().into());
        }
        <span class="kw">let </span>desired_amount = <span class="macro">vec!</span>[U256::from(<span class="number">1</span>), U256::from(<span class="number">2</span>), U256::from(<span class="number">3</span>), U256::from(<span class="number">4</span>)];

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="comment">// deploy hopr contracts
        </span><span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);

        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// grant deployer token minter role
        </span><span class="kw">let </span>encoded_minter_role: [u8; <span class="number">32</span>] = keccak256(<span class="string">b"MINTER_ROLE"</span>);
        instances
            .token
            .grant_role(
                encoded_minter_role.clone(),
                contract_deployer.public().to_address().into(),
            )
            .send()
            .<span class="kw">await</span><span class="question-mark">?
            </span>.<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// test the deployer has minter role now
        </span><span class="kw">let </span>check_minter_role = instances
            .token
            .has_role(
                encoded_minter_role.clone(),
                contract_deployer.public().to_address().into(),
            )
            .call()
            .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(check_minter_role, <span class="string">"deployer does not have minter role yet"</span>);

        <span class="comment">// transfer or mint tokens to addresses
        </span><span class="kw">let </span>total_transferred_amount =
            transfer_or_mint_tokens(instances.token.clone(), addresses.clone(), desired_amount.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get native and token balances
        </span><span class="kw">let </span>(native_balance, token_balance) =
            get_native_and_token_balances(instances.token, addresses.clone().into()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(native_balance.len(), <span class="number">4</span>, <span class="string">"invalid native balance lens"</span>);
        <span class="macro">assert_eq!</span>(token_balance.len(), <span class="number">4</span>, <span class="string">"invalid token balance lens"</span>);
        <span class="kw">for </span>(i, amount) <span class="kw">in </span>desired_amount.iter().enumerate() {
            <span class="macro">assert_eq!</span>(token_balance[i].as_u64(), amount.as_u64(), <span class="string">"token balance unmatch"</span>);
        }

        <span class="macro">assert_eq!</span>(
            total_transferred_amount,
            U256::from(<span class="number">10</span>),
            <span class="string">"amount transferred does not equal to the desired amount"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_transfer_or_mint_tokens_in_anvil_with_one_recipient() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span>addresses: Vec&lt;ethers::types::Address&gt; = <span class="macro">vec!</span>[get_random_address_for_testing().into()];
        <span class="kw">let </span>desired_amount = <span class="macro">vec!</span>[U256::from(<span class="number">42</span>)];

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="comment">// deploy hopr contracts
        </span><span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);

        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// grant deployer token minter role
        </span><span class="kw">let </span>encoded_minter_role: [u8; <span class="number">32</span>] = keccak256(<span class="string">b"MINTER_ROLE"</span>);
        instances
            .token
            .grant_role(
                encoded_minter_role.clone(),
                contract_deployer.public().to_address().into(),
            )
            .send()
            .<span class="kw">await</span><span class="question-mark">?
            </span>.<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// test the deployer has minter role now
        </span><span class="kw">let </span>check_minter_role = instances
            .token
            .has_role(
                encoded_minter_role.clone(),
                contract_deployer.public().to_address().into(),
            )
            .call()
            .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(check_minter_role, <span class="string">"deployer does not have minter role yet"</span>);

        <span class="comment">// transfer or mint tokens to addresses
        </span><span class="kw">let </span>total_transferred_amount =
            transfer_or_mint_tokens(instances.token.clone(), addresses.clone(), desired_amount.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get native and token balances
        </span><span class="kw">let </span>(native_balance, token_balance) =
            get_native_and_token_balances(instances.token, addresses.clone().into()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(native_balance.len(), <span class="number">1</span>, <span class="string">"invalid native balance lens"</span>);
        <span class="macro">assert_eq!</span>(token_balance.len(), <span class="number">1</span>, <span class="string">"invalid token balance lens"</span>);
        <span class="kw">for </span>(i, amount) <span class="kw">in </span>desired_amount.iter().enumerate() {
            <span class="macro">assert_eq!</span>(token_balance[i].as_u64(), amount.as_u64(), <span class="string">"token balance unmatch"</span>);
        }

        <span class="macro">assert_eq!</span>(
            total_transferred_amount, desired_amount[<span class="number">0</span>],
            <span class="string">"amount transferred does not equal to the desired amount"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_transfer_or_mint_tokens_in_anvil_without_recipient() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span>addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">let </span>desired_amount: Vec&lt;U256&gt; = Vec::new();

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="comment">// deploy hopr contracts
        </span><span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);

        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// transfer or mint tokens to addresses
        </span><span class="kw">let </span>total_transferred_amount =
            transfer_or_mint_tokens(instances.token.clone(), addresses.clone(), desired_amount.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get native and token balances
        </span><span class="kw">let </span>(native_balance, token_balance) =
            get_native_and_token_balances(instances.token, addresses.clone().into()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(native_balance.len(), <span class="number">0</span>, <span class="string">"invalid native balance lens"</span>);
        <span class="macro">assert_eq!</span>(token_balance.len(), <span class="number">0</span>, <span class="string">"invalid token balance lens"</span>);
        <span class="comment">// for (i, amount) in desired_amount.iter().enumerate() {
        //     assert_eq!(token_balance[i].as_u64(), amount.as_u64(), "token balance unmatch");
        // }

        </span><span class="macro">assert_eq!</span>(
            total_transferred_amount,
            U256::from(<span class="number">0</span>),
            <span class="string">"amount transferred does not equal to the desired amount"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_transfer_native_tokens_in_anvil_with_multicall() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span><span class="kw-2">mut </span>addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">4 </span>{
            addresses.push(get_random_address_for_testing().into());
        }
        <span class="kw">let </span>desired_amount = <span class="macro">vec!</span>[U256::from(<span class="number">1</span>), U256::from(<span class="number">2</span>), U256::from(<span class="number">3</span>), U256::from(<span class="number">4</span>)];

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);

        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// transfer native tokens to addresses
        </span><span class="kw">let </span>total_transferred_amount =
            transfer_native_tokens(client.clone(), addresses.clone(), desired_amount.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get native and token balances
        </span><span class="kw">let </span>(native_balance, token_balance) =
            get_native_and_token_balances(instances.token, addresses.clone().into()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(native_balance.len(), <span class="number">4</span>, <span class="string">"invalid native balance lens"</span>);
        <span class="macro">assert_eq!</span>(token_balance.len(), <span class="number">4</span>, <span class="string">"invalid token balance lens"</span>);
        <span class="kw">for </span>(i, amount) <span class="kw">in </span>desired_amount.iter().enumerate() {
            <span class="macro">assert_eq!</span>(native_balance[i].as_u64(), amount.as_u64(), <span class="string">"native balance unmatch"</span>);
        }

        <span class="macro">assert_eq!</span>(
            total_transferred_amount,
            U256::from(<span class="number">10</span>),
            <span class="string">"amount transferred does not equal to the desired amount"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_register_safes_and_nodes_then_deregister_nodes_in_anvil_with_multicall() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span><span class="kw-2">mut </span>safe_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">let </span><span class="kw-2">mut </span>node_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">4 </span>{
            safe_addresses.push(get_random_address_for_testing().into());
            node_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// register some nodes
        </span><span class="kw">let </span>(removed_amt, added_amt) = register_safes_and_nodes_on_network_registry(
            instances.network_registry.clone(),
            safe_addresses.clone(),
            node_addresses.clone(),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(removed_amt, <span class="number">0</span>, <span class="string">"should not remove any safe"</span>);
        <span class="macro">assert_eq!</span>(added_amt, <span class="number">4</span>, <span class="string">"there should be 4 additions"</span>);

        <span class="comment">// get registered safes from nodes
        </span><span class="kw">let </span>registered_safes = get_registered_safes_for_nodes_on_network_registry(
            instances.network_registry.clone(),
            node_addresses.clone(),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(safe_addresses.len(), registered_safes.len(), <span class="string">"returned length unmatch"</span>);
        <span class="kw">for </span>(i, safe_addr) <span class="kw">in </span>safe_addresses.iter().enumerate() {
            <span class="macro">assert_eq!</span>(safe_addr, <span class="kw-2">&amp;</span>registered_safes[i], <span class="string">"registered safe addresses unmatch"</span>);
        }

        <span class="comment">// deregister 3 of them
        </span><span class="kw">let </span>deregisterd_nodes = deregister_nodes_from_network_registry(
            instances.network_registry.clone(),
            node_addresses.split_at(<span class="number">3</span>).<span class="number">0</span>.to_vec(),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(deregisterd_nodes, <span class="number">3</span>, <span class="string">"cannot deregister all the nodes"</span>);

        <span class="comment">// re-register 4 of them
        </span><span class="kw">let </span>(removed_amt_2, added_amt_2) = register_safes_and_nodes_on_network_registry(
            instances.network_registry.clone(),
            safe_addresses.clone(),
            node_addresses.clone(),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(removed_amt_2, <span class="number">0</span>, <span class="string">"should not remove any safe"</span>);
        <span class="macro">assert_eq!</span>(added_amt_2, <span class="number">3</span>, <span class="string">"there should be 3 additions"</span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_deploy_proxy() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span>prediction = deploy_proxy(
            H160::from_str(<span class="string">"41675c099f32341bf84bfc5382af534df5c7461a"</span>)<span class="question-mark">?</span>,
            <span class="macro">hex!</span>(<span class="string">"09e458584ce79e57b65cb303dc136c5d53e17b676599b9b7bc03815e0eef5172"</span>).into(),
            H160::from_str(SAFE_SAFEPROXYFACTORY_ADDRESS)<span class="question-mark">?</span>,
        )<span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(
            prediction,
            H160::from_str(<span class="string">"ec5c8d045dfa1f93785125c26e187e9439f67105"</span>)<span class="question-mark">?</span>,
            <span class="string">"cannot reproduce proxy"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }
    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_get_salt_from_salt_nonce() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let </span>salt = get_salt_from_salt_nonce(
            <span class="macro">hex!</span>(<span class="string">"b63e800d00000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001400000000000000000000000002a15de4410d4c8af0a7b6c12803120f43c42b8200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000098b275485c406573d042848d66eb9d63fca311c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000"</span>).into(),
            U256::from_dec_str(<span class="string">"103994836888229670573364883831672511342967953907147914065931589108526220754063"</span>)<span class="question-mark">?</span>.into(),
        )<span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(
            salt.to_vec(),
            Bytes::from_str(<span class="string">"09e458584ce79e57b65cb303dc136c5d53e17b676599b9b7bc03815e0eef5172"</span>)<span class="question-mark">?</span>,
            <span class="string">"cannot reproduce salt"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_safe_and_module_address_prediction() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// testing value extracted from https://dashboard.tenderly.co/tx/xdai/0x510e3ac3dc7939cae2525a0b0f096ad709b23d94169e0fbf2e1154fdd6911c49?trace=0
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="comment">// prepare some input data
        </span><span class="kw">let </span><span class="kw-2">mut </span>admin_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            admin_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>caller = client.default_sender().expect(<span class="string">"client must have a sender"</span>);

        <span class="comment">// build the default permissions of capabilities
        </span><span class="kw">let </span>default_target = <span class="macro">format!</span>(<span class="string">"{:?}{}"</span>, instances.channels.address(), DEFAULT_CAPABILITY_PERMISSIONS);
        <span class="macro">debug!</span>(<span class="string">"default target {:?}"</span>, default_target);
        <span class="comment">// salt nonce
        </span><span class="kw">let </span>curr_nonce = client
            .get_transaction_count(caller, <span class="prelude-val">Some</span>(ethers::types::BlockNumber::Pending.into()))
            .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>nonce = keccak256(ethers::abi::encode_packed(<span class="kw-2">&amp;</span>[
            ethers::abi::Token::Address(caller),
            ethers::abi::Token::Uint(curr_nonce),
        ])<span class="question-mark">?</span>);

        <span class="kw">let </span>module_address = predict_module_address(
            caller,
            nonce,
            instances.stake_factory.address(),
            instances.module_implementation.address(),
        )<span class="question-mark">?</span>;
        <span class="macro">debug!</span>(<span class="string">"predict_module_addr {:?}"</span>, module_address);

        <span class="kw">let </span>safe_address = predict_safe_address(
            instances.stake_factory.address(),
            <span class="macro">vec!</span>[H160::from_str(<span class="string">"9062a96b9e947b2b57283e705c97b871f5eb6561"</span>)<span class="question-mark">?</span>],
            nonce,
            H160::from_str(SAFE_COMPATIBILITYFALLBACKHANDLER_ADDRESS)<span class="question-mark">?</span>,
            H160::from_str(SAFE_SAFE_ADDRESS)<span class="question-mark">?</span>,
            H160::from_str(SAFE_SAFEPROXYFACTORY_ADDRESS)<span class="question-mark">?</span>,
        )<span class="question-mark">?</span>;

        <span class="macro">debug!</span>(<span class="string">"predict_safe_address {:?}"</span>, safe_address);

        <span class="comment">// deploy a safe proxy instance and a module proxy instance with multicall as an owner
        </span><span class="kw">let </span>deployment_receipt = instances
            .stake_factory
            .clone(
                instances.module_implementation.address(),
                <span class="macro">vec!</span>[caller],
                nonce.into(),
                U256::from_str(<span class="kw-2">&amp;</span>default_target)<span class="question-mark">?</span>.into(),
            )
            .send()
            .<span class="kw">await</span><span class="question-mark">?
            </span>.<span class="kw">await</span><span class="question-mark">?
            </span>.unwrap();
        <span class="macro">debug!</span>(<span class="string">"deployment_receipt {:?}"</span>, deployment_receipt);
        <span class="comment">// parse the safe and module addresses
        </span><span class="kw">let </span>module_log = deployment_receipt
            .logs
            .iter()
            .find(|log| log.topics[<span class="number">0</span>].eq(<span class="kw-2">&amp;</span>NEW_HOPR_NODE_STAKE_MODULE_TOPIC.parse::&lt;H256&gt;().unwrap()))
            .ok_or(HelperErrors::ContractNotDeployed(<span class="string">"module"</span>.into()))<span class="question-mark">?</span>; <span class="comment">// "NewHoprNodeStakeModule(address,address)

        </span><span class="macro">debug!</span>(<span class="string">"module_log {:?}"</span>, module_log);
        <span class="kw">let </span>safe_log = deployment_receipt
            .logs
            .iter()
            .find(|log| log.topics[<span class="number">0</span>].eq(<span class="kw-2">&amp;</span>NEW_HOPR_NODE_STAKE_SAFE_TOPIC.parse::&lt;H256&gt;().unwrap()))
            .ok_or(HelperErrors::ContractNotDeployed(<span class="string">"safe"</span>.into()))<span class="question-mark">?</span>; <span class="comment">// "NewHoprNodeStakeSafe(address)"
        </span><span class="macro">debug!</span>(<span class="string">"safe_log {:?}"</span>, safe_log);
        <span class="kw">let </span>module_addr = H160::decode(module_log.data.clone())<span class="question-mark">?</span>;
        <span class="macro">debug!</span>(<span class="string">"module_addr {:?}"</span>, module_addr);

        <span class="kw">let </span>safe_addr = H160::decode(safe_log.data.clone())<span class="question-mark">?</span>;
        <span class="macro">debug!</span>(<span class="string">"safe_addr {:?}"</span>, safe_addr);

        <span class="macro">assert_eq!</span>(module_addr, module_address, <span class="string">"module prediction does not match"</span>);
        <span class="macro">assert_eq!</span>(safe_addr, safe_address, <span class="string">"safe prediction does not match"</span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_deploy_safe_and_module() -&gt; anyhow::Result&lt;()&gt; {
        <span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="comment">// prepare some input data
        </span><span class="kw">let </span><span class="kw-2">mut </span>admin_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            admin_addresses.push(get_random_address_for_testing().into());
        }
        <span class="kw">let </span><span class="kw-2">mut </span>node_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            node_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// register some nodes
        </span><span class="kw">let </span>(safe, node_module) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">Some</span>(node_addresses.clone()),
            admin_addresses.clone(),
            U256::from(<span class="number">2</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check announcement is a target
        </span><span class="kw">let </span>try_get_announcement_target = node_module
            .try_get_target(instances.announcements.address())
            .call()
            .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert!</span>(try_get_announcement_target.<span class="number">0</span>, <span class="string">"announcement is not a target"</span>);

        <span class="comment">// check allowance for channel contract has increased
        </span><span class="kw">let </span>allowance = instances
            .token
            .allowance(safe.address(), instances.channels.address())
            .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(allowance, U256::max_value(), <span class="string">"allowance is not set"</span>);

        <span class="comment">// check nodes have been included in the module
        </span><span class="kw">for </span>node_address <span class="kw">in </span>node_addresses {
            <span class="kw">let </span>is_node_included = node_module.is_node(node_address).call().<span class="kw">await</span><span class="question-mark">?</span>;
            <span class="macro">assert!</span>(is_node_included, <span class="string">"failed to include a node"</span>);
        }

        <span class="comment">// check owners are provided admins
        </span><span class="kw">let </span>owners = safe.get_owners().call().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>thresold = safe.get_threshold().call().<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(owners.len(), <span class="number">2</span>, <span class="string">"should have 2 owners"</span>);
        <span class="kw">for </span>(i, owner) <span class="kw">in </span>owners.iter().enumerate() {
            <span class="macro">assert_eq!</span>(owner, <span class="kw-2">&amp;</span>admin_addresses[i], <span class="string">"admin is wrong"</span>);
        }
        <span class="macro">assert_eq!</span>(thresold, U256::from(<span class="number">2</span>), <span class="string">"threshold should be two"</span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_safe_tx_via_multisend() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// set allowance for token transfer for the safe multiple times
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="comment">// prepare some input data
        </span><span class="kw">let </span>desired_amount = <span class="macro">vec!</span>[U256::from(<span class="number">1</span>), U256::from(<span class="number">2</span>), U256::from(<span class="number">3</span>), U256::from(<span class="number">4</span>)];

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// create a safe
        </span><span class="kw">let </span>(safe, _node_module) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">None</span>,
            <span class="macro">vec!</span>[contract_deployer.public().to_address().into()],
            U256::from(<span class="number">1</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check owner of safe
        </span><span class="kw">let </span>is_owner = safe.get_owners().call().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert_eq!</span>(is_owner.len(), <span class="number">1</span>, <span class="string">"safe has too many owners"</span>);
        <span class="macro">assert_eq!</span>(
            is_owner[<span class="number">0</span>],
            contract_deployer.public().to_address().into(),
            <span class="string">"safe wrong owner"
        </span>);

        <span class="comment">// check allowance for channel contract is zero
        </span><span class="kw">let </span>allowance = instances
            .token
            .allowance(safe.address(), instances.channels.address())
            .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(allowance, U256::max_value(), <span class="string">"allowance initiation is wrong"</span>);

        <span class="kw">let </span><span class="kw-2">mut </span>multisend_txns: Vec&lt;MultisendTransaction&gt; = Vec::new();
        <span class="kw">for </span>val <span class="kw">in </span>desired_amount {
            multisend_txns.push(MultisendTransaction {
                <span class="comment">// build multisend tx payload
                </span>encoded_data: ApproveCall {
                    spender: instances.channels.address(),
                    value: val,
                }
                .encode()
                .into(),
                tx_operation: SafeTxOperation::Call,
                to: instances.token.address(),
                value: U256::zero(),
            });
        }

        <span class="comment">// get chain_id and safe_nonce
        </span><span class="kw">let </span>chain_id = client.get_chainid().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>safe_nonce = safe.nonce().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">debug!</span>(<span class="string">"safe address {:?}"</span>, safe.address());
        <span class="macro">debug!</span>(<span class="string">"chain_id {:?}"</span>, chain_id);
        <span class="macro">debug!</span>(<span class="string">"safe_nonce {:?}"</span>, safe_nonce);

        <span class="comment">// send safe transaction
        </span>send_multisend_safe_transaction_with_threshold_one(
            safe.clone(),
            contract_deployer,
            H160::from_str(SAFE_MULTISEND_ADDRESS)<span class="question-mark">?</span>,
            multisend_txns,
            chain_id,
            safe_nonce,
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check allowance for channel contract is 4
        </span><span class="kw">let </span>new_allowance = instances
            .token
            .allowance(safe.address(), instances.channels.address())
            .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(new_allowance, U256::from(<span class="number">4</span>), <span class="string">"final allowance is not desired"</span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_register_nodes_to_node_safe_registry() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// set allowance for token transfer for the safe multiple times
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>deployer_vec: Vec&lt;H160&gt; = <span class="macro">vec!</span>[contract_deployer.public().to_address().into()];

        <span class="comment">// create a safe
        </span><span class="kw">let </span>(safe, node_module) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">Some</span>(deployer_vec.clone()),
            deployer_vec.clone(),
            U256::from(<span class="number">1</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// register one node to safe
        </span>instances
            .safe_registry
            .register_safe_by_node(safe.address())
            .send()
            .<span class="kw">await</span><span class="question-mark">?
            </span>.<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get registration info
        </span><span class="kw">let </span>get_registered_safe =
            get_registered_safes_for_nodes_on_node_safe_registry(instances.safe_registry.clone(), deployer_vec.clone())
                .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(get_registered_safe.len(), <span class="number">1</span>, <span class="string">"cannot read registered safe"</span>);
        <span class="macro">assert_eq!</span>(get_registered_safe[<span class="number">0</span>], safe.address(), <span class="string">"registered safe is wrong"</span>);

        <span class="comment">// deregister the node from safe
        </span>deregister_nodes_from_node_safe_registry_and_remove_from_module(
            instances.safe_registry.clone(),
            deployer_vec.clone(),
            <span class="macro">vec!</span>[node_module.address()],
            contract_deployer.clone(),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// get registration info (updated)
        </span><span class="kw">let </span>get_registered_safe =
            get_registered_safes_for_nodes_on_node_safe_registry(instances.safe_registry.clone(), deployer_vec.clone())
                .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(get_registered_safe.len(), <span class="number">1</span>, <span class="string">"cannot read registered safe"</span>);
        <span class="macro">assert_eq!</span>(get_registered_safe[<span class="number">0</span>], H160::zero(), <span class="string">"node is still registered"</span>);

        <span class="comment">// node is removed
        </span><span class="kw">let </span>is_removed = node_module
            .is_node(contract_deployer.public().to_address().into())
            .call()
            .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(!is_removed, <span class="string">"node is not removed"</span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_include_nodes_to_module() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// set allowance for token transfer for the safe multiple times
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="kw">let </span><span class="kw-2">mut </span>node_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            node_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>deployer_vec: Vec&lt;H160&gt; = <span class="macro">vec!</span>[contract_deployer.public().to_address().into()];

        <span class="comment">// create a safe
        </span><span class="kw">let </span>(safe, node_module) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">None</span>,
            deployer_vec.clone(),
            U256::from(<span class="number">1</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check ndoes are not included
        </span><span class="kw">for </span>node_addr <span class="kw">in </span>node_addresses.clone() {
            <span class="comment">// node is removed
            </span><span class="kw">let </span>node_is_not_included = node_module.is_node(node_addr).call().<span class="kw">await</span><span class="question-mark">?</span>;
            <span class="macro">assert!</span>(!node_is_not_included, <span class="string">"node should not be included"</span>);
        }

        <span class="comment">// include nodes to safe
        </span>include_nodes_to_module(safe, node_addresses.clone(), node_module.address(), contract_deployer).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check ndoes are included
        // check ndoes are not included
        </span><span class="kw">for </span>node_addr <span class="kw">in </span>node_addresses {
            <span class="comment">// node is removed
            </span><span class="kw">let </span>node_is_included = node_module.is_node(node_addr).call().<span class="kw">await</span><span class="question-mark">?</span>;
            <span class="macro">assert!</span>(node_is_included, <span class="string">"node should be included"</span>);
        }
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_migrate_nodes_to_new_network() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// set allowance for token transfer for the safe multiple times
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="kw">let </span><span class="kw-2">mut </span>node_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            node_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>self_address: H160 = contract_deployer.public().to_address().into();
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// deploy some new contracts for the new network
        </span><span class="kw">let </span>new_safe_registry = HoprNodeSafeRegistry::deploy(client.clone(), ())<span class="question-mark">?</span>.send().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>new_token = HoprToken::deploy(client.clone(), ())<span class="question-mark">?</span>.send().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>new_channels = HoprChannels::deploy(
            client.clone(),
            ethers::abi::Token::Tuple(<span class="macro">vec!</span>[
                ethers::abi::Token::Address(new_token.address()),
                ethers::abi::Token::Uint(<span class="number">1_u32</span>.into()),
                ethers::abi::Token::Address(new_safe_registry.address()),
            ]),
        )<span class="question-mark">?
        </span>.send()
        .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>new_announcements =
            HoprAnnouncements::deploy(client.clone(), ethers::abi::Token::Address(new_safe_registry.address()))<span class="question-mark">?
                </span>.send()
                .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>_new_network_registry = HoprNetworkRegistry::deploy(
            client.clone(),
            (
                ethers::types::Address::from(instances.network_registry_proxy.address()),
                self_address,
                self_address,
            ),
        )<span class="question-mark">?
        </span>.send()
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>deployer_vec: Vec&lt;H160&gt; = <span class="macro">vec!</span>[self_address];

        <span class="comment">// create a safe
        </span><span class="kw">let </span>(safe, node_module) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">None</span>,
            deployer_vec.clone(),
            U256::from(<span class="number">1</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check new network is not included
        </span><span class="kw">let </span>old_channels_inclusion = node_module.try_get_target(instances.channels.address()).call().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(old_channels_inclusion.<span class="number">0</span>, <span class="string">"old channel should be included"</span>);
        <span class="kw">let </span>new_channels_inclusion = node_module.try_get_target(new_channels.address()).call().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(!new_channels_inclusion.<span class="number">0</span>, <span class="string">"new channel should not be included"</span>);

        <span class="comment">// migrate nodes
        </span>migrate_nodes(
            safe,
            node_module.address(),
            new_channels.address(),
            new_token.address(),
            new_announcements.address(),
            U256::max_value(),
            contract_deployer,
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// check new network is included
        </span><span class="kw">let </span>old_channels_inclusion = node_module.try_get_target(instances.channels.address()).call().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(old_channels_inclusion.<span class="number">0</span>, <span class="string">"old channel should still be included"</span>);
        <span class="kw">let </span>new_channels_inclusion = node_module.try_get_target(new_channels.address()).call().<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="macro">assert!</span>(new_channels_inclusion.<span class="number">0</span>, <span class="string">"new channel should now be included"</span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_debug_node_safe_module_setup_on_balance_and_registries() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// set allowance for token transfer for the safe multiple times
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="kw">let </span><span class="kw-2">mut </span>node_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            node_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>deployer_vec: Vec&lt;H160&gt; = <span class="macro">vec!</span>[contract_deployer.public().to_address().into()];

        <span class="comment">// create a safe
        </span><span class="kw">let </span>(safe, <span class="kw">_</span>) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">None</span>,
            deployer_vec.clone(),
            U256::from(<span class="number">1</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="kw">let </span>registered_safe_before_registration = debug_node_safe_module_setup_on_balance_and_registries(
            instances.network_registry.clone(),
            instances.safe_registry.clone(),
            <span class="kw-2">&amp;</span>node_addresses[<span class="number">0</span>],
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(
            registered_safe_before_registration,
            H160::zero(),
            <span class="string">"safe is already registered"
        </span>);

        <span class="comment">// register some nodes
        </span><span class="kw">let </span>(<span class="kw">_</span>, <span class="kw">_</span>) = register_safes_and_nodes_on_network_registry(
            instances.network_registry.clone(),
            <span class="macro">vec!</span>[safe.address()],
            <span class="macro">vec!</span>[node_addresses[<span class="number">0</span>]],
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>registered_safe_after_registration = debug_node_safe_module_setup_on_balance_and_registries(
            instances.network_registry.clone(),
            instances.safe_registry.clone(),
            <span class="kw-2">&amp;</span>node_addresses[<span class="number">0</span>],
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="macro">assert_eq!</span>(
            registered_safe_after_registration,
            safe.address(),
            <span class="string">"safe is not registered"
        </span>);
        <span class="prelude-val">Ok</span>(())
    }

    <span class="attr">#[async_std::test]
    </span><span class="kw">async fn </span>test_debug_node_safe_module_setup_main() -&gt; anyhow::Result&lt;()&gt; {
        <span class="comment">// set allowance for token transfer for the safe multiple times
        </span><span class="kw">let _ </span>= env_logger::builder().is_test(<span class="bool-val">true</span>).try_init();

        <span class="kw">let </span><span class="kw-2">mut </span>node_addresses: Vec&lt;ethers::types::Address&gt; = Vec::new();
        <span class="kw">for _ in </span><span class="number">0</span>..<span class="number">2 </span>{
            node_addresses.push(get_random_address_for_testing().into());
        }

        <span class="comment">// launch local anvil instance
        </span><span class="kw">let </span>anvil = chain_types::utils::create_anvil(<span class="prelude-val">None</span>);
        <span class="kw">let </span>contract_deployer = ChainKeypair::from_secret(anvil.keys()[<span class="number">0</span>].to_bytes().as_ref())<span class="question-mark">?</span>;
        <span class="kw">let </span>client = create_rpc_client_to_anvil(SurfRequestor::default(), <span class="kw-2">&amp;</span>anvil, <span class="kw-2">&amp;</span>contract_deployer);
        <span class="kw">let </span>instances = ContractInstances::deploy_for_testing(client.clone(), <span class="kw-2">&amp;</span>contract_deployer)
            .<span class="kw">await
            </span>.expect(<span class="string">"failed to deploy"</span>);
        <span class="comment">// deploy multicall contract
        </span>deploy_multicall3_for_testing(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="comment">// deploy safe suits
        </span>deploy_safe_suites(client.clone()).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="kw">let </span>deployer_vec: Vec&lt;H160&gt; = <span class="macro">vec!</span>[contract_deployer.public().to_address().into()];

        <span class="comment">// create a safe
        </span><span class="kw">let </span>(safe, node_module) = deploy_safe_module_with_targets_and_nodes(
            instances.stake_factory,
            instances.token.address(),
            instances.channels.address(),
            instances.module_implementation.address(),
            instances.announcements.address(),
            U256::max_value(),
            <span class="prelude-val">None</span>,
            deployer_vec.clone(),
            U256::from(<span class="number">1</span>),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="comment">// register some nodes
        </span><span class="kw">let </span>(<span class="kw">_</span>, <span class="kw">_</span>) = register_safes_and_nodes_on_network_registry(
            instances.network_registry.clone(),
            <span class="macro">vec!</span>[safe.address()],
            <span class="macro">vec!</span>[node_addresses[<span class="number">0</span>]],
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;

        debug_node_safe_module_setup_main(
            instances.token.clone(),
            <span class="kw-2">&amp;</span>node_module.address(),
            <span class="kw-2">&amp;</span>node_addresses[<span class="number">0</span>],
            <span class="kw-2">&amp;</span>safe.address(),
            <span class="kw-2">&amp;</span>instances.channels.address(),
            <span class="kw-2">&amp;</span>instances.announcements.address(),
        )
        .<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="prelude-val">Ok</span>(())
    }
}
</code></pre></div></section></main></body></html>