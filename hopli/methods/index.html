<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module contains all the methods used for onchain interaction, especially with Safe instance, Mutlicall, and Multisend contracts."><title>hopli::methods - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-42fa08075bb476ff.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="hopli" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-nightly (363ae4188 2024-09-24)" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-54bc299d2a5e4e43.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../hopli/index.html">hopli</a><span class="version">0.7.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module methods</a></h2><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate hopli</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">hopli</a></span><h1>Module <span>methods</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/hopli/methods.rs.html#1-2497">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module contains all the methods used for onchain interaction, especially with Safe instance, Mutlicall, and Multisend contracts.</p>
<p><a href="enum.SafeTxOperation.html" title="enum hopli::methods::SafeTxOperation">SafeTxOperation</a> corresponds to the <code>Operation</code> Enum used in Safe smart contract.</p>
<p><a href="struct.MultisendTransaction.html" title="struct hopli::methods::MultisendTransaction">MultisendTransaction</a> struct is used for building transactions interacting with Multisend contract</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="safe_singleton/index.html" title="mod hopli::methods::safe_singleton">safe_singleton</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="module_singleton/index.html" title="mod hopli::methods::module_singleton">module_singleton</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="multi_send/index.html" title="mod hopli::methods::multi_send">multi_send</a>::*;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="module_singleton/index.html" title="mod hopli::methods::module_singleton">module_<wbr>singleton</a></div><div class="desc docblock-short">This module was auto-generated with ethers-rs Abigen.
More information at: <a href="https://github.com/gakonst/ethers-rs">https://github.com/gakonst/ethers-rs</a></div></li><li><div class="item-name"><a class="mod" href="multi_send/index.html" title="mod hopli::methods::multi_send">multi_<wbr>send</a></div><div class="desc docblock-short">This module was auto-generated with ethers-rs Abigen.
More information at: <a href="https://github.com/gakonst/ethers-rs">https://github.com/gakonst/ethers-rs</a></div></li><li><div class="item-name"><a class="mod" href="safe_singleton/index.html" title="mod hopli::methods::safe_singleton">safe_<wbr>singleton</a></div><div class="desc docblock-short">This module was auto-generated with ethers-rs Abigen.
More information at: <a href="https://github.com/gakonst/ethers-rs">https://github.com/gakonst/ethers-rs</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.MultisendTransaction.html" title="struct hopli::methods::MultisendTransaction">Multisend<wbr>Transaction</a></div><div class="desc docblock-short">Struct to make a multisend transaction, mainly used by safe instances</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.SafeTxOperation.html" title="enum hopli::methods::SafeTxOperation">Safe<wbr>TxOperation</a></div><div class="desc docblock-short">Enums of Safe transaction operation</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.debug_node_safe_module_setup_main.html" title="fn hopli::methods::debug_node_safe_module_setup_main">debug_<wbr>node_<wbr>safe_<wbr>module_<wbr>setup_<wbr>main</a></div><div class="desc docblock-short">Quick check if the following values are correct, for one single node:
4. If Safe is owned by the correct owner(s)
5. Safeâ€™s wxHOPR balance and allowance
6. if the module is enabled
7. if node is included in the module
8. Get all the targets of the safe (then check if channel and announcement are there)
9. Get the owner of the module</div></li><li><div class="item-name"><a class="fn" href="fn.debug_node_safe_module_setup_on_balance_and_registries.html" title="fn hopli::methods::debug_node_safe_module_setup_on_balance_and_registries">debug_<wbr>node_<wbr>safe_<wbr>module_<wbr>setup_<wbr>on_<wbr>balance_<wbr>and_<wbr>registries</a></div><div class="desc docblock-short">Quick check if the following values are correct, for one single node:</div></li><li><div class="item-name"><a class="fn" href="fn.deploy_multicall3_for_testing.html" title="fn hopli::methods::deploy_multicall3_for_testing">deploy_<wbr>multicall3_<wbr>for_<wbr>testing</a></div><div class="desc docblock-short">Deploy a MULTICALL contract into Anvil local chain for testing</div></li><li><div class="item-name"><a class="fn" href="fn.deploy_proxy.html" title="fn hopli::methods::deploy_proxy">deploy_<wbr>proxy</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">helper function to compute create2 safe proxy address</div></li><li><div class="item-name"><a class="fn" href="fn.deploy_safe_module_with_targets_and_nodes.html" title="fn hopli::methods::deploy_safe_module_with_targets_and_nodes">deploy_<wbr>safe_<wbr>module_<wbr>with_<wbr>targets_<wbr>and_<wbr>nodes</a></div><div class="desc docblock-short">Deploy a safe and a module proxies via HoprStakeFactory contract with default permissions and announcement targets
Within one multicall, as an owner of the safe:</div></li><li><div class="item-name"><a class="fn" href="fn.deregister_nodes_from_network_registry.html" title="fn hopli::methods::deregister_nodes_from_network_registry">deregister_<wbr>nodes_<wbr>from_<wbr>network_<wbr>registry</a></div><div class="desc docblock-short">Deregister safes and nodes from the network registry. Does not do any action on the eligibility.
It returns the number of removed nodes</div></li><li><div class="item-name"><a class="fn" href="fn.deregister_nodes_from_node_safe_registry_and_remove_from_module.html" title="fn hopli::methods::deregister_nodes_from_node_safe_registry_and_remove_from_module">deregister_<wbr>nodes_<wbr>from_<wbr>node_<wbr>safe_<wbr>registry_<wbr>and_<wbr>remove_<wbr>from_<wbr>module</a></div><div class="desc docblock-short">Deregister safes and nodes from the node-safe registry.
It returns the number of removed nodes</div></li><li><div class="item-name"><a class="fn" href="fn.force_sync_safes_on_network_registry.html" title="fn hopli::methods::force_sync_safes_on_network_registry">force_<wbr>sync_<wbr>safes_<wbr>on_<wbr>network_<wbr>registry</a></div><div class="desc docblock-short">Force-sync the eligibility to given values. This can only be called with a manager account</div></li><li><div class="item-name"><a class="fn" href="fn.get_chain_id_and_safe_nonce.html" title="fn hopli::methods::get_chain_id_and_safe_nonce">get_<wbr>chain_<wbr>id_<wbr>and_<wbr>safe_<wbr>nonce</a></div><div class="desc docblock-short">Get chain id and safe nonce</div></li><li><div class="item-name"><a class="fn" href="fn.get_domain_separator.html" title="fn hopli::methods::get_domain_separator">get_<wbr>domain_<wbr>separator</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">get the domain separator of a safe instance
contract_address should be safe address</div></li><li><div class="item-name"><a class="fn" href="fn.get_native_and_token_balances.html" title="fn hopli::methods::get_native_and_token_balances">get_<wbr>native_<wbr>and_<wbr>token_<wbr>balances</a></div><div class="desc docblock-short">Get native balance and hopr token balance for given addresses</div></li><li><div class="item-name"><a class="fn" href="fn.get_registered_safes_for_nodes_on_network_registry.html" title="fn hopli::methods::get_registered_safes_for_nodes_on_network_registry">get_<wbr>registered_<wbr>safes_<wbr>for_<wbr>nodes_<wbr>on_<wbr>network_<wbr>registry</a></div><div class="desc docblock-short">Get registered safes for given nodes on the network registry</div></li><li><div class="item-name"><a class="fn" href="fn.get_registered_safes_for_nodes_on_node_safe_registry.html" title="fn hopli::methods::get_registered_safes_for_nodes_on_node_safe_registry">get_<wbr>registered_<wbr>safes_<wbr>for_<wbr>nodes_<wbr>on_<wbr>node_<wbr>safe_<wbr>registry</a></div><div class="desc docblock-short">Get registered safes for given nodes on the node-safe registry</div></li><li><div class="item-name"><a class="fn" href="fn.get_safe_transaction_hash.html" title="fn hopli::methods::get_safe_transaction_hash">get_<wbr>safe_<wbr>transaction_<wbr>hash</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Implement getTransactionHash() function as in vendor/solidity/safe-contracts-1.4.1/contracts/Safe.sol
Note that <code>safeTxGas</code>, <code>baseGas</code>, and <code>gasPrice</code> are zero; <code>gasToken</code> is also address zero</div></li><li><div class="item-name"><a class="fn" href="fn.get_salt_from_salt_nonce.html" title="fn hopli::methods::get_salt_from_salt_nonce">get_<wbr>salt_<wbr>from_<wbr>salt_<wbr>nonce</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">helper function to get salt nonce</div></li><li><div class="item-name"><a class="fn" href="fn.include_nodes_to_module.html" title="fn hopli::methods::include_nodes_to_module">include_<wbr>nodes_<wbr>to_<wbr>module</a></div><div class="desc docblock-short">Include nodes to the module</div></li><li><div class="item-name"><a class="fn" href="fn.migrate_nodes.html" title="fn hopli::methods::migrate_nodes">migrate_<wbr>nodes</a></div><div class="desc docblock-short">Migrate nodes to be able to run in a new network.</div></li><li><div class="item-name"><a class="fn" href="fn.predict_module_address.html" title="fn hopli::methods::predict_module_address">predict_<wbr>module_<wbr>address</a></div><div class="desc docblock-short">Helper function to predict module address. Note that here the caller is the contract deployer</div></li><li><div class="item-name"><a class="fn" href="fn.predict_safe_address.html" title="fn hopli::methods::predict_safe_address">predict_<wbr>safe_<wbr>address</a></div><div class="desc docblock-short">Helper function to predict safe address</div></li><li><div class="item-name"><a class="fn" href="fn.prepare_safe_tx_from_owner_contract.html" title="fn hopli::methods::prepare_safe_tx_from_owner_contract">prepare_<wbr>safe_<wbr>tx_<wbr>from_<wbr>owner_<wbr>contract</a></div><div class="desc docblock-short">Wrap a transaction into a safe transaction payload
Add the safe transaction to multicall</div></li><li><div class="item-name"><a class="fn" href="fn.register_safes_and_nodes_on_network_registry.html" title="fn hopli::methods::register_safes_and_nodes_on_network_registry">register_<wbr>safes_<wbr>and_<wbr>nodes_<wbr>on_<wbr>network_<wbr>registry</a></div><div class="desc docblock-short">Register safes and nodes to the network registry, and force-sync the eligibility to true.
It returns the number of removed nodes and nodes being added.</div></li><li><div class="item-name"><a class="fn" href="fn.send_multisend_safe_transaction_with_threshold_one.html" title="fn hopli::methods::send_multisend_safe_transaction_with_threshold_one">send_<wbr>multisend_<wbr>safe_<wbr>transaction_<wbr>with_<wbr>threshold_<wbr>one</a></div><div class="desc docblock-short">Use safe to delegatecall to multisend contract
Note that when no additional signature is provided, the safe must have a threshold of one,
so that the transaction can be executed.
Note that the refund address is the caller (safe owner) wallet</div></li><li><div class="item-name"><a class="fn" href="fn.send_safe_transaction_with_threshold_one.html" title="fn hopli::methods::send_safe_transaction_with_threshold_one">send_<wbr>safe_<wbr>transaction_<wbr>with_<wbr>threshold_<wbr>one</a></div><div class="desc docblock-short">Send one transaction via safe</div></li><li><div class="item-name"><a class="fn" href="fn.transfer_native_tokens.html" title="fn hopli::methods::transfer_native_tokens">transfer_<wbr>native_<wbr>tokens</a></div><div class="desc docblock-short">Transfer some native tokens from the caller to the list of addresses
Address_i receives amounts_i native tokens.</div></li><li><div class="item-name"><a class="fn" href="fn.transfer_or_mint_tokens.html" title="fn hopli::methods::transfer_or_mint_tokens">transfer_<wbr>or_<wbr>mint_<wbr>tokens</a></div><div class="desc docblock-short">Transfer some HOPR tokens from the caller to the list of addresses
Address_i receives amounts_i HOPR tokens.
When thereâ€™s not enough token in callerâ€™s balance, if the caller is
a minter, mint the missing tokens. If not, returns error</div></li></ul></section></div></main></body></html>